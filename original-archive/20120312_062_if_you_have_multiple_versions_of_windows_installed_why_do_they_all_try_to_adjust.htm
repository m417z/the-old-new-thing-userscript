<html>
<head>
<title>If you have multiple versions of Windows installed, why do they all try to adjust the clock?</title>
<link rel="stylesheet" href="page.css">
</head><body>
<div class="titlediv"><h2>If you have multiple versions of Windows installed, why do they all try to adjust the clock?</h2></div>
<div class="hdrdiv"><table class="hdrtable" cellspacing="0" cellpadding="0">
<tr><td><b>Date:</b></td><td>March 12, 2012 / year-entry #63</td></tr>
<tr><td><b>Tags:</b></td><td>other</td></tr>
<tr><td><b>Orig Link:</b></td><td>https://blogs.msdn.microsoft.com/oldnewthing/20120312-00/?p=8123</td></tr>

<tr><td><b>Comments:&nbsp;&nbsp;&nbsp;&nbsp;</b></td><td>48</td></tr>
<tr><td valign="top"><b>Summary:</b></td><td valign="top">Commenter Martin notes that if you have multiple copies of Windows installed on your machine, then each one will try to adjust the clock when you enter or exit daylight saving time. "I cannot believe that this feature is a bug. Please could you comment this?" This falls into a category of issue that I...</td></tr>
</table></div>
<hr/>
<table class="contenttable" cellspacing="0" cellpadding="0"><tr><td><div class="contentdiv">
<!-- CONTENT START -->
<p>Commenter Martin notes that if you have multiple copies of Windows installed on your machine, then each one will try to adjust the clock when you enter or exit daylight saving time. "I cannot believe that this feature is a bug. <a href="http://blogs.msdn.com/b/oldnewthing/archive/2010/07/20/10040074.aspx#10040349"> Please could you comment this</a>?"</p>
<p> This falls into a category of issue that I like to call "So what did you expect?" (This was the catch phrase of the old <a href="http://apple2history.org/history/ah20/#03"> Call-A.P.P.L.E.</a> magazine.) </p>
<p> If you have multiple operating systems installed on your machine, each one thinks that it has control of your computer. It's not like there's some standard cross-operating system mechanism for negotiating control of hardware resources. If you install CP/M and MINIX on your machine, each one is unaware of the presence of the other. CP/M doesn't know how to mount MINIX file systems and update a configuration file to say "Hey, I updated the time, you don't need to." </p>
<p> And not that you would expect it to, either. </p>
<p> It's like signing up for two housekeeping services and telling both of them to water the plants every Monday. And lo and behold, every Monday, the plants get double-watered. There's no standard protocol for multiple housekeeping services to coordinate their activities; each housekeeping service assumes it's responsible for cleaning your house. </p>
<p> <b>Bonus reading</b>: <a href="http://blogs.msdn.com/b/oldnewthing/archive/2004/09/02/224672.aspx"> Why does Windows keep your BIOS clock on local time</a>? </p>
<!-- CONTENT END -->
</div></td></tr></table>
<hr/>
<table class="commenttable" cellspacing="0" cellpadding="0"><tr><td><div class="commentdiv"><div class="commentdivhdr">
<!-- COMMENTS START -->
Comments (48)	</div>

	
			<div class="navigation pagination clear-both">
					</div>

		<ol class="comment-list">
					<li class="comment even thread-even depth-1" id="comment-971643">
				<div id="div-comment-971643" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Adam Rosenfield</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20120312-00/?p=8123#comment-971643">
			March 12, 2012 at 7:09 am</a>		</div>

		<p>Unlike CP/M, MINIX, and housekeepers, Microsoft certainly could create such a protocol to be used only by Windows (and optionally by other OSes attempting to be compatible), but given the whole -100 points thing, this isn&#39;t likely to ever get enough traction to implement.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-971653">
				<div id="div-comment-971653" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Raphael</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20120312-00/?p=8123#comment-971653">
			March 12, 2012 at 7:11 am</a>		</div>

		<p>&quot;So what did you expect?&quot;</p>
<p>Well, keeping the time in some kind of timezone-independent way, much like UTC. Or maybe UTC. Yes, I&#39;ve read the bonus reading. But I don&#39;t think the reasons stated are valid any more. Because, seriously, who actually sets their system time via BIOS instead of, say, NTP? And if you dual-boot with an OS that is no longer supported, it&#39;s their own fault. Basically, when the Vista (or later) installer did not detect any legacy OS (and by that I mean 2000/ME or newer) it should have set the Windows to use UTC.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-971663">
				<div id="div-comment-971663" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Timothy Fries</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20120312-00/?p=8123#comment-971663">
			March 12, 2012 at 7:31 am</a>		</div>

		<p>&quot;And if you dual-boot with an OS that is no longer supported, it&#39;s their own fault.&quot;</p>
<p>So your solution is to take something that more or less works now and break it just for the sake of ensuring that a clock a user should never directly see is &quot;right&quot;, for one definition of &quot;right&quot;?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-971673">
				<div id="div-comment-971673" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Roastbeef</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20120312-00/?p=8123#comment-971673">
			March 12, 2012 at 7:53 am</a>		</div>

		<p>Raymond,</p>
<p>Since UEFI supports the concept of persistent environment variables, any chance you guys could store your &quot;hey, I updated for DST&quot; flag there so that at least multiple versions of windows can coexist? &nbsp;And hey, once you guys put something there I&#39;m sure the Linux folks could be persuaded to use it too.</p>
<div class="post">[<i>Not sure who &quot;you guys&quot; is, but that idea gets a +1 from me. You have to deal with the &quot;it works on some machines but not others&quot; confusion, though. -Raymond</i>]</div>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-971683">
				<div id="div-comment-971683" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">dave</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20120312-00/?p=8123#comment-971683">
			March 12, 2012 at 8:04 am</a>		</div>

		<p>The reason for BIOS = local time is &#39;compatibility&#39;. &nbsp; Nowadays, back-compatibility with DOS isn&#39;t particularly important. So let&#39;s go for compatibility with systems that are not Windows, and get the benefit of &#39;no double daylight-saving adjustments&#39; as well.</p>
<p>I&#39;m inclined to discount the confuse-the-user argument, on the grounds that the user who can&#39;t grasp &#39;BIOS = UTC&#39; is likely already confused by merely looking at BIOS screens. &nbsp;Good lord, the BIOS expects them to comprehend arcana such as &#39;ATA vs. AHCI&#39;.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-971693">
				<div id="div-comment-971693" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Joshua</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20120312-00/?p=8123#comment-971693">
			March 12, 2012 at 8:19 am</a>		</div>

		<p>I must second Roastbeef. Whoever came up with this idea didn&#39;t do it right.</p>
<div class="post">[<i>So we all agree to blame CP/M? -Raymond</i>]</div>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-971703">
				<div id="div-comment-971703" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">John</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20120312-00/?p=8123#comment-971703">
			March 12, 2012 at 8:19 am</a>		</div>

		<p>@dave: &nbsp;The BIOS expects nothing; it only exposes functionality. &nbsp;The average user has no clue about &#39;ATA vs. AHCI&#39;, but they certainly are capable of adjusting the clock. &nbsp;These days that type of thing is probably best left deferred to the operating system; the average user has no need to mess with the BIOS at all.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-971713">
				<div id="div-comment-971713" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Roger</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20120312-00/?p=8123#comment-971713">
			March 12, 2012 at 8:39 am</a>		</div>

		<p>Note that it wouldn&#39;t be safe to go ahead and mount other file systems. &nbsp;Their host operating system could have hibernated so making changes would diverge from the state in the hibernation image which leads to corruption on resume. &nbsp;The only safe thing is neutral territory such as UEFI variables as mentioned by another poster.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-971733">
				<div id="div-comment-971733" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Jean</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20120312-00/?p=8123#comment-971733">
			March 12, 2012 at 9:17 am</a>		</div>

		<p>Chain of events:</p>
<ul>
<li>Raymond publishes the article, along with bonus reading</li>
<li>
<p>I go and read the bonus reading, even though I already read it once</p>
</li>
<li>
<p>I find a link in the comments that points to a link to <a rel="nofollow" target="_new" href="http://www.cl.cam.ac.uk/~mgk25/mswish/ut-rtc.html" rel="nofollow">http://www.cl.cam.ac.uk/&#8230;/ut-rtc.html</a></p>
</li>
<li>
<p>That link explains (but in a 2008 update) that setting a registry key named &quot;RealTimeIsUniversal&quot; in &quot;HKEY_LOCAL_MACHINESYSTEMCurrentControlSetControlTimeZoneInformation&quot; to a value of &quot;1&quot; allows users of Windows Vista SP2 and Windows 7, to specify that the RTC should be set according to UTC.</p>
</li>
</ul>
<p>So I guess that fixes both the problems in bonus reading, and potentially in that post. I will set that up as soon as I am back home.</p>
<p>So in the end, without Raymond&#39;s today&#39;s post, I may not have even heard of that registry key. Thank you Raymond!</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-971743">
				<div id="div-comment-971743" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://blogs.msdn.com/johnstonj_4000_inn_2D00_soft.com/ProfileUrlRedirect.ashx' rel='external nofollow' class='url'>johnstonj@inn-soft.com</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20120312-00/?p=8123#comment-971743">
			March 12, 2012 at 9:23 am</a>		</div>

		<p>Once again, this is why I set my time zone in Windows and other operating systems to UTC. &nbsp;Avoids this whole mess!</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-maurits even thread-even depth-1" id="comment-971763">
				<div id="div-comment-971763" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Maurits+%5BMSFT%5D' rel='external nofollow' class='url'>Maurits [MSFT]</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20120312-00/?p=8123#comment-971763">
			March 12, 2012 at 9:37 am</a>		</div>

		<p>+1 for storing the BIOS clock in UTC; how does storing the clock in local time work if different users have different time zones?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-971773">
				<div id="div-comment-971773" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">dbt</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20120312-00/?p=8123#comment-971773">
			March 12, 2012 at 9:40 am</a>		</div>

		<p>the UEFI variable seems like the only workable approach. &nbsp;Requiring BIOS UTC time is a non-starter and BIOSen should not deal with time zone offsets at all, they change too frequently. &nbsp;Hell, it&#39;s hard enough to keep operating systems patched to deal with the constant stream of DST timing changes.</p>
<p>BTW, according to Ezra Klein of the Washington Post, DST no longer works to conserve energy anyway. &nbsp;And it increases the number of traffic fatalities. &nbsp;<a rel="nofollow" target="_new" href="http://wapo.st/zx1YoN" rel="nofollow">http://wapo.st/zx1YoN</a></p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-971793">
				<div id="div-comment-971793" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Mordachai</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20120312-00/?p=8123#comment-971793">
			March 12, 2012 at 9:55 am</a>		</div>

		<p>+1 for storing BIOS in UTC &#8211; or even better, storing it in UEFI and having the old BIOS interrupts do internal backwards-compatibility translation to local time.</p>
<p>Storing local time in the BIOS, and having to have the OS adjust the internal CMOS time over &amp; over is a foolish, short-sighted decision made in the primordial ooze of the IBM PC.</p>
<p>Time to enter into some semblance of a modern era.</p>
<p>Oh &#8211; and preemptive counter-snark: Idiots who are confused by UTC have zero justification for being in the BIOS at all.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-971803">
				<div id="div-comment-971803" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Mordachai</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20120312-00/?p=8123#comment-971803">
			March 12, 2012 at 9:57 am</a>		</div>

		<p>Likewise, one can still blame Microsoft for failing to do a reality check when it decides it should adjust the local clock. Why not, at that point, dial up Redmond and check: am I adjusting the local clock to the right (actual) time now, or to some goofy value. If goofy, don&#39;t adjust. If correct, adjust.</p>
<div class="post">[<i>Because nobody would freak out if the computer spontaneously phoned home, right? -Raymond</i>]</div>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-971813">
				<div id="div-comment-971813" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">TripShock</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20120312-00/?p=8123#comment-971813">
			March 12, 2012 at 10:02 am</a>		</div>

		<p>Well, if you use Internet time in all the OSes, this is a non-issue, right?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-971823">
				<div id="div-comment-971823" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Joshua</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20120312-00/?p=8123#comment-971823">
			March 12, 2012 at 10:09 am</a>		</div>

		<p>[So we all agree to blame CP/M? -Raymond]</p>
<p>CP/M didn&#39;t auto-adjust the clock. Windows did, starting with Windows 95. Had the IsDSTActive bit been stored in the data bits of the MBR (there were a few still unallocated at the time), on the root of the primary partition, or in a spare bit in CMOS (I don&#39;t know if there were any) we would not have this problem today.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-971833">
				<div id="div-comment-971833" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Mordachai</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20120312-00/?p=8123#comment-971833">
			March 12, 2012 at 10:10 am</a>		</div>

		<p>@Raymond &#8211; doesn&#39;t Windows default to synchronizing the clock with &quot;internet time&quot; anyway?</p>
<p>Surely if that default is &quot;on&quot;, Windows can make that check without freaking anyone out. &nbsp;If &quot;off&quot; then don&#39;t check. &nbsp;Seems like edge-cases are driving the decision making at Redmond, rather than the normal (majority) case.</p>
<div class="post">[<i>Oh okay, tie it to that setting. But now you just launched a DDoS against the time server. Instead of spreading the load out evenly through the week, every computer hammers the time server at the same time. -Raymond</i>]</div>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-andycadley2 odd alt thread-odd thread-alt depth-1" id="comment-971843">
				<div id="div-comment-971843" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/AndyCadley' rel='external nofollow' class='url'>AndyCadley</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20120312-00/?p=8123#comment-971843">
			March 12, 2012 at 10:19 am</a>		</div>

		<p>Storing the BIOS clock in UTC doesn&#39;t actually fix the issue, because leap seconds cause exactly the same problem but in a much more subtle and difficult to diagnose way. Ultimately any solution based on having the RTC in some kind of &#39;real world&#39; clock is doomed to fail, replacing it with a monotonic counter independent of real world time is pretty much the only workable solution that avoids all the pitfalls.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-brunopitrus even thread-even depth-1" id="comment-971853">
				<div id="div-comment-971853" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/kinokijuf' rel='external nofollow' class='url'>kinokijuf</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20120312-00/?p=8123#comment-971853">
			March 12, 2012 at 10:25 am</a>		</div>

		<p>Regarding the bonus-readin: Maybe in the USA people call UTC „propeller-headed nonsense”, but here in Poland, we <em>understand</em> such things (And don’t mess with the BIOS).</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-971863">
				<div id="div-comment-971863" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">dave</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20120312-00/?p=8123#comment-971863">
			March 12, 2012 at 10:39 am</a>		</div>

		<p>Here in the USA, the 24-hour clock is still an advanced concept, under military jurisdiction.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-971873">
				<div id="div-comment-971873" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">David Totzke</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20120312-00/?p=8123#comment-971873">
			March 12, 2012 at 11:38 am</a>		</div>

		<p>Thanks Raymond. &nbsp;This explains why when I re-booted my laptop the clock was two hours fast last night. &nbsp;Windows 7 had adjusted the clock and then Windows Server 2008 R2 helpfully did it again.</p>
<p>I am, however, thankful for this as it alerted me to the fact that the clocks were changing yesterday.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-971883">
				<div id="div-comment-971883" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Joshua</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20120312-00/?p=8123#comment-971883">
			March 12, 2012 at 11:46 am</a>		</div>

		<p>@AndyCadley: I fix leap seconds with time skew combined with internet sync. Since I don&#39;t need one second accuracy (even though I need one second precision) this works no matter how many operating systems are installed.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-971903">
				<div id="div-comment-971903" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">JJJ</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20120312-00/?p=8123#comment-971903">
			March 12, 2012 at 12:41 pm</a>		</div>

		<p>My bios keeps the time in .beats. :/</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-andycadley2 odd alt thread-odd thread-alt depth-1" id="comment-971913">
				<div id="div-comment-971913" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/AndyCadley' rel='external nofollow' class='url'>AndyCadley</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20120312-00/?p=8123#comment-971913">
			March 12, 2012 at 12:58 pm</a>		</div>

		<p>@Joshua: It fixes the &quot;Is my wall clock right?&quot; issue, more or less, but doesn&#39;t really solve all the issues like security logs, reliable time conversion etc that are raised by Markus Kuhn in the article linked by jas88. If anything they all become a lot more subtle (although arguably he&#39;s largely ignoring inevitable clock skew between machines in most cases anyway)</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-971923">
				<div id="div-comment-971923" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">John Elliott</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20120312-00/?p=8123#comment-971923">
			March 12, 2012 at 12:59 pm</a>		</div>

		<p>[So we all agree to blame CP/M? -Raymond]</p>
<p>CP/M didn&#39;t even have support for a clock at the time MS-DOS was written.</p>
<div class="post">[<i>Fine. The IBM PC BIOS? Why would a computer with only 16KB of memory waste it on time zones anyway? -Raymond</i>]</div>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-971933">
				<div id="div-comment-971933" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Deduplicator</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20120312-00/?p=8123#comment-971933">
			March 12, 2012 at 1:02 pm</a>		</div>

		<p>@AndyCadley, with regard to Joshua: Andy, you have computer hardware actually keeping time accurately enough that UTC leap-seconds are killing you? I want some of that. Joshua, why didn&#39;t you prechew that reasoning, someone is bound to need it? ;-)</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-971953">
				<div id="div-comment-971953" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Gabe</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20120312-00/?p=8123#comment-971953">
			March 12, 2012 at 3:12 pm</a>		</div>

		<p>Heck, a machine with only 16k of memory probably doesn&#39;t even have a battery-backed clock anyway. I remember some computers used to ask you the date and time on every boot-up because there was no clock.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-andycadley2 odd alt thread-odd thread-alt depth-1" id="comment-971963">
				<div id="div-comment-971963" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/AndyCadley' rel='external nofollow' class='url'>AndyCadley</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20120312-00/?p=8123#comment-971963">
			March 12, 2012 at 3:30 pm</a>		</div>

		<p>@Deduplicator: The point is you don&#39;t actually solve the problems by switching to UTC, it&#39;s as flawed as using Local Time when it comes down to it. So you&#39;re better off sticking to Local Time and using the mechanisms already in place than trying to fix things by switching to UTC and just introducing new problems too.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-971973">
				<div id="div-comment-971973" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Joshua</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20120312-00/?p=8123#comment-971973">
			March 12, 2012 at 4:34 pm</a>		</div>

		<p>[Because nobody would freak out if the computer spontaneously phoned home, right? -Raymond]</p>
<p>Answer a fool according to his folly, lest he be right in his own eyes.</p>
<p>Do not answer a fool according to his folly, lest you become like him.</p>
<p>(I am not calling Raymond a fool.)</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-971783">
				<div id="div-comment-971783" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://blogs.msdn.com/jas71_4000_hotmail.com/ProfileUrlRedirect.ashx' rel='external nofollow' class='url'>jas71@hotmail.com</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20120312-00/?p=8123#comment-971783">
			March 12, 2012 at 9:55 am</a>		</div>

		<p>For machines set to sync via NTP, the daylight moving transition would be an obvious time to update, particularly if the machine was switched off over the transition point (which would also help server load by staggering it a bit) &#8211; that way, assuming the clock&#39;s more or less right, the system will know whether it&#39;s already been adjusted by an hour or not.</p>
<p>Of course, just having a &quot;summer time in effect&quot; flag in the BIOS would have avoided this from the outset; there&#39;s a nice symmetry in using a time machine to fix a time-keeping problem&#8230; Switching to using UTC (and perhaps storing timezone offset too?) as part of the UEFI spec would have been nice, though.</p>
<p>As Raymond explains, keeping the BIOS clock on local time is necessary in *some* cases (such as PCs dual-booting Win3.1), but on the non-PC architectures (MIPS, Alpha etc) Windows NT supported earlier, keeping it in UTC was necessary for similar reasons (dual-booting with OpenVMS or whatever) since those platforms tend to make the opposite assumption. So, the RealTimeIsUniversal registry entry was born: set to 1, Windows NT will treat the built in clock as being UTC rather than local time. With the loss of non-x86 support the feature was ignored and unmaintained for a while; Markus Kuhn has a web page about the UTC/local problem &#8211; <a rel="nofollow" target="_new" href="http://www.cl.cam.ac.uk/~mgk25/mswish/ut-rtc.html" rel="nofollow">http://www.cl.cam.ac.uk/&#8230;/ut-rtc.html</a> &#8211; saying &quot;Someone from Microsoft&#39;s Core Operating Systems Division hints in an email to me that both Vista SP2 and Windows 7 will fix the problems in the RealTimeIsUniversal=1&quot;. Microsoft Support say otherwise &#8211; <a rel="nofollow" target="_new" href="http://support.microsoft.com/kb/2687252" rel="nofollow">support.microsoft.com/&#8230;/2687252</a> &#8211; &quot;System may become unresponsive during Daylight Saving Time (DST) changeover if RealTimeIsUniversal is set&quot; &#8230; &quot;We strongly recommend that you not use the RealTimeIsUniversal registry entry. This issue does not occur if you do not use this entry.&quot;</p>
<p>A co-worker had a laptop a few years ago where the time would suddenly become wrong by a few hours. He&#39;d fix it, the time would be fine for a few weeks, then suddenly it would be wrong by hours again. Of course, it was set to use NTP, but with the wrong timezone; once a month, it would &quot;correct&quot; itself to show the time in New York, he&#39;d manually change it to show time in New York as being the actual time in London, and everything would be nearly OK until the next sync.</p>
<p>@Jean: Don&#39;t be too hasty there, the setting has some nasty gotchas at the moment! (I&#39;ve told Markus so he can update his page with the disappointing news, and hopefully go and prod the guys next door again.)</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-maurits even thread-even depth-1" id="comment-971983">
				<div id="div-comment-971983" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Maurits+%5BMSFT%5D' rel='external nofollow' class='url'>Maurits [MSFT]</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20120312-00/?p=8123#comment-971983">
			March 12, 2012 at 5:38 pm</a>		</div>

		<blockquote><p>
  some computers used to ask you the date and time on every boot-up because there was no clock
</p></blockquote>
<p>Or the battery died.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-yuhong-bao odd alt thread-odd thread-alt depth-1" id="comment-971993">
				<div id="div-comment-971993" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Yuhong+Bao' rel='external nofollow' class='url'>Yuhong Bao</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20120312-00/?p=8123#comment-971993">
			March 12, 2012 at 7:00 pm</a>		</div>

		<p>&quot;Heck, a machine with only 16k of memory probably doesn&#39;t even have a battery-backed clock anyway. I remember some computers used to ask you the date and time on every boot-up because there was no clock.&quot;</p>
<p>AFAIK indeed the RTC was only introduced in the PC/AT.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-cheong even thread-even depth-1" id="comment-972003">
				<div id="div-comment-972003" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/cheong00' rel='external nofollow' class='url'>cheong00</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20120312-00/?p=8123#comment-972003">
			March 12, 2012 at 7:19 pm</a>		</div>

		<p>I have better question: Why don&#39;t the DST patch check with NTP before patching the time?</p>
<p>It should recognize the time would be out-of-range if patching again, if it try to contact NTP first. (If NTP is not accessible, then it&#39;s okay&#8230; there aren&#39;t reliable way to check as I understand)</p>
<div class="post">[<i>As I already noted, <a href="http://blogs.msdn.com/b/oldnewthing/archive/2012/03/12/10281143.aspx#10281471" rel="nofollow">that would result in a self-inflicted DDoS against the time server</a>. -Raymond</i>]</div>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-972013">
				<div id="div-comment-972013" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Mihai</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20120312-00/?p=8123#comment-972013">
			March 12, 2012 at 8:50 pm</a>		</div>

		<p>Actually, there is a protocol for that: set bit 1 of byte 0Bh in CMOS.</p>
<p><a rel="nofollow" target="_new" href="http://www.bioscentral.com/misc/cmosmap.htm" rel="nofollow">http://www.bioscentral.com/&#8230;/cmosmap.htm</a></p>
<p>And it was around and documented for ages.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-alexcohn even thread-even depth-1" id="comment-971943">
				<div id="div-comment-971943" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Alex+Cohn' rel='external nofollow' class='url'>Alex Cohn</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20120312-00/?p=8123#comment-971943">
			March 12, 2012 at 1:56 pm</a>		</div>

		<p>I would expect an OS that is up and running during the DST switch to undettake any necessary actions.</p>
<p>But if it boots more than an hour later it should not perform changes to the system clock automatically. It could ask me at login time, it could check a time server &#8211; and not be a cause of DDOS because this boot will not happen simultaneously for many systems.</p>
<p>Oh ***, it will! For many office machines this will happen first thing Monday morning, at 9 AM.</p>
<p>Well, we can find a remedy. If the computer boots up every morning at 9 AM, set a flag &quot;this is not likely to be a double-boot machine&quot;. Now it&#39;s safe to switch DST first thing in the morning. The OS will even have an additional hint: if every morning it boots at 9 AM, and on certain Monday it boots an hour earlier &#8211; that&#39;s time to apply DST.</p>
<div class="post">[<i>I think you&#39;re over-engineering the problem. -Raymond</i>]</div>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-972023">
				<div id="div-comment-972023" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Gabe</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20120312-00/?p=8123#comment-972023">
			March 12, 2012 at 10:03 pm</a>		</div>

		<p>Yuhong Bao: Prior to the AT (which shipped with one), all RTCs came in the form of 3rd-party add-on cards. You would put something in your AUTOEXEC to read the current time and set the DOS clock from the proprietary RTC.</p>
<p>Since there was no standard for how RTCs worked before that, it was the AT&#39;s designers&#39; fault for not storing system time in UTC or providing a flag for DST (or correcting for DST).</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-972043">
				<div id="div-comment-972043" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">NoP</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20120312-00/?p=8123#comment-972043">
			March 13, 2012 at 12:18 am</a>		</div>

		<p>Wasn&#39;t this one of your &quot;I can&#39;t believe I had to write this&quot;-posts, Raymond? If a user is advanced enough to use multiple operating systems on the same computer, why can&#39;t they configure it properly?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-972053">
				<div id="div-comment-972053" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Ben C</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20120312-00/?p=8123#comment-972053">
			March 13, 2012 at 5:00 am</a>		</div>

		<p>I know I am late to the party, but I don’t see the issue. &nbsp;It makes since to me that both OS’s would adjust the clock considering I have told both to via the option in the time zone setting dialog. &nbsp;If I don’t want one OS to make the DST adjustment, I can go uncheck the box.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-972063">
				<div id="div-comment-972063" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://blogs.msdn.com/bombsoft_4000_hotmail.com/ProfileUrlRedirect.ashx' rel='external nofollow' class='url'>bombsoft@hotmail.com</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20120312-00/?p=8123#comment-972063">
			March 13, 2012 at 5:15 am</a>		</div>

		<p>[Not sure who &quot;you guys&quot; is, but that idea gets a +1 from me. You have to deal with the &quot;it works on some machines but not others&quot; confusion, though. -Raymond]</p>
<p>If (flag exists and can be read) { do new stuff } else { do old stuff }</p>
<p>AIUI from El Reg, the Linux people /HATE/ UEFI with a passion?</p>
<p>Having never been in the situation described here, am I understanding it right that if I had a multi boot 8, 7, Vista, XP, 2k, ME, 98, 95, NT4, 2003 server, home server and 2k8 server, DST changes would make it add half a day to my clock? Time travel through multiboot? (Though, if this happened to me and I couldn&#39;t understand it, I&#39;d probably end up throwing the PC at 88mph)</p>
<div class="post">[<i>Right, the logic of the test is straightforward. The hard part is not confusing the end user. &quot;It works on Bob&#39;s computer, but not on my computer. We are both running the same version of Windows. Is it because Bob&#39;s system is running French and I&#39;m running German? Why do you hate Germans?&quot; (Multiboot is become less of an issue nowadays anyway because people use VMs now.) -Raymond</i>]</div>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-972073">
				<div id="div-comment-972073" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://blogs.msdn.com/bombsoft_4000_hotmail.com/ProfileUrlRedirect.ashx' rel='external nofollow' class='url'>bombsoft@hotmail.com</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20120312-00/?p=8123#comment-972073">
			March 13, 2012 at 7:16 am</a>		</div>

		<p>Good point. I assume that any explanation message displayed in the Date/Time settings would also confuse users.</p>
<p>&quot;DST handling is improved with UEFI&quot;</p>
<p>&quot;UEFI? What&#39;s that?&quot;</p>
<p>The old failsafe would seem to apply then: &quot;If it isn&#39;t broken, don&#39;t fix it&quot;</p>
<p>We&#39;ve lasted quite a while with this current behaviour, and as you say, it&#39;s a less common scenario any way.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-972173">
				<div id="div-comment-972173" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Deduplicator</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20120312-00/?p=8123#comment-972173">
			March 13, 2012 at 9:22 am</a>		</div>

		<p>&quot;UTC is as flawed as local time&quot;: Not really, the important aspects are there is only one UTC, and it doesnt have DST-switching. Adjustment-seconds don&#39;t actually signify, they are lost in the clock skew.</p>
<p>&quot;If it isn&#39;t broken, don&#39;t fix it&quot;: Well, it&#39;s broken for any multiboot scenario. And vm-scenarios only work with side-channel info regarding used timezone.</p>
<p>Additional benefit for using UTC not local_time: You can inform all users upon logon/DST-change about the last DST-change, if there was one. It won&#39;t be lost because IT had to maintain the machine, or you share the machine with someone else.</p>
<p>&quot;We&#39;ve lasted quite a while with this current behavior [&#8230;]&quot;: It&#39;s tradition, don&#39;t touch it! It might be inefficient, it might be error-prone, it might have sharp edges, but I <em>like</em> manually correcting for those quirks.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-972283">
				<div id="div-comment-972283" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">ender</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20120312-00/?p=8123#comment-972283">
			March 13, 2012 at 11:51 am</a>		</div>

		<p>Regarding RealTimeIsUniversal: <a rel="nofollow" target="_new" href="http://blogs.technet.com/b/askds/archive/2012/03/09/unresponsive-servers-due-to-dst-and-an-unsupported-registry-key.aspx" rel="nofollow">blogs.technet.com/&#8230;/unresponsive-servers-due-to-dst-and-an-unsupported-registry-key.aspx</a></p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-cheong even thread-even depth-1" id="comment-972333">
				<div id="div-comment-972333" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/cheong00' rel='external nofollow' class='url'>cheong00</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20120312-00/?p=8123#comment-972333">
			March 13, 2012 at 7:23 pm</a>		</div>

		<p>[As I already noted, that would result in a self-inflicted DDoS against the time server. -Raymond]</p>
<p>Actually, I have doubts on that thought.</p>
<p>First, DST patch is only applied to computers with selected geographic location. If your setting in Regional Setting does not match, it will do nothing. That limits the number of computers need to run this.</p>
<p>Second, the patch needs to be downloaded in order to run. If Windows Update servers can handle the load, why not time.windows.com? (I assume people in U.S. will not change this without good reason, such as having a local NTP server within coperate environment. Also, this would mean the patch will run 2 times: the first time will be when download is finished to determine whether it needs to run (check regional settings and NTP), the second time would be the scheduled time to change it to/from DST. )</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-cheong odd alt thread-odd thread-alt depth-1" id="comment-972343">
				<div id="div-comment-972343" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/cheong00' rel='external nofollow' class='url'>cheong00</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20120312-00/?p=8123#comment-972343">
			March 13, 2012 at 7:34 pm</a>		</div>

		<p>Thinking that again, the second thought is flawed becasue in that case it won&#39;t cure the situation. The patch still need to query NTP at the &quot;patch moment&quot; or &quot;next boot time&quot; to make sure whether the time is already changed by other systems.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-972373">
				<div id="div-comment-972373" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">martin langhoff</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20120312-00/?p=8123#comment-972373">
			March 13, 2012 at 10:07 pm</a>		</div>

		<p>It is 2012! Set RTC to UTC and lean a bit on NTP, every other OS modern has done it. It is the right thing to do. Declare RTC-in-localtime deprecated and unsupported, offer a hidden registry key to enable it.</p>
<p>There is little risk of NTP traffic floods, NTP server infrastructure expects relatively frequent queries from nodes.</p>
<p>Everyone hates flag days but some bits of legacy support are just not worth it.</p>
<p>You have to bite that bullet at some point.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-maurits odd alt thread-odd thread-alt depth-1" id="comment-972433">
				<div id="div-comment-972433" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Maurits+%5BMSFT%5D' rel='external nofollow' class='url'>Maurits [MSFT]</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20120312-00/?p=8123#comment-972433">
			March 14, 2012 at 9:54 am</a>		</div>

		<p>On the other hand, setting the hardware clock to GMT means that BIOSes will need to have their own time zone setting or things like &quot;turn the computer on every day at 8:00 AM&quot; will be confusing. &nbsp;But this seems like a tractable problem&#8230; until your local government changes the DST laws again and you have to update your BIOS&#8230;</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-972553">
				<div id="div-comment-972553" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Worf</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20120312-00/?p=8123#comment-972553">
			March 15, 2012 at 12:26 am</a>		</div>

		<p>I wonder if Apple got rid of their old &quot;Clock Updater&quot; utility&#8230; it&#39;s something that used to be installed on Intel Macs when you boot camped them to Windows &#8211; it switches the clock to local time for Windows, then switches it back to UTC for MacOS (and every other OS out there that keeps the BIOS clock at UTC).</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-972653">
				<div id="div-comment-972653" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Cesar</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20120312-00/?p=8123#comment-972653">
			March 15, 2012 at 1:04 pm</a>		</div>

		<p>Even better than storing an &quot;I already adjusted the clock for DST&quot; flag in a UEFI variable: store the actual offset from UTC in a UEFI variable. Equivalent to storing the time in UTC, but without any compatibility problems with systems which expect to see local time. As a bonus, systems which set the RTC to UTC could write the offset as a zero to note that fact.</p>

		
				</div>
		</li><!-- #comment-## -->
		</ol><!-- .comment-list -->

		<div class="navigation pagination">
					</div>

	
			<p class="no-comments">Comments are closed.</p>
<!-- COMMENTS END -->
</div></td></tr></table>

</body>
</html>
<br/><div class="disclaimer">
*DISCLAIMER: I DO NOT OWN THIS CONTENT. If you are the owner and would like it removed, please
<a target="_blank" href="/contact.htm">contact me</a>.
The content herein is an archived reproduction of entries from
Raymond Chen's "Old New Thing" Blog (most recent link is <a target="_blank" href="https://devblogs.microsoft.com/oldnewthing/">here</a>).
It may have slight formatting modifications for consistency and to improve readability.
<br/><br/>
WHY DID I DUPLICATE THIS CONTENT HERE?
Let me first say this site has never had anything to sell and has never shown ads of any kind. I have nothing monetarily to gain by duplicating content here.
Because I had made my own local copy of this content throughout the years, for ease of using tools like grep, I decided to put it online after I discovered
some of the original content previously and publicly available, had disappeared approximately early to mid 2019.
At the same time, I present the content in an easily accessible theme-agnostic way.
<br/><br/>
The information provided by Raymond's blog is, for all practical purposes, more authoritative on Windows Development than Microsoft's
own MSDN documentation and should be considered supplemental reading to that documentation. The wealth of missing details
provided by this blog that Microsoft could not or did not document about Windows over the years is vital enough, many would agree an online "backup" of these details
is a necessary endeavor. Specifics include:<br/>
<ul>
    <li>
        A "redesign" after 2019 erased thousands of user's comments from previous years. As many have stated, the comments are nearly as important as the postings themselves.
        The archived copies of the postings contained here retain the original comments.
    </li>
    <li>
        The blog has changed domains many times and the urls have otherwise been under constant change since 2003.
        Even when proper redirection has been set up for those links, redirection only works for a limited period of time.
        For example, all of the internal blog links that were valid in early 2019, were broken by 2020 without proper redirection.
    </li>
    <li>
        The blog has been under constant re-design and re-theming since its inception.
        It is downright irritating to deal with a bogged-down site experience as the result of the latest visual themes designed for cell-phone browsers.
        As of this writing, it is cumbersome to navigate titles with only 10 entries per page.
        While it is nice that the official site has a search feature, searching using this index (with all titles on a single page) is much quicker (CTRL-F in most browsers).
    </li>
</ul>
</div><br/>
&lt;-- Back to <a href="index.htm">Old New Thing Archive Index</a>

