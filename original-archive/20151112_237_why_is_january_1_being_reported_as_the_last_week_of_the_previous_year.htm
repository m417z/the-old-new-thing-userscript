<html>
<head>
<title>Why is January 1 being reported as the last week of the previous year?</title>
<link rel="stylesheet" href="page.css">
</head><body>
<div class="titlediv"><h2>Why is January 1 being reported as the last week of the previous year?</h2></div>
<div class="hdrdiv"><table class="hdrtable" cellspacing="0" cellpadding="0">
<tr><td><b>Date:</b></td><td>November 12, 2015 / year-entry #238</td></tr>
<tr><td><b>Tags:</b></td><td>code</td></tr>
<tr><td><b>Orig Link:</b></td><td>https://blogs.msdn.microsoft.com/oldnewthing/20151112-00/?p=92121</td></tr>

<tr><td><b>Comments:&nbsp;&nbsp;&nbsp;&nbsp;</b></td><td>43</td></tr>
<tr><td valign="top"><b>Summary:</b></td><td valign="top">Because the rules say so.</td></tr>
</table></div>
<hr/>
<table class="contenttable" cellspacing="0" cellpadding="0"><tr><td><div class="contentdiv">
<!-- CONTENT START -->
<p>
A customer (via the customer liaison)
reported a problem that occurred when their program
was run in Germany.
</p>
<p>
Ah, those pesky Germans.
Always causing trouble.
</p>
<blockquote CLASS=q>
<p>
In Germany,
we find that the week numbers are wrong.
For example, for the date January 1, 2005,
the <code>Get&shy;Locale&shy;Info</code> function
reports
<code>FIRST&shy;DAY&shy;OF&shy;WEEK</code> as 53
instead of the expected value of 1.
The attached program demonstrates the issue.
</p>
<p>
The customer wants to know if there is anything we can do
so we get the correct result.
We saw the
<code>Set&shy;Locale&shy;Info</code> function
but weren't sure if it can be used to get the English
calendar on a German system, or what unintended consequences
there may be.
</p>
</blockquote>
<pre>
using System;
using System.Globalization;

class Program
{
  static void RunScenario()
  {
    DateTimeFormatInfo dfi = DateTimeFormatInfo.CurrentInfo;
    Calendar cal = dfi.Calendar;

    DateTime date = new DateTime(2005, 1, 1);
    int weekOfYear = cal.GetWeekOfYear(date, dfi.CalendarWeekRule,
                                       dfi.FirstDayOfWeek);
    Console.WriteLine("{0:d} is week number {1}", date, weekOfYear);
  }

  static void Main()
  {
    RunScenario();

    System.Threading.Thread.
    CurrentThread.CurrentCulture = new CultureInfo("da-DK");
    RunScenario();
  }
}
</pre>
<p>
One thing I noticed was that it wasn't the Germans causing
trouble at all.
It's the Danes!
</p>
<pre>
    ... new CultureInfo("da-DK");
</pre>
<p>
So your frustration is misdirected.
You should be upset at
<a HREF="http://blogs.msdn.com/b/oldnewthing/archive/2003/12/28/46208.aspx">
those pesky Danes</a>.
</p>
<p>
But the first thing I noticed is that the question makes no
sense.
The
<code>FIRST&shy;DAY&shy;OF&shy;WEEK</code>
is an integer in the range 0 through 6,
where
<a HREF="http://msdn.microsoft.com/en-us/library/windows/desktop/dd373771(v=vs.85).aspx">
0 means Monday, and 6 means Sunday</a>.
It never returns 53.
What's more, the
<code>Get&shy;Locale&shy;Info</code> function
is never called by this
program.
</p>
<p>
So let's ignore the stated question and try to infer
the question from the code.
The code prints the week number for January 1, 2005,
according to US-English and Danish rules.
For US-English, it returns week 1,
and for Denmark, it returns week 53.
</p>
<p>
This is hardly surprising, because if you play around
in the Immediate window,
or just add some more <code>Write&shy;Line</code> statements,
you'll see that the US-English and Danish locales have different
calendar preferences:
</p>
<table CLASS=cp3
    BORDER=1 BORDERCOLOR=black STYLE="border-collapse: collapse"
    CELLPADDING=3>
<tr>
<th>Property</th>
<th>US-English</th>
<th>Danish</th>
</tr>
<tr>
<td>First&shy;Day&shy;Of&shy;Week</td>
<td>Sunday</td>
<td>Monday</td>
</tr>
<tr>
<td>Calendar&shy;Week&shy;Rule</td>
<td>First&shy;Day</td>
<td>First&shy;Four&shy;Day&shy;Week</td>
</tr>
</table>
<p>
How did I know to look at those properties?
Because those are the properties that the program itself passes
to the
<code>Get&shy;Week&shy;Of&shy;Year</code> function!
</p>
<p>
Denmark starts the week on Monday.
It follows the rule that Week 1 of the year is the
first week with at least four days from that year.
And January 1, 2005 was a Saturday.
This means that the week containing January 1, 2005
has only two days from 2005.
That's not enough, so the
the first week of the year begins on January 3, 2005.
January 1, 2005 is considered to be part of the last
week of 2004, which is week number 53.
</p>
<p>
Therefore, the value of 53 is correct.
If you want Denmark to follow week-numbering rules
consistent with the United States,
you will need to take it up with
<a HREF="http://www.thedanishparliament.dk/">
the Folketing</a>,
and possibly
<a HREF="http://www.europarl.europa.eu/">
the European Parliament</a>.
</p>
<p>
Now, if you decide that you want to show week numbers
according to the United States convention
even to people who did nothing wrong aside from
happening to live in a country with the wrong week numbering rules,
you can just pass your custom week numbering rules to the
<code>Get&shy;Week&shy;Of&shy;Year</code> function.
</p>
<pre>
    int weekOfYear = cal.GetWeekOfYear(date,
                        <font COLOR=blue>CalendarWeekRule.FirstDay,
                        DayOfWeek.Sunday</font>);
</pre>
<p>
Don't change the system locale; that is trying to apply
a global solution to a local problem.
</p>
<p>
Mind you, your local solution is going to make everybody
in Denmark say, "How come your program gets all the week
numbers wrong?"
</p>
<p>
<b>Bonus reading</b>:
<a HREF="http://blogs.msdn.com/b/shawnste/archive/2006/01/24/iso-8601-week-of-year-format-in-microsoft-net.aspx">
ISO 8601 Week of Year Format in Microsoft .NET</a>.</p>
<!-- CONTENT END -->
</div></td></tr></table>
<hr/>
<table class="commenttable" cellspacing="0" cellpadding="0"><tr><td><div class="commentdiv"><div class="commentdivhdr">
<!-- COMMENTS START -->
Comments (43)	</div>

	
			<div class="navigation pagination clear-both">
					</div>

		<ol class="comment-list">
					<li class="comment even thread-even depth-1" id="comment-1214571">
				<div id="div-comment-1214571" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">acq</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20151112-00/?p=92121#comment-1214571">
			November 12, 2015 at 7:15 am</a>		</div>

		<p>I had to search why a January 1, 2005, a Saturday is a first week of 2005 in the US. Wikipedia to the rescue:</p>
<p>&quot;The US system has weeks from Sunday through Saturday, and partial weeks at the beginning and the end of the year, i.e. always 53 weeks.&quot;</p>
<p>Does it mean that the same week around the 1 January has *two* week numbers at the same time?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1214561">
				<div id="div-comment-1214561" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Nicholas</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20151112-00/?p=92121#comment-1214561">
			November 12, 2015 at 7:32 am</a>		</div>

		<p>&quot;Don&#39;t change the system locale; that is trying to apply a global solution to a local problem.&quot;</p>
<p>Also, make sure your program doesn&#39;t mention the war.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1214551">
				<div id="div-comment-1214551" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Smithers</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20151112-00/?p=92121#comment-1214551">
			November 12, 2015 at 7:50 am</a>		</div>

		<p>&quot;always 53 weeks&quot;</p>
<p>My approximate train of thought: Surely it can&#39;t be *always* 53&#8230; Each year lasts 52*7+1 days, so if a year begins on ${foo}day of week 1, it ends on, huh, ${foo}day of week 53. I guess that works whatever day of the week it starts on.</p>
<p>Ah, wait! That doesn&#39;t work on leap years though! If January 1st is Saturday of week 1, then December 30th is Saturday of week 53 and December 31st is Sunday of week 54. Point to Smithers. Wikipedia is wrong roughly once every 28 years. Actually, I suppose that&#39;s a lot better than most articles.</p>
<p>Seriously though, USA, why can&#39;t you let a week that&#39;s in two years at once just be one week? Also FirstDayOfWeek=Sunday?? It&#39;s called the week*end*, it comes at the *end* of the week.</p>
<div class="post">[<em>Like a rope or stick or soccer pitch, a week has two ends. There&#39;s the front end (Sunday) and the back end (Saturday). The difference is in the interpretation of the word &quot;end&quot;. One interpretation is &quot;not the beginning&quot;; another is &quot;extremity&quot;. And seriously, Europe. How can you say with a straight face that January 1, 2005 is week 53 of 2004? It&#39;s not even <span style="text-decoration:underline;">in</span> 2004! -Raymond</em>]</div>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1214541">
				<div id="div-comment-1214541" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Martijn</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20151112-00/?p=92121#comment-1214541">
			November 12, 2015 at 7:51 am</a>		</div>

		<p>&quot;Does it mean that the same week around the 1 January has *two* week numbers at the same time?&quot;</p>
<p>It has two numbers, but not at the same time. The first part of the week is week 53, 2005, the second part is week 1, 2006.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1214531">
				<div id="div-comment-1214531" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Sean</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20151112-00/?p=92121#comment-1214531">
			November 12, 2015 at 7:51 am</a>		</div>

		<p>@acq Not exactly. That week is instead treated as two separate partial weeks. So the part from January 1 to the end of the week is week 1, and the part from before January 1 is week 53 of the previous year. So each day is still part of exactly one week of the year.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1214521">
				<div id="div-comment-1214521" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">12BitSlab</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20151112-00/?p=92121#comment-1214521">
			November 12, 2015 at 8:25 am</a>		</div>

		<p>I lost track of the number of different systems/languages/environments I have worked with over the years. &nbsp;Date/Time stuff always tends to be very ugly. &nbsp;.Net does as good of a job as any environment I have worked with of making date/time stuff easy for the average developer.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1214511">
				<div id="div-comment-1214511" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Cesar</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20151112-00/?p=92121#comment-1214511">
			November 12, 2015 at 8:33 am</a>		</div>

		<p>As long as the month number does NOT range from 0 to 11, I&#39;m happy.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1214501">
				<div id="div-comment-1214501" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">pc</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20151112-00/?p=92121#comment-1214501">
			November 12, 2015 at 8:47 am</a>		</div>

		<p>@Cesar:</p>
<p>Surely you&#39;re not thinking of Java&#39;s Calendar classes? Their months don&#39;t range from 0 to 11, but from 0 to 12!</p>
<p><a rel="nofollow" target="_new" href="https://docs.oracle.com/javase/8/docs/api/java/util/Calendar.html#UNDECIMBER">docs.oracle.com/&#8230;/Calendar.html</a></p>
<p>*sigh*</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1214491">
				<div id="div-comment-1214491" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Johan</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20151112-00/?p=92121#comment-1214491">
			November 12, 2015 at 9:33 am</a>		</div>

		<p>There are more countries in the world than the US.</p>
<p>Metric system FTW!!</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1214481">
				<div id="div-comment-1214481" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">DWalker</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20151112-00/?p=92121#comment-1214481">
			November 12, 2015 at 10:16 am</a>		</div>

		<p>&quot;Like a rope or stick or soccer pitch, a week has two ends.&quot; &nbsp;I never thought of it that way! &nbsp;Although for a week, one of the days is &quot;the beginning&quot;, and the other is &quot;the end&quot;. &nbsp;</p>
<p>Dates are hard.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1214451">
				<div id="div-comment-1214451" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">creaothceann</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20151112-00/?p=92121#comment-1214451">
			November 12, 2015 at 11:26 am</a>		</div>

		<p>@DWalker:</p>
<p>That&#39;s probably why most of us are single.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-mngoldeneagle odd alt thread-odd thread-alt depth-1" id="comment-1214441">
				<div id="div-comment-1214441" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/MNGoldenEagle' rel='external nofollow' class='url'>MNGoldenEagle</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20151112-00/?p=92121#comment-1214441">
			November 12, 2015 at 11:43 am</a>		</div>

		<p>@pc: To be fair, Java now has a pretty sane datetime system in the java.time package. &nbsp;Granted, it&#39;s more or less a carbon copy of Joda, but that&#39;s not really a bad thing.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1214431">
				<div id="div-comment-1214431" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">viila</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20151112-00/?p=92121#comment-1214431">
			November 12, 2015 at 11:44 am</a>		</div>

		<p>@Raymond &quot;Like a rope or stick or soccer pitch, a week has two ends. The difference is in the interpretation of the word &quot;end&quot;.&quot;</p>
<p>Many other languages are not ambiguous about it. For example Finnish and Swedish (and I&#39;d imagine Danish as well given how close it is to Swedish). In Finnish it&#39;s &quot;viikonloppu&quot; where the &quot;loppu&quot; can only mean finishing/conclusion of something. Similarly Swedish &quot;veckoslut&quot;.</p>
<p>Vice versa, the end of a soccer pitch in Finnish would be &quot;pääty&quot;. (And in Swedish, I think &quot;ände&quot;.)</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-hankhein odd alt thread-odd thread-alt depth-1" id="comment-1214401">
				<div id="div-comment-1214401" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Henri+Hein' rel='external nofollow' class='url'>Henri Hein</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20151112-00/?p=92121#comment-1214401">
			November 12, 2015 at 12:35 pm</a>		</div>

		<p>@Nicholas: +1</p>
<p>@creaothceann: +1</p>
<p>I am one of those pesky Danes and grew up with the week numbering scheme. &nbsp;Other than its succinctness, I had difficulties understanding its advantage. &nbsp;You hear stuff like &quot;the school year starts in week 31,&quot; &quot;we will meet again in week 42.&quot; &nbsp;You can get the approximate month by dividing by 4, but to get more granular, you have to consult a calendar or be Jeffrey Ma. &nbsp;However, that the last week should be numbered after its Monday, since that is when the week officially starts, always did make sense. &nbsp;</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1214381">
				<div id="div-comment-1214381" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Simon</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20151112-00/?p=92121#comment-1214381">
			November 12, 2015 at 12:44 pm</a>		</div>

		<p>Yes, the *new* Java 8 date/time framework is awesome&#8230; a few quirks, but easily the best date API that I&#39;ve ever encountered. Still not fully integrated into the enterprise frameworks, unfortunately, but still vastly superior to the old date/calendar APIs&#8230;</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1214371">
				<div id="div-comment-1214371" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Brian</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20151112-00/?p=92121#comment-1214371">
			November 12, 2015 at 1:37 pm</a>		</div>

		<p>A couple of things:</p>
<p>a) For the most part &quot;week number&quot; is almost never used in the US or Canada. &nbsp;Some accounting systems use it, but no one thinks about it at all</p>
<p>b) @Johan: Metric? For dates? &nbsp;The only metric-ish attempts at a date system that I know of was during the French Revolution and its aftermath (the &quot;French Republican Calendar&quot; according to Wikipedia). &nbsp;It lasted about 12 years. &nbsp;I think we should all move to the Hobbit calendar. &nbsp;That&#39;s one that makes a lot of sense.</p>
<p>c) Dates are easier than times. &nbsp;Getting shift reports right for shifts that may or may not span the end of a day and that properly compensate for daylight saving time, etc. is amazingly complex.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1214361">
				<div id="div-comment-1214361" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Zack</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20151112-00/?p=92121#comment-1214361">
			November 12, 2015 at 2:34 pm</a>		</div>

		<p>I was so very much expecting the punchline to be about how YYYY-01-01T00:00:00Z can map to YYYY or YYYY-1 depending on which timezone you&#39;re in.</p>
<p>I&#39;m not sure whether this is better, or worse.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1214351">
				<div id="div-comment-1214351" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">bzakharin</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20151112-00/?p=92121#comment-1214351">
			November 12, 2015 at 2:45 pm</a>		</div>

		<p>There was a proposal by the &quot;World Decimal Time Society&quot; for completely metric timekeeping discussed in Popular Mechanics in the mid 90&#39;s sometime (1996 most likely). It included 10 months a year, 10 days in a week (3 weekends), time of day divided into 1000 units called tims (which would replace minutes) and millitims could be used for more precise timekeeping. The year number would approximate the age of the earth. The system would go into effect on March 21 4600002000, or 000 for short (maybe 2000 would have worked too).</p>
<p>Found it, May 1996: <a rel="nofollow" target="_new" href="https://books.google.com/books?id=MWUEAAAAMBAJ&amp;lpg=PA47-IA14&amp;ots=xSNRSGN6MH&amp;dq=millitims&amp;pg=PA47-IA14#v=onepage&amp;q&amp;f=false">books.google.com/books</a></p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1214341">
				<div id="div-comment-1214341" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Douglas</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20151112-00/?p=92121#comment-1214341">
			November 12, 2015 at 3:55 pm</a>		</div>

		<p>I&#39;m still waiting for Jon Skeet to poke his head in here and comment :)</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1214331">
				<div id="div-comment-1214331" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Dave</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20151112-00/?p=92121#comment-1214331">
			November 12, 2015 at 6:01 pm</a>		</div>

		<p>&gt;It&#39;s the Danes! </p>
<p>Ah, those Swedes&#8230;</p>
<p>Sorry, Danes. &nbsp;Danes. &nbsp;I meant Danes when I said Swedes.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-cheong even thread-even depth-1" id="comment-1214321">
				<div id="div-comment-1214321" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/cheong00' rel='external nofollow' class='url'>cheong00</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20151112-00/?p=92121#comment-1214321">
			November 12, 2015 at 6:41 pm</a>		</div>

		<p>For some reason, I always use CultureInfo.InvariantCulture on any applicable DateTime handling code.</p>
<p>Any by the way, the effect of </p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1214311">
				<div id="div-comment-1214311" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Lawrence</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20151112-00/?p=92121#comment-1214311">
			November 12, 2015 at 8:53 pm</a>		</div>

		<p>Huh, for some reason made it this far in life without knowing the US starts weeks on Sundays. How strange! In my country, Sunday along with Saturday) counts as part of the &quot;weekend&quot; &#8211; a new week starts on Monday.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-aadsso-1live-com0003400180b2af1b even thread-even depth-1" id="comment-1214301">
				<div id="div-comment-1214301" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Cube+8' rel='external nofollow' class='url'>Cube 8</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20151112-00/?p=92121#comment-1214301">
			November 12, 2015 at 11:42 pm</a>		</div>

		<p>Sunday or Monday? <a rel="nofollow" target="_new" href="http://www.cjvlang.com/Dow/SunMon.html">http://www.cjvlang.com/&#8230;/SunMon.html</a></p>
<p>Also, ISO 8601 states that Monday is the first day of week: <a rel="nofollow" target="_new" href="https://en.wikipedia.org/wiki/Sunday#ISO_8601">en.wikipedia.org/&#8230;/Sunday</a></p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1214291">
				<div id="div-comment-1214291" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Marcel</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20151112-00/?p=92121#comment-1214291">
			November 13, 2015 at 12:05 am</a>		</div>

		<p>@Henri Hein: &quot;However, that the last week should be numbered after its Monday, since that is when the week officially starts, always did make sense.&quot;. But that&#39;s not how it works. Not in Germany, and according to the article, also not in Denmark. It&#39;s numbered after its Thursday. So if January 1st is a Thursday, then December 31th is already part of week 1 of the following year.</p>
<p>At work we use a libc from an American company and I had to implement strftime myself because the existing one doesn&#39;t support ISO week numbers&#8230;</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1214281">
				<div id="div-comment-1214281" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Stephen Johnston</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20151112-00/?p=92121#comment-1214281">
			November 13, 2015 at 2:02 am</a>		</div>

		<p>Bread has two ends, as does a car and a strong. This is why the weekend can be both at the beginning and at.. the end.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1214271">
				<div id="div-comment-1214271" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Thomas Stockschl&#228;der</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20151112-00/?p=92121#comment-1214271">
			November 13, 2015 at 2:13 am</a>		</div>

		<p>The week that contains January 4th is always the first week of the year, because it consists *mainly* (atleast 4/7 days) of dates in January.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1214261">
				<div id="div-comment-1214261" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">frenchguy</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20151112-00/?p=92121#comment-1214261">
			November 13, 2015 at 2:24 am</a>		</div>

		<p>@Brian: My guess for why the revolutionary calendar failed (in addition to force of habit) is that it had only 1 day in 10 as a day of rest, compared to the previous 1 day in 7. If, like the decimal calendar Boris mentioned, it had tried to preserve the existing balance between work days and rest days (by having an extra half-day of rest), I&#39;m sure it would have lasted longer.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1214251">
				<div id="div-comment-1214251" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">hyperman</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20151112-00/?p=92121#comment-1214251">
			November 13, 2015 at 2:31 am</a>		</div>

		<p>If you&#39;re interested, I dumped the Java Locale information to see what country does what. Now I&#39;m wondering what&#39;s going on in Malta.</p>
<p>day 7 is saterday, day 6 is friday, btw</p>
<p>1 jan 2005 is week 1, day 6 in Japan, Thailand</p>
<p>1 jan 2005 is week 1, day 7 in Albania, Algeria, Argentina, Australia, Bahrain, Belarus, Bolivia, Bosnia and Herzegovina, Brazil, Bulgaria, Canada, Chile, China, Colombia, Costa Rica, Croatia, Cyprus, Dominican Republic, Ecuador, Egypt, El Salvador, Guatemala, Honduras, Hong Kong, Hungary, India, Indonesia, Iraq, Ireland, Israel, Japan, Jordan, Kuwait, Latvia, Lebanon, Libya, Macedonia, Malaysia, Mexico, Montenegro, Morocco, New Zealand, Nicaragua, Oman, Panama, Paraguay, Peru, Philippines, Puerto Rico, Qatar, Romania, Russia, Saudi Arabia, Serbia, Serbia and Montenegro, Singapore, Slovenia, South Africa, South Korea, Sudan, Syria, Taiwan, Tunisia, Turkey, Ukraine, United Arab Emirates, United States, Uruguay, Venezuela, Vietnam, Yemen</p>
<p>1 jan 2005 is week 52, day 7 in Malta</p>
<p>1 jan 2005 is week 53, day 7 in Austria, België, Czech Republic, Denmark, Estonia, Finland, France, Germany, Greece, Iceland, Ireland, Italy, Lithuania, Luxembourg, Nederland, Norway, Poland, Portugal, Slovakia, Spain, Sweden, Switzerland, United Kingdom</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1214231">
				<div id="div-comment-1214231" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Steve</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20151112-00/?p=92121#comment-1214231">
			November 13, 2015 at 5:04 am</a>		</div>

		<p>Just reading this thread minutes after discovering that an elderly third-party system that I&#39;m attempting to interface with permits time values of 01/01/2015 24:00 &#8230; </p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1214201">
				<div id="div-comment-1214201" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Jon Skeet</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20151112-00/?p=92121#comment-1214201">
			November 13, 2015 at 6:36 am</a>		</div>

		<p>As Douglas invited me in, so to speak&#8230; I find it somewhat amusing that .NET supports various kinds of week numbering, but not (quite) ISO-8601&#8230; whereas my Noda Time library supports ISO-8601 but no *other* week numbering schemes. At some point I might need to add a bit of BCL-compatible week numbering code. No-one&#39;s asked for it yet though.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1214191">
				<div id="div-comment-1214191" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Jon Skeet</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20151112-00/?p=92121#comment-1214191">
			November 13, 2015 at 6:38 am</a>		</div>

		<p>@Steve: A value of 01/01/2015 24:00 is valid under ISO-8601, so you shouldn&#39;t think too badly of the system you&#39;re using.</p>
<p>I&#39;ve tried to work out how we could model that in the Noda Time API &#8211; currently we allow it to be parsed, but we don&#39;t retain the information &#8211; it parses to the exact same value as midnight at the start of January 2nd. That&#39;s unfortunate, but too many things become horrible when you view 24:00 as a valid time of day :(</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1214171">
				<div id="div-comment-1214171" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">John Elliott</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20151112-00/?p=92121#comment-1214171">
			November 13, 2015 at 7:06 am</a>		</div>

		<p>The only place I&#39;ve seen any sort of week numbering system used in the UK is in the tax calculation, where Week 1 is in April.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1214111">
				<div id="div-comment-1214111" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Mike Collins</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20151112-00/?p=92121#comment-1214111">
			November 13, 2015 at 8:28 am</a>		</div>

		<p>If I remember correctly, isn&#39;t Denmark also the country where the list separator is a semi-colon?</p>
<p>The Danes&#39; &quot;CSV&quot; export caused me massive headaches with this a few years ago!</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1214101">
				<div id="div-comment-1214101" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">@Mike Collins</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20151112-00/?p=92121#comment-1214101">
			November 13, 2015 at 8:41 am</a>		</div>

		<p>&quot;isn&#39;t Denmark also the country where the list separator is a semi-colon&quot;</p>
<p>Also Germany (and others), because &quot;,&quot; is already used as the decimal separator.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1214091">
				<div id="div-comment-1214091" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Douglas</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20151112-00/?p=92121#comment-1214091">
			November 13, 2015 at 9:36 am</a>		</div>

		<p>What I find endlessly amusing is how amazingly, ridiculously complicated the division of time on Planet Earth is.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1214051">
				<div id="div-comment-1214051" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">boogaloo</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20151112-00/?p=92121#comment-1214051">
			November 13, 2015 at 10:57 am</a>		</div>

		<p>It&#39;s weird, but I guess they do this for working weeks.</p>
<p>The majority of people don&#39;t work new years day so you ignore that and if January the 2nd is a Saturday or Sunday then that is the &quot;weekend&quot; so that gets added to week at the end of the previous year.</p>
<p>I find this less annoying than people who say midnight on Monday, when they really mean 00:00 on Tuesday which is a full 24 hours later than the real midnight that occurs during Monday.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1214041">
				<div id="div-comment-1214041" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Adam Rosenfield</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20151112-00/?p=92121#comment-1214041">
			November 13, 2015 at 11:05 am</a>		</div>

		<p>When I saw the title, my initial thought was &quot;duh, ISO 8601 week numbers,&quot; in particular because 2015 is also one of those years that has 53 ISO weeks, and this was related to some things I was dealing with back in January. &nbsp;I was intrigued to see the locale-dependent aspect of this, though.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1214001">
				<div id="div-comment-1214001" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">moo</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20151112-00/?p=92121#comment-1214001">
			November 13, 2015 at 11:46 am</a>		</div>

		<p>Map of the first day of the week around the world, for anyone interested:</p>
<p><a rel="nofollow" target="_new" href="https://commons.wikimedia.org/wiki/File:First_Day_of_Week_World_Map.svg">commons.wikimedia.org/&#8230;/File:First_Day_of_Week_World_Map.svg</a></p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-hikari even thread-even depth-1" id="comment-1213931">
				<div id="div-comment-1213931" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Chris+Crowther' rel='external nofollow' class='url'>Chris Crowther</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20151112-00/?p=92121#comment-1213931">
			November 14, 2015 at 12:01 am</a>		</div>

		<p>John Elliott: You may want to look at the UKHO as well then. &nbsp;All of their chart and NP corrections are pegged to a week number; in fact it&#39;s the ISO 8601 week number (it&#39;s actually common to the entire industry). &nbsp;I have an extension method at work that exists entirely to give me the ISO 8601 week number of a DateTime value.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1213871">
				<div id="div-comment-1213871" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Alexa Lang</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20151112-00/?p=92121#comment-1213871">
			November 14, 2015 at 6:33 pm</a>		</div>

		<p>@Cube 8: Unfortunately the page you link to mainly discusses the start of the week in Christianity and Judaism. All European pre-Christian sources (mostly etymological) let the week start on Monday, a practice which never really went away even when the Christian way was the official way. (Indeed, it seems likely that Constantine chose Sunday as the Christian Sabbath for pragmatical reasons. Some sources state that Sunday gradually took over from Sunday, but we haven&#39;t got enough information from the early period to tell.) Another thing that it glosses over is that the (often incomplete) adoption of the Sunday first system also took a lot of time, often centuries after Constantine and often had more to do with the celebration of Easter, which the site oddly completely fails to mention.</p>
<p>The site claims that industrialisation killed the Sunday-first system, but that doesn&#39;t make a lot of sense. If at the time Sunday had been generally considered the start of the week then the week would have been generally considered to start and end with a day of rest, as in the United States. The term weekend originated because in northern England, where it was coined, at the time Monday was considered (if not necessarily officially) the start of the week. The origin of the word weekend also shows the two-ended week interpretation to be wrong, as it originated as a name of the part of week after offices closed on the last working day (originally Saturday noon) as a single time span. Note how the beginning of time spans is never named the end in English, or any of the Germanic and Romance languages I know, and that it was called ‘weekend’ from the outset, not ‘weekends’. Time spans just are fundamentally different from symmetrical things like ropes and pitches in that they can be traversed in only one direction, giving them a clear start and end.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-alexcohn even thread-even depth-1" id="comment-1213861">
				<div id="div-comment-1213861" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Alex+Cohn' rel='external nofollow' class='url'>Alex Cohn</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20151112-00/?p=92121#comment-1213861">
			November 15, 2015 at 12:42 am</a>		</div>

		<p>@Cesar: here, the months are numbered 1-12 or 1-13, to make you happy. But note two extra facts: the year number increments between months #6 and #7; and when we have the 13th month (7 times in 19 years), it is &quot;inserted&quot; after month #11.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1213831">
				<div id="div-comment-1213831" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">DWalker</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20151112-00/?p=92121#comment-1213831">
			November 16, 2015 at 7:45 am</a>		</div>

		<p>Interesting that I usually think of Monday as &quot;the beginning of the week&quot;, even though I am perfectly happy with my calendar (I&#39;m in the US) showing Sunday on the left, Saturday on the right, and Monday-Friday in the middle of each row.</p>
<p>&quot;too many things become horrible when you view 24:00 as a valid time of day&quot;. &nbsp;True. &nbsp;We had a data supplier begin sending &quot;2400&quot; as a time-of-day string in a data field that was formatted to accept hhmm. &nbsp;The program that parsed the data was old, and did not do a good job of cleaning the data before trying to insert into a SQL table (into a Time field). &nbsp;Hilarity did not ensue. &nbsp;The replacement code handles this.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1213591">
				<div id="div-comment-1213591" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">EMB</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20151112-00/?p=92121#comment-1213591">
			November 18, 2015 at 6:20 am</a>		</div>

		<p>@Lawrence In Brazil, people says weekend meaning Saturday and Sunday. But Sunday is the first day of week. Now, go figure.</p>

		
				</div>
		</li><!-- #comment-## -->
		</ol><!-- .comment-list -->

		<div class="navigation pagination">
					</div>

	
			<p class="no-comments">Comments are closed.</p>
<!-- COMMENTS END -->
</div></td></tr></table>

</body>
</html>
<br/><div class="disclaimer">
*DISCLAIMER: I DO NOT OWN THIS CONTENT. If you are the owner and would like it removed, please
<a target="_blank" href="/contact.htm">contact me</a>.
The content herein is an archived reproduction of entries from
Raymond Chen's "Old New Thing" Blog (most recent link is <a target="_blank" href="https://devblogs.microsoft.com/oldnewthing/">here</a>).
It may have slight formatting modifications for consistency and to improve readability.
<br/><br/>
WHY DID I DUPLICATE THIS CONTENT HERE?
Let me first say this site has never had anything to sell and has never shown ads of any kind. I have nothing monetarily to gain by duplicating content here.
Because I had made my own local copy of this content throughout the years, for ease of using tools like grep, I decided to put it online after I discovered
some of the original content previously and publicly available, had disappeared approximately early to mid 2019.
At the same time, I present the content in an easily accessible theme-agnostic way.
<br/><br/>
The information provided by Raymond's blog is, for all practical purposes, more authoritative on Windows Development than Microsoft's
own MSDN documentation and should be considered supplemental reading to that documentation. The wealth of missing details
provided by this blog that Microsoft could not or did not document about Windows over the years is vital enough, many would agree an online "backup" of these details
is a necessary endeavor. Specifics include:<br/>
<ul>
    <li>
        A "redesign" after 2019 erased thousands of user's comments from previous years. As many have stated, the comments are nearly as important as the postings themselves.
        The archived copies of the postings contained here retain the original comments.
    </li>
    <li>
        The blog has changed domains many times and the urls have otherwise been under constant change since 2003.
        Even when proper redirection has been set up for those links, redirection only works for a limited period of time.
        For example, all of the internal blog links that were valid in early 2019, were broken by 2020 without proper redirection.
    </li>
    <li>
        The blog has been under constant re-design and re-theming since its inception.
        It is downright irritating to deal with a bogged-down site experience as the result of the latest visual themes designed for cell-phone browsers.
        As of this writing, it is cumbersome to navigate titles with only 10 entries per page.
        While it is nice that the official site has a search feature, searching using this index (with all titles on a single page) is much quicker (CTRL-F in most browsers).
    </li>
</ul>
</div><br/>
&lt;-- Back to <a href="index.htm">Old New Thing Archive Index</a>

