<html>
<head>
<title>What is the default size of the Recycle Bin, and how can an administrator control the size of the Recycle Bin?</title>
<link rel="stylesheet" href="page.css">
</head><body>
<div class="titlediv"><h2>What is the default size of the Recycle Bin, and how can an administrator control the size of the Recycle Bin?</h2></div>
<div class="hdrdiv"><table class="hdrtable" cellspacing="0" cellpadding="0">
<tr><td><b>Date:</b></td><td>July 1, 2014 / year-entry #160</td></tr>
<tr><td><b>Tags:</b></td><td>tipssupport</td></tr>
<tr><td><b>Orig Link:</b></td><td>https://blogs.msdn.microsoft.com/oldnewthing/20140701-00/?p=603</td></tr>

<tr><td><b>Comments:&nbsp;&nbsp;&nbsp;&nbsp;</b></td><td>13</td></tr>
<tr><td valign="top"><b>Summary:</b></td><td valign="top">A customer was setting up a file server to which they intended to redirect all their employees' documents. They were concerned about the amount of disk space used by all the Recycle Bins on that server. Is there a fixed default size for the Recycle Bin, or is it based on the size of the...</td></tr>
</table></div>
<hr/>
<table class="contenttable" cellspacing="0" cellpadding="0"><tr><td><div class="contentdiv">
<!-- CONTENT START -->
<p>A customer was setting up a file server to which they intended to redirect all their employees' documents. They were concerned about the amount of disk space used by <a href="http://blogs.msdn.com/b/oldnewthing/archive/2014/06/11/10533168.aspx"> all the Recycle Bins on that server</a>.</p>
<blockquote class="q"><p> Is there a fixed default size for the Recycle Bin, or is it based on the size of the disk? Is there a way we can change the default size for the Recycle Bin? </p>
</blockquote>
<p> The customer is concerned that a user with a small quota on a large drive may end up filling their quota with Recycle Bin content and have no space left for their documents. For example, suppose you have a 1<a href="http://blogs.msdn.com/b/oldnewthing/archive/2009/06/11/9725386.aspx">TB</a> drive and <a href="https://blog.onedrive.com/new-onedrive-storage-plans/"> each user has a 15&thinsp;GB quota</a>. If the Recycle Bin were based on disk size, and the Recycle Bin were set to use five percent of the disk, then that would give each user 5% &times; 1&thinsp;TB = 51.2&thinsp;GB of Recycle Bin, which is larger than their quota. Users can fill their Recycle Bin and have no room for documents! </p>
<p> Fortunately, it doesn't work that way. The Recycle Bin calculations are always based on the disk quota, not the disk size. In the above example, each user's Recycle Bin would be 5% &times; 15&thinsp;GB = 768&thinsp;MB. </p>
<p> Now as to what the default is, that's a trickier question. </p>
<p> Up through Windows&nbsp;XP, the default Recycle Bin was ten percent of the user's quota on the underlying volume. Starting in Windows Vista, the algorithm was tweaked, and the default size is ten percent of the first 40&thinsp;GB of quota, and five percent of any quota above 40&thinsp;GB. (Note that future versions of Windows may tweak the defaults. This is provided for informational purposes, not contractual.) </p>
<p> If you don't like the default, you can <a href="http://gpsearch.azurewebsites.net/Default.aspx?PolicyID=2667"> set an explicit maximum value by policy</a>. If you are willing to live a little dangerously, you can <a href="http://blogs.technet.com/b/askds/archive/2012/07/29/3509226.aspx"> dig under the covers and tweak values on a per-folder basis</a>. Note that once you dig under the covers, you are in unsupported territory, so if it stops working (or starts misbehaving), then you're on your own. </p>
<!-- CONTENT END -->
</div></td></tr></table>
<hr/>
<table class="commenttable" cellspacing="0" cellpadding="0"><tr><td><div class="commentdiv"><div class="commentdivhdr">
<!-- COMMENTS START -->
Comments (13)	</div>

	
			<div class="navigation pagination clear-both">
					</div>

		<ol class="comment-list">
					<li class="comment even thread-even depth-1" id="comment-1135183">
				<div id="div-comment-1135183" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Anon</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140701-00/?p=603#comment-1135183">
			July 1, 2014 at 7:30 am</a>		</div>

		<p>@Raymond</p>
<p>If you tell someone something is POSSIBLE, but unsupported, they do it at their own risk.</p>
<p>If you tell someone HOW to do it, that&#39;s when it becomes a contract.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-alegrigoriev odd alt thread-odd thread-alt depth-1" id="comment-1135203">
				<div id="div-comment-1135203" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/alegr1' rel='external nofollow' class='url'>alegr1</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140701-00/?p=603#comment-1135203">
			July 1, 2014 at 8:49 am</a>		</div>

		<p>When an user process queries the disk size and free space, the OS returns the user&#39;s quota, not the actual disk space. Thus, the recycle bin calculations don&#39;t need to know whether quotas are enabled.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1135233">
				<div id="div-comment-1135233" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">morlamweb</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140701-00/?p=603#comment-1135233">
			July 1, 2014 at 10:11 am</a>		</div>

		<p>@Anon: no, it becomes contractual when the &quot;something&quot; is added to the official product documentation. &nbsp;The Old New Thing is not official product documentation.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1135243">
				<div id="div-comment-1135243" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">@Anon</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140701-00/?p=603#comment-1135243">
			July 1, 2014 at 10:18 am</a>		</div>

		<p>When you explicitly say &quot;this is not contractual,&quot; it&#39;s not contractual. &nbsp;People can argue all they want, but you said up front it&#39;s not.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-xpclientgmail-com even thread-even depth-1" id="comment-1135253">
				<div id="div-comment-1135253" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/xpclient' rel='external nofollow' class='url'>xpclient</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140701-00/?p=603#comment-1135253">
			July 1, 2014 at 10:23 am</a>		</div>

		<p>In Windows Vista/7/8, the setting to configure Recycle Bin maximum allocated size globally (across all drives) has been removed and the equivalent Group Policy is not supported. Recycle Bin maximum size must be configured individually for each drive in MB via Recycle Bin Properties.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1135273">
				<div id="div-comment-1135273" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Anon</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140701-00/?p=603#comment-1135273">
			July 1, 2014 at 11:21 am</a>		</div>

		<p>@anon</p>
<p>If that were true, we wouldn&#39;t have half of the hacks in the Windows source used to work around garbage code from bad developers.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1135293">
				<div id="div-comment-1135293" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">smf</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140701-00/?p=603#comment-1135293">
			July 1, 2014 at 1:07 pm</a>		</div>

		<p>@Anon Developers don&#39;t read documentation, making it irrelevant if the documentation is a contract or not.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-cheong odd alt thread-odd thread-alt depth-1" id="comment-1135353">
				<div id="div-comment-1135353" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/cheong00' rel='external nofollow' class='url'>cheong00</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140701-00/?p=603#comment-1135353">
			July 1, 2014 at 9:05 pm</a>		</div>

		<p>@smf : Developers who don&#39;t read documentation should not be in this industry at all.</p>
<p>All kinds of our work are based on one or more kind(s) of specification, you have to know your language inside and out to start debugging.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1135383">
				<div id="div-comment-1135383" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Lockwood</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140701-00/?p=603#comment-1135383">
			July 2, 2014 at 3:57 am</a>		</div>

		<p>My Recycle Bin keeps getting autosorted</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1135393">
				<div id="div-comment-1135393" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">640k</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140701-00/?p=603#comment-1135393">
			July 2, 2014 at 5:34 am</a>		</div>

		<p>Is metadata counted against quota?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1135363">
				<div id="div-comment-1135363" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Joker_vD</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140701-00/?p=603#comment-1135363">
			July 1, 2014 at 11:37 pm</a>		</div>

		<p>@cheong00: Well, go and purge those non-programmers. Come on, do it. I&#39;d like to watch it, especially there is not one programmer who read *all* the documentation relevant to his work, so you&#39;d have to expel everybody (yourself included).</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-mngoldeneagle odd alt thread-odd thread-alt depth-1" id="comment-1135453">
				<div id="div-comment-1135453" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/MNGoldenEagle' rel='external nofollow' class='url'>MNGoldenEagle</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140701-00/?p=603#comment-1135453">
			July 2, 2014 at 7:34 am</a>		</div>

		<p>@640k: Which metadata are you referring to? &nbsp;File metadata is stored in the MFT, so probably not. &nbsp;The Zone.Identifier metadata (&quot;You downloaded this from the Internet, so think hard before you run it&quot;) is stored as an ADS, so it would count as part of the quota.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1136173">
				<div id="div-comment-1136173" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">@Lockwood</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140701-00/?p=603#comment-1136173">
			July 4, 2014 at 2:50 am</a>		</div>

		<p>Actually Recycle Bin items do not get autosorted so stop complaining.</p>

		
				</div>
		</li><!-- #comment-## -->
		</ol><!-- .comment-list -->

		<div class="navigation pagination">
					</div>

	
			<p class="no-comments">Comments are closed.</p>
<!-- COMMENTS END -->
</div></td></tr></table>

</body>
</html>
<br/><div class="disclaimer">
*DISCLAIMER: I DO NOT OWN THIS CONTENT. If you are the owner and would like it removed, please
<a target="_blank" href="/contact.htm">contact me</a>.
The content herein is an archived reproduction of entries from
Raymond Chen's "Old New Thing" Blog (most recent link is <a target="_blank" href="https://devblogs.microsoft.com/oldnewthing/">here</a>).
It may have slight formatting modifications for consistency and to improve readability.
<br/><br/>
WHY DID I DUPLICATE THIS CONTENT HERE?
Let me first say this site has never had anything to sell and has never shown ads of any kind. I have nothing monetarily to gain by duplicating content here.
Because I had made my own local copy of this content throughout the years, for ease of using tools like grep, I decided to put it online after I discovered
some of the original content previously and publicly available, had disappeared approximately early to mid 2019.
At the same time, I present the content in an easily accessible theme-agnostic way.
<br/><br/>
The information provided by Raymond's blog is, for all practical purposes, more authoritative on Windows Development than Microsoft's
own MSDN documentation and should be considered supplemental reading to that documentation. The wealth of missing details
provided by this blog that Microsoft could not or did not document about Windows over the years is vital enough, many would agree an online "backup" of these details
is a necessary endeavor. Specifics include:<br/>
<ul>
    <li>
        A "redesign" after 2019 erased thousands of user's comments from previous years. As many have stated, the comments are nearly as important as the postings themselves.
        The archived copies of the postings contained here retain the original comments.
    </li>
    <li>
        The blog has changed domains many times and the urls have otherwise been under constant change since 2003.
        Even when proper redirection has been set up for those links, redirection only works for a limited period of time.
        For example, all of the internal blog links that were valid in early 2019, were broken by 2020 without proper redirection.
    </li>
    <li>
        The blog has been under constant re-design and re-theming since its inception.
        It is downright irritating to deal with a bogged-down site experience as the result of the latest visual themes designed for cell-phone browsers.
        As of this writing, it is cumbersome to navigate titles with only 10 entries per page.
        While it is nice that the official site has a search feature, searching using this index (with all titles on a single page) is much quicker (CTRL-F in most browsers).
    </li>
</ul>
</div><br/>
&lt;-- Back to <a href="index.htm">Old New Thing Archive Index</a>

