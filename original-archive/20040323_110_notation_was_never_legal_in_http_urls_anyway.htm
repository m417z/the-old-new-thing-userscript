<html>
<head>
<title>@-notation was never legal in HTTP URLs anyway</title>
<link rel="stylesheet" href="page.css">
</head><body>
<div class="titlediv"><h2>@-notation was never legal in HTTP URLs anyway</h2></div>
<div class="hdrdiv"><table class="hdrtable" cellspacing="0" cellpadding="0">
<tr><td><b>Date:</b></td><td>March 23, 2004 / year-entry #111</td></tr>
<tr><td><b>Tags:</b></td><td>other</td></tr>
<tr><td><b>Orig Link:</b></td><td>https://blogs.msdn.microsoft.com/oldnewthing/20040323-00/?p=40113</td></tr>

<tr><td><b>Comments:&nbsp;&nbsp;&nbsp;&nbsp;</b></td><td>21</td></tr>
<tr><td valign="top"><b>Summary:</b></td><td valign="top">Some people are in an uproar over IE's dropping of support for @ notation in HTTP URLs. What people fail to note is that The @ notation was never legal for HTTP URLs in the first place. If you go to RFC 1738 section 3.3 (HTTP), it explicitly states: An HTTP URL takes the form:...</td></tr>
</table></div>
<hr/>
<table class="contenttable" cellspacing="0" cellpadding="0"><tr><td><div class="contentdiv">
<!-- CONTENT START -->
<p>
Some people are in an uproar over IE's
<a HREF=http://support.microsoft.com/default.aspx?kbid=834489>
dropping of support for @ notation in HTTP URLs</a>.
What people fail to note is that
The @ notation <strong>was never legal for HTTP URLs in the
first place</strong>.
If you go to
<a HREF=http://www.freesoft.org/CIE/RFC/1738/14.htm>
RFC 1738 section 3.3 (HTTP)</a>,
it explicitly states:
</p>
<blockquote CLASS=q>
<p>
   An HTTP URL takes the form:</p>
<p>
<pre>
      http://&lt;host&gt;:&lt;port&gt;/&lt;path&gt;?&lt;searchpart&gt;
</pre>
<p>
   where &lt;host&gt; and &lt;port&gt; are as described in Section 3.1.
   If :&lt;port&gt;
   is omitted, the port defaults to 80.
   <strong>No user name or password is
   allowed.</strong>
</p>
</blockquote>
<p>
(Emphasis mine.)
</p>
<p>
So there are now three sides to the argument:
</p>
<ul>
<li>"I want Internet Explorer to be backwards-compatible with my invalid URLs."
    (These people want the @-syntax retained.)</p>
<li>"I want Internet Explorer to be more secure."
    (These people want the @-syntax removed.)</p>
<li>"I want Internet Explorer to be more standards-compliant."
    (These people also want the @-syntax removed.)
</ul>
<p>
Personally I think dropping support for @-notation was the
right thing to do.
</p>
<p>
[Raymond is currently on vacation; this message was pre-recorded.]</p>
<!-- CONTENT END -->
</div></td></tr></table>
<hr/>
<table class="commenttable" cellspacing="0" cellpadding="0"><tr><td><div class="commentdiv"><div class="commentdivhdr">
<!-- COMMENTS START -->
Comments (21)	</div>

	
			<div class="navigation pagination clear-both">
					</div>

		<ol class="comment-list">
					<li class="comment even thread-even depth-1" id="comment-156923">
				<div id="div-comment-156923" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://www.ensight.org' rel='external nofollow' class='url'>Jeremy C. Wright</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040323-00/?p=40113#comment-156923">
			March 23, 2004 at 7:34 am</a>		</div>

		<p>Of course it was the right thing to do. Sometimes doing the right thing needs to be defended against people who have the wrong perspective. Something that&#8217;s being done quite well.</p>
<p>Sometimes it also needs to be timed and communicated properly as well. Something that wasn&#8217;t done all that well.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-156933">
				<div id="div-comment-156933" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://www.jroller.com/page/kame/' rel='external nofollow' class='url'>Damien Bonvillain</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040323-00/?p=40113#comment-156933">
			March 23, 2004 at 7:40 am</a>		</div>

		<p>RFC1738 has been superseded by RFC2396, which removes the section 3.3 (see RFC2396 section 1), and place the RFC2396 section 3.2.2. Server-based Naming Authority as common for all URL schemes. So, @ inside the URI is legal since Windows 98.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-156943">
				<div id="div-comment-156943" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">CC</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040323-00/?p=40113#comment-156943">
			March 23, 2004 at 7:59 am</a>		</div>

		<p> Yup RFC2396 says .. &quot;This document defines the generic syntax of URI, including both absolute and relative forms, and guidelines or their use; it revises and replaces the generic definitions in RFC 1738 and RFC 1808.&quot;</p>
<p>.. but it looks as if someone mis-read section 3.1 of RFC1738, which describes the user:pass part but only just mentions that it is only valid with some schemes (ftp).</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-156963">
				<div id="div-comment-156963" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">John Brown</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040323-00/?p=40113#comment-156963">
			March 23, 2004 at 8:28 am</a>		</div>

		<p>The &#8216;@&#8217; symbol implicitly advocates the hegemony of hierarchical/colonialist Western institutions of social control and should therefore be considered deprecated.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-156973">
				<div id="div-comment-156973" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Wayne</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040323-00/?p=40113#comment-156973">
			March 23, 2004 at 8:39 am</a>		</div>

		<p>Is the @-symbol notation still valid for ftp: URLs?  According to the notice from Microsoft, only http: is affected.  I can see why it was removed for http: (I&#8217;ve never used it for that purpose) but <a target="_new" href="ftp://user@pass" rel="nofollow">ftp://user@pass</a> is very common.<br /></p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-156993">
				<div id="div-comment-156993" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://www.lparky.com/blog/' rel='external nofollow' class='url'>Louis Parks</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040323-00/?p=40113#comment-156993">
			March 23, 2004 at 9:24 am</a>		</div>

		<p>So far as I&#8217;m aware, it @-notation was only removed for HTTP URLs.  Using it with FTP URLs is still OK.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-157003">
				<div id="div-comment-157003" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Smelly</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040323-00/?p=40113#comment-157003">
			March 23, 2004 at 9:54 am</a>		</div>

		<p>I&#8217;m fairly certain that most of those who are complaining would have complained no matter what the final determination was.   Had MS kept the @ notation the very same pepople would now be bemoaning how insecure IE is because of it.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-157023">
				<div id="div-comment-157023" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://weblogs.asp.net/cumpsd/' rel='external nofollow' class='url'>David Cumps</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040323-00/?p=40113#comment-157023">
			March 23, 2004 at 11:23 am</a>		</div>

		<p>IE is more standard-compliant now, definately.</p>
<p>If for some reason you want to enable it to do some local dev testing: <a target="_new" href="http://weblogs.asp.net/cumpsd/archive/2004/02/07/69366.aspx" rel="nofollow">http://weblogs.asp.net/cumpsd/archive/2004/02/07/69366.aspx</a></p>
<p>It can be handy to have some localhost urls with demo passwords in for phpmyadmin for example (when you have set it up to http authentication)</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-157033">
				<div id="div-comment-157033" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">brian</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040323-00/?p=40113#comment-157033">
			March 23, 2004 at 2:50 pm</a>		</div>

		<p>Allowing @-notation in a URL wasn&#8217;t the real security problem, in my view.  The exploitable hole was that you could terminate the displayed URL before the real domain was shown.  Maybe your mom and dad would be confused by @-trollers, but the early string termination prompted MS to suggest that you not click on links anymore.  You know, just type in the URL you want to go to.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-157043">
				<div id="div-comment-157043" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://www.jroller.com/page/kame/' rel='external nofollow' class='url'>Damien Bonvillain</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040323-00/?p=40113#comment-157043">
			March 23, 2004 at 3:06 pm</a>		</div>

		<p>CC: I misread the section 1 of 2396, it does exclude from superseding the specific protocols part per scheme. Thus this RFC doesn&#8217;t affect http specificities defined in 1738. This is re-enforced by RFC2616 section 3.2.2. My bad, sorry Raymond Chen, you are right, I&#8217;m wrong.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-157053">
				<div id="div-comment-157053" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">(6)</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040323-00/?p=40113#comment-157053">
			March 23, 2004 at 3:32 pm</a>		</div>

		<p>How dare anybody try to suggest that Raymond is right? Everybody knows he&#8217;s never right about anything! :) (joke, <em>OBVIOUSLY</em>).  Keep up the good work the big &#8216;C&#8217;.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-157063">
				<div id="div-comment-157063" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Shane King</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040323-00/?p=40113#comment-157063">
			March 23, 2004 at 3:47 pm</a>		</div>

		<p>I think the standards compliance argument is a bit weak.</p>
<p><a href="http://www.microsoft.com" rel="nofollow">http://www.microsoft.com</a> isn&#8217;t a valid URL either, but I doubt any mainstream browser is ever going to not just tack on the http:// bit for convenience.</p>
<p>I&#8217;m not exactly sure how removal of the @ symbol makes anything more secure either. The security risks from the @ symbol are social, not technical (with the exception of any bugs in URL handling).<br /></p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-157073">
				<div id="div-comment-157073" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Norman Diamond</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040323-00/?p=40113#comment-157073">
			March 23, 2004 at 5:07 pm</a>		</div>

		<p>A related security problem, which remains, is the ability to display text in the status bar that is different from the actual destination of the link.  A plain technical standard could allow this with the point of view of not being a security standard.  A security standard would never allow it.</p>
<p>But no standard gets to tell Microsoft what to do.  If Microsoft decides to take security more seriously, they&#8217;ll change this too.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-157093">
				<div id="div-comment-157093" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://Strange...' rel='external nofollow' class='url'>Dino Viehland [MSFT]</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040323-00/?p=40113#comment-157093">
			March 23, 2004 at 6:09 pm</a>		</div>

		<p>Shane,</p>
<p>You might think no mainstream browser would not just tack http:// on the front, but you&#8217;d actually be wrong.</p>
<p>I don&#8217;t know if this will work, and Raymond&#8217;s block lacks a preview option, but: &lt;a href=&quot;www.microsoft.com&quot;&gt;test&lt;/a&gt; </p>
<p>If that doesn&#8217;t work you can try putting a href into a html page with just <a href="http://www.microsoft.com" rel="nofollow">http://www.microsoft.com</a> in the body.  On my local machine when I create the html page in C:temp the URL points to file://C:/Temp/www.microsoft.com.</p>
<p>So you can see if you did it on a web page it&#8217;s point to whetever the base-href is + &quot;/www.microsoft.com&quot;.  Which makes sense, as it&#8217;s just a relative URL at that point&#8230;</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-157103">
				<div id="div-comment-157103" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://Strange...' rel='external nofollow' class='url'>Dino Viehland [MSFT]</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040323-00/?p=40113#comment-157103">
			March 23, 2004 at 6:10 pm</a>		</div>

		<p>And of course it didn&#8217;t work :(&#8230;  You&#8217;ll have to try it out on your local machine&#8230; (and Raymond&#8217;s gone to remove my double post!)</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-157123">
				<div id="div-comment-157123" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Pavel Lebedinsky</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040323-00/?p=40113#comment-157123">
			March 23, 2004 at 8:41 pm</a>		</div>

		<blockquote><p>
  A related security problem, which remains, is the ability to display text in the status bar that is different from the actual destination of the link.</p>
<p>But at least the address bar display is fixed now, even if you re-enable basic auth URLs with the registry keys mentioned in the KB article.<br />
  
</p></blockquote>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-157133">
				<div id="div-comment-157133" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">RichB</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040323-00/?p=40113#comment-157133">
			March 23, 2004 at 11:03 pm</a>		</div>

		<p>While we&#8217;re being pedantic about URIs, could I do my little bit in the world to help Microsoft be more pedantic about URNs.</p>
<p>URNs have TWO colons in them, not one. So many times I see code from Microsoft with a single colon. urn:xxx is incorrect.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-157383">
				<div id="div-comment-157383" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Norman Diamond</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040323-00/?p=40113#comment-157383">
			March 24, 2004 at 4:56 pm</a>		</div>

		<p>3/23/2004 8:41 PM Pavel Lebedinsky:</p>
<p>&gt; But at least the address bar display is<br />
<br />&gt; fixed now,</p>
<p>Well, it changed into confusing garbage instead of being totally misleading as before.  Yes confusing garbage is safer than being totally misleading, so I&#8217;d call it partly fixed.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-157433">
				<div id="div-comment-157433" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Shane King</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040323-00/?p=40113#comment-157433">
			March 25, 2004 at 3:12 am</a>		</div>

		<p>&quot;You might think no mainstream browser would not just tack http:// on the front, but you&#8217;d actually be wrong.&quot;</p>
<p>I&#8217;m talking about when you type it in the address bar, not as a link on a web page (no browser that I&#8217;m aware of can auto-translate a href attribute, it has to assume it&#8217;s a relative path).<br /></p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-157543">
				<div id="div-comment-157543" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Centaur</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040323-00/?p=40113#comment-157543">
			March 25, 2004 at 1:11 pm</a>		</div>

		<p>And that’s not always a good thing, such as when you say “ftpsearch.example.com” and it guesses it is an ftp site and tacks ftp:// on it. Predictable http:// always would be ok, but now you have to know when you can omit http:// and when you can’t.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-157713">
				<div id="div-comment-157713" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://mormegil.wz.cz/' rel='external nofollow' class='url'>Petr Kadlec</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040323-00/?p=40113#comment-157713">
			March 26, 2004 at 1:05 am</a>		</div>

		<p>Oops. :-o I am really surprised! I have never even thought about @-notation being not legal (and I have even implemented some URI parsers with those RFCs before me). OK, it&#8217;s not legal according to the standards, then it&#8217;s good to remove them.<br />
<br />But I don&#8217;t like it. Really, I see no point in it. (Why should @ be allowed in ftp: URLs and not in http: ?) OK, some naive user is not able to understand that <a target="_new" href="http://www.microsoft.com@somewhere.com/" rel="nofollow">http://www.microsoft.com@somewhere.com/</a> does not point to microsoft, but that&#8217;s a problem of the user, not the URL. (What if I register a domain name like <a target="_new" href="http://www.microsoft.no-ip.com/" rel="nofollow">http://www.microsoft.no-ip.com/</a> ? The same user would of course think it is Microsoft&#8217;s site.) I consider the solution of the Opera browser to be better &#8212; when you try to go to some URL that contains login information, a dialog box is shown that warns you about possible security problem, and the dialog visibly displays the username and the real site name.<br />
<br />I hope Opera will keep this (against the standards, I know&#8230;). But where I would really miss @-notation is wget and similar tools. OK, I would be able to write wget &#8211;login=user:pass <a target="_new" href="http://example.com/" rel="nofollow">http://example.com/</a>, but I am used to @. :-)<br />
<br />(So my solution would be to make @-notation for http URLs legal, and include a note in the &quot;Security considerations&quot; chapter of the RFC.)</p>

		
				</div>
		</li><!-- #comment-## -->
		</ol><!-- .comment-list -->

		<div class="navigation pagination">
					</div>

	
			<p class="no-comments">Comments are closed.</p>
<!-- COMMENTS END -->
</div></td></tr></table>

</body>
</html>
<br/><div class="disclaimer">
*DISCLAIMER: I DO NOT OWN THIS CONTENT. If you are the owner and would like it removed, please
<a target="_blank" href="/contact.htm">contact me</a>.
The content herein is an archived reproduction of entries from
Raymond Chen's "Old New Thing" Blog (most recent link is <a target="_blank" href="https://devblogs.microsoft.com/oldnewthing/">here</a>).
It may have slight formatting modifications for consistency and to improve readability.
<br/><br/>
WHY DID I DUPLICATE THIS CONTENT HERE?
Let me first say this site has never had anything to sell and has never shown ads of any kind. I have nothing monetarily to gain by duplicating content here.
Because I had made my own local copy of this content throughout the years, for ease of using tools like grep, I decided to put it online after I discovered
some of the original content previously and publicly available, had disappeared approximately early to mid 2019.
At the same time, I present the content in an easily accessible theme-agnostic way.
<br/><br/>
The information provided by Raymond's blog is, for all practical purposes, more authoritative on Windows Development than Microsoft's
own MSDN documentation and should be considered supplemental reading to that documentation. The wealth of missing details
provided by this blog that Microsoft could not or did not document about Windows over the years is vital enough, many would agree an online "backup" of these details
is a necessary endeavor. Specifics include:<br/>
<ul>
    <li>
        A "redesign" after 2019 erased thousands of user's comments from previous years. As many have stated, the comments are nearly as important as the postings themselves.
        The archived copies of the postings contained here retain the original comments.
    </li>
    <li>
        The blog has changed domains many times and the urls have otherwise been under constant change since 2003.
        Even when proper redirection has been set up for those links, redirection only works for a limited period of time.
        For example, all of the internal blog links that were valid in early 2019, were broken by 2020 without proper redirection.
    </li>
    <li>
        The blog has been under constant re-design and re-theming since its inception.
        It is downright irritating to deal with a bogged-down site experience as the result of the latest visual themes designed for cell-phone browsers.
        As of this writing, it is cumbersome to navigate titles with only 10 entries per page.
        While it is nice that the official site has a search feature, searching using this index (with all titles on a single page) is much quicker (CTRL-F in most browsers).
    </li>
</ul>
</div><br/>
&lt;-- Back to <a href="index.htm">Old New Thing Archive Index</a>

