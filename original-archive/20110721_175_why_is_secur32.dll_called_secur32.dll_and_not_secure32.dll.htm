<html>
<head>
<title>Why is secur32.dll called secur32.dll and not secure32.dll?</title>
<link rel="stylesheet" href="page.css">
</head><body>
<div class="titlediv"><h2>Why is secur32.dll called secur32.dll and not secure32.dll?</h2></div>
<div class="hdrdiv"><table class="hdrtable" cellspacing="0" cellpadding="0">
<tr><td><b>Date:</b></td><td>July 21, 2011 / year-entry #176</td></tr>
<tr><td><b>Tags:</b></td><td>history</td></tr>
<tr><td><b>Orig Link:</b></td><td>https://blogs.msdn.microsoft.com/oldnewthing/20110721-00/?p=10093</td></tr>

<tr><td><b>Comments:&nbsp;&nbsp;&nbsp;&nbsp;</b></td><td>22</td></tr>
<tr><td valign="top"><b>Summary:</b></td><td valign="top">Many years ago, in a discussion of why you shouldn't name your DLL "security.dll", I dug a bit into the history behind the DLL. Here are some other useless tidbits about that file. Originally, there were two DLLs called security.dll. One was the 32-bit version and one was the 16-bit version. They could coexist because...</td></tr>
</table></div>
<hr/>
<table class="contenttable" cellspacing="0" cellpadding="0"><tr><td><div class="contentdiv">
<!-- CONTENT START -->
<p>Many years ago, in a discussion of <a href="http://blogs.msdn.com/oldnewthing/archive/2004/07/02/171769.aspx"> why you shouldn't name your DLL "security.dll"</a>, I dug a bit into the history behind the DLL. Here are some other useless tidbits about that file.</p>
<p> Originally, there were two DLLs called <code>security.dll</code>. One was the 32-bit version and one was the 16-bit version. They could coexist because the 32-bit version was in the <code>system32</code> directory and the 16-bit version was in the <code>system</code> directory. </p>
<p> And then Windows&nbsp;95 showed up and screwed up everything. </p>
<p> Windows&nbsp;95 did not have separate <code>system32</code> and <code>system</code> directories. All the system files, both 16-bit and 32-bit, were lumped together in a single <code>system</code> directory. When the Security Support Provider Interface was ported to Windows&nbsp;95, this created a problem, for it would require two files in the same directory to have the same name. Since the 16-bit version had seniority (because your Windows&nbsp;95 installation may have been an upgrade install over Windows&nbsp;3.1, which would have been the 16-bit version), it was the 32-bit version that had to be renamed. </p>
<p> Okay, so why <code>secur32.dll</code>? Well, <code>security32.dll</code> was too long, since it exceeded the classic 8.3 limit, and Windows&nbsp;NT supported being run on FAT volumes (which necessarily did not support long file names, since long file names on FAT didn't exist until Windows&nbsp;95). Okay, but why <code>secur32.dll</code> instead of <code>secure32.dll</code>, which still fits inside the 8.3 constraints? </p>
<p> Nobody knows for sure any more; the person who chose the name left Microsoft a long time ago. Perhaps because <code>secur32.dll</code> looked better than <code>securi32.dll</code>. Maybe he couldn't count. </p>
<!-- CONTENT END -->
</div></td></tr></table>
<hr/>
<table class="commenttable" cellspacing="0" cellpadding="0"><tr><td><div class="commentdiv"><div class="commentdivhdr">
<!-- COMMENTS START -->
Comments (22)	</div>

	
			<div class="navigation pagination clear-both">
					</div>

		<ol class="comment-list">
					<li class="comment even thread-even depth-1" id="comment-926023">
				<div id="div-comment-926023" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Paul</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20110721-00/?p=10093#comment-926023">
			July 21, 2011 at 7:10 am</a>		</div>

		<p>Maybe due to the security.dll clash?</p>
<p>&quot;You want your app&#39;s 32bit security DLL to be called secure32.dll? Fine, We&#39;ll sit out of its way.&quot;</p>
<p>As a guess.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-926033">
				<div id="div-comment-926033" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Bob</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20110721-00/?p=10093#comment-926033">
			July 21, 2011 at 7:10 am</a>		</div>

		<p>Securit3.dll. Claim it&#39;s l33t French.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-926063">
				<div id="div-comment-926063" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">J</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20110721-00/?p=10093#comment-926063">
			July 21, 2011 at 7:26 am</a>		</div>

		<p>Reminds me of the &quot;creat&quot; and &quot;umount&quot; fiascos in Unix-land.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-926083">
				<div id="div-comment-926083" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">NB</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20110721-00/?p=10093#comment-926083">
			July 21, 2011 at 7:35 am</a>		</div>

		<p>Maybe because secure32.dll would give the wrong impression &#8211; hint that it&#39;s a &quot;secure&quot; DLL rather than a DLL related to the security provider?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-926093">
				<div id="div-comment-926093" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Josh Einstein</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20110721-00/?p=10093#comment-926093">
			July 21, 2011 at 7:54 am</a>		</div>

		<p>Maybe he thought 128 bit OS&#39;s would come before long filename support and planned ahead?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-maurits odd alt thread-odd thread-alt depth-1" id="comment-926113">
				<div id="div-comment-926113" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Maurits+%5BMSFT%5D' rel='external nofollow' class='url'>Maurits [MSFT]</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20110721-00/?p=10093#comment-926113">
			July 21, 2011 at 8:22 am</a>		</div>

		<p>Another alternative:</p>
<p>32-bit version: security.dll</p>
<p>16-bit version: security.16</p>
<div class="post">[<i>And that would show up in the import table how? -Raymond</i>]</div>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-926123">
				<div id="div-comment-926123" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Nick</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20110721-00/?p=10093#comment-926123">
			July 21, 2011 at 9:01 am</a>		</div>

		<p>Why are you assuming it was a he? Women make mistakes too, just don&#39;t tell my wife I said that. ;)</p>
<div class="post">[<i>Because it was a &quot;he&quot;. (Next time, I&#39;ll write gender-neutrally, like I usually do. Though that won&#39;t stop people from <a href="http://blogs.msdn.com/b/oldnewthing/archive/2008/09/30/8969392.aspx#8971387" rel="nofollow">assuming</a> <a href="http://blogs.msdn.com/b/oldnewthing/archive/2008/01/21/7181075.aspx#7185072" rel="nofollow">it was</a> <a href="http://blogs.msdn.com/b/oldnewthing/archive/2007/09/26/5131601.aspx#5144792" rel="nofollow">a guy</a>. In at least one of the linked stories, the subject is in fact female. I won&#39;t say which one(s), so don&#39;t try guessing.) -Raymond</i>]</div>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-926133">
				<div id="div-comment-926133" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">S</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20110721-00/?p=10093#comment-926133">
			July 21, 2011 at 9:17 am</a>		</div>

		<p>Maybe he was leet? The 3 is an E?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-926153">
				<div id="div-comment-926153" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Troll</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20110721-00/?p=10093#comment-926153">
			July 21, 2011 at 9:43 am</a>		</div>

		<p>Why were games in Windows 9x never 32-bit binaries? Even after Windows NT was shipping with 32-bit binaries, Charmap, Clipbrd, Dialer, Defrag, Scandskw and the games always remained 16-bit even in Windows Me.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-926163">
				<div id="div-comment-926163" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Joshua</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20110721-00/?p=10093#comment-926163">
			July 21, 2011 at 11:33 am</a>		</div>

		<p>@Troll: because in Win9x, 16 bit was in fact king and if you were going to do low-level junk you had an easier time being 16 bit.</p>
<p>In particular I name Scandskw and Defrag as needing to be 16 bit because 16 bit can do direct disk IO while 32 bit can&#39;t.</p>
<p>Also, on Win9x, a 16 bit app can suspend the multitasking environment. I think this is the reason for the special Ctrl-alt-del handler in Win9x that overrode thread priority (or maybe it simply used it).</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-926173">
				<div id="div-comment-926173" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Troll</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20110721-00/?p=10093#comment-926173">
			July 21, 2011 at 12:19 pm</a>		</div>

		<p>In Windows 9x, ScanDskw.exe is just a wrapper for shell functions. Some guy even created a 32-bit ScanDskw which can replace 16-bit Scandskw and runs just fine.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-926183">
				<div id="div-comment-926183" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">f0dder</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20110721-00/?p=10093#comment-926183">
			July 21, 2011 at 1:12 pm</a>		</div>

		<p>&quot;32-bit version: security.dll, 16-bit version: security.16</p>
<p>[And that would show up in the import table how? -Raymond]&quot;</p>
<p>As security.dll and security.16? Just like some PEs have WINSPOOL.DRV referenced in the import table? :)</p>
<div class="post">[<i>News flash: 16-bit apps aren&#39;t PE format. -Raymond</i>]</div>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-926193">
				<div id="div-comment-926193" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">JK</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20110721-00/?p=10093#comment-926193">
			July 21, 2011 at 2:14 pm</a>		</div>

		<p>letter &quot;i&quot; is sometimes mis-read as number &quot;1&quot; or letter &quot;l&quot; in a small monitor. This is the reason why license plate does not allow letter &quot;i&quot; and &quot;l&quot; to avoid confusion.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-yuhong-bao odd alt thread-odd thread-alt depth-1" id="comment-926203">
				<div id="div-comment-926203" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Yuhong+Bao' rel='external nofollow' class='url'>Yuhong Bao</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20110721-00/?p=10093#comment-926203">
			July 21, 2011 at 2:21 pm</a>		</div>

		<p>&quot;(which necessarily did not support long file names, since long file names on FAT didn&#39;t exist until Windows 95)&quot;</p>
<p>Actually it was NT 3.5 that first supported LFNs on FAT.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-yuhong-bao even thread-even depth-1" id="comment-926213">
				<div id="div-comment-926213" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Yuhong+Bao' rel='external nofollow' class='url'>Yuhong Bao</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20110721-00/?p=10093#comment-926213">
			July 21, 2011 at 2:29 pm</a>		</div>

		<p>&quot;In particular I name Scandskw and Defrag as needing to be 16 bit because 16 bit can do direct disk IO while 32 bit can&#39;t.&quot;</p>
<p>Well, I think VWIN32 had a documented DeviceIoControl interface to call the necessary DOS calls for disk IO.</p>
<p>&quot;Also, on Win9x, a 16 bit app can suspend the multitasking environment.&quot;</p>
<p>Yep, I know, the infamous Win16Mutex.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-926233">
				<div id="div-comment-926233" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Adam Rosenfield</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20110721-00/?p=10093#comment-926233">
			July 21, 2011 at 2:45 pm</a>		</div>

		<p>@JK: That&#39;s probably determined on a state-by-state basis. &nbsp;There&#39;s a car with NH plates II1I11 (or maybe it was I11II1, I can&#39;t remember exactly) that I often walk by. &nbsp;I&#39;m betting that the owner intentionally chose the combination of I&#39;s and 1&#39;s that was most likely to be written down incorrectly by a policeman (or anyone else in the chain) in order to maximize the chance of avoiding a ticket.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-926263">
				<div id="div-comment-926263" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Muzer</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20110721-00/?p=10093#comment-926263">
			July 21, 2011 at 5:01 pm</a>		</div>

		<p>I&#39;m going to bite here &#8211; so why didn&#39;t they just have separate system/system32 directories in Win9x like they did in earlier and later versions of Windows, if it caused this problem, and presumably quite a few more problems?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-926253">
				<div id="div-comment-926253" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">f0dder</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20110721-00/?p=10093#comment-926253">
			July 21, 2011 at 3:43 pm</a>		</div>

		<p>&quot;[News flash: 16-bit apps aren&#39;t PE format. -Raymond]&quot;</p>
<p>My bad, had momentarily forgotten about NE; thanks for the history reminder :)</p>
<p>I can&#39;t be bothered looking up the reference nor a 16-bit capable OS, but my hunch is it imports by module name without extension.</p>
<p>So, it *should* have been possible to do &quot;security.dll&quot; for 16-bit Windows, &quot;security.32&quot; for 32-bit. Whether it would have been a good idea is another discussion entirely :)</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-926283">
				<div id="div-comment-926283" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">SuperKoko</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20110721-00/?p=10093#comment-926283">
			July 22, 2011 at 12:47 am</a>		</div>

		<blockquote><p>
  Also, on Win9x, a 16 bit app can suspend the multitasking environment.
</p></blockquote>
<p>A 16 bit app can only suspend all 16 bit processes, including the GDI/USER stuff.</p>
<p>Consequently, an application doing 32 bits stuff (e.g. CreateFile/WriteFile) but no GUI interaction, won&#39;t be stopped by a 16 bits application.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-926293">
				<div id="div-comment-926293" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">640k</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20110721-00/?p=10093#comment-926293">
			July 22, 2011 at 1:13 am</a>		</div>

		<p>Are the 64-bit security dll called secur32.dll or security.dll?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-926323">
				<div id="div-comment-926323" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Neil</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20110721-00/?p=10093#comment-926323">
			July 22, 2011 at 3:25 am</a>		</div>

		<p>Other things 16-bit apps could do (more) easily:</p>
<ol>
<li>
<p>Read the free system resources. Someone had this app which happened to display the free system resources for some reason. Obviously the 16-bit version displayed bogus results on NT, but nobody cared about that. When he wanted to port his app to 32-bit he wanted to link to RSRC32.DLL so that he could continue to display the free system resources on Windows 9x, it being more popular than NT4. So I wrote him a version of RSRC32.DLL to install on Windows NT so that their 32-bit app could link to it and get the same bogus results as the old 16-bit version of the app used to get.</p>
</li>
<li>
<p>Play sounds on the internal beeper. So for instance Minesweeper could play its little scale when you won.</p>
</li>
</ol>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-926333">
				<div id="div-comment-926333" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Random832</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20110721-00/?p=10093#comment-926333">
			July 22, 2011 at 6:19 am</a>		</div>

		<p>&quot;A 16 bit app can only suspend all 16 bit processes, including the GDI/USER stuff. Consequently, an application doing 32 bits stuff (e.g. CreateFile/WriteFile) but no GUI interaction, won&#39;t be stopped by a 16 bits application.&quot;</p>
<p>How will it get scheduled?</p>
<div class="post">[<i>Um, pre-emptively. -Raymond</i>]</div>

		
				</div>
		</li><!-- #comment-## -->
		</ol><!-- .comment-list -->

		<div class="navigation pagination">
					</div>

	
			<p class="no-comments">Comments are closed.</p>
<!-- COMMENTS END -->
</div></td></tr></table>

</body>
</html>
<br/><div class="disclaimer">
*DISCLAIMER: I DO NOT OWN THIS CONTENT. If you are the owner and would like it removed, please
<a target="_blank" href="/contact.htm">contact me</a>.
The content herein is an archived reproduction of entries from
Raymond Chen's "Old New Thing" Blog (most recent link is <a target="_blank" href="https://devblogs.microsoft.com/oldnewthing/">here</a>).
It may have slight formatting modifications for consistency and to improve readability.
<br/><br/>
WHY DID I DUPLICATE THIS CONTENT HERE?
Let me first say this site has never had anything to sell and has never shown ads of any kind. I have nothing monetarily to gain by duplicating content here.
Because I had made my own local copy of this content throughout the years, for ease of using tools like grep, I decided to put it online after I discovered
some of the original content previously and publicly available, had disappeared approximately early to mid 2019.
At the same time, I present the content in an easily accessible theme-agnostic way.
<br/><br/>
The information provided by Raymond's blog is, for all practical purposes, more authoritative on Windows Development than Microsoft's
own MSDN documentation and should be considered supplemental reading to that documentation. The wealth of missing details
provided by this blog that Microsoft could not or did not document about Windows over the years is vital enough, many would agree an online "backup" of these details
is a necessary endeavor. Specifics include:<br/>
<ul>
    <li>
        A "redesign" after 2019 erased thousands of user's comments from previous years. As many have stated, the comments are nearly as important as the postings themselves.
        The archived copies of the postings contained here retain the original comments.
    </li>
    <li>
        The blog has changed domains many times and the urls have otherwise been under constant change since 2003.
        Even when proper redirection has been set up for those links, redirection only works for a limited period of time.
        For example, all of the internal blog links that were valid in early 2019, were broken by 2020 without proper redirection.
    </li>
    <li>
        The blog has been under constant re-design and re-theming since its inception.
        It is downright irritating to deal with a bogged-down site experience as the result of the latest visual themes designed for cell-phone browsers.
        As of this writing, it is cumbersome to navigate titles with only 10 entries per page.
        While it is nice that the official site has a search feature, searching using this index (with all titles on a single page) is much quicker (CTRL-F in most browsers).
    </li>
</ul>
</div><br/>
&lt;-- Back to <a href="index.htm">Old New Thing Archive Index</a>

