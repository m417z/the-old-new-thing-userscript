<html>
<head>
<title>After all, it's called a hotkey, not a hotcharacter</title>
<link rel="stylesheet" href="page.css">
</head><body>
<div class="titlediv"><h2>After all, it&#8217;s called a hotkey, not a hotcharacter</h2></div>
<div class="hdrdiv"><table class="hdrtable" cellspacing="0" cellpadding="0">
<tr><td><b>Date:</b></td><td>May 7, 2018 / year-entry #106</td></tr>
<tr><td><b>Tags:</b></td><td>code</td></tr>
<tr><td><b>Orig Link:</b></td><td>https://blogs.msdn.microsoft.com/oldnewthing/20180507-00/?p=98695</td></tr>

<tr><td><b>Comments:&nbsp;&nbsp;&nbsp;&nbsp;</b></td><td>7</td></tr>
<tr><td valign="top"><b>Summary:</b></td><td valign="top">Hotkeys are based on keys.</td></tr>
</table></div>
<hr/>
<table class="contenttable" cellspacing="0" cellpadding="0"><tr><td><div class="contentdiv">
<!-- CONTENT START -->
<p>
A customer was writing a remote access program,
and they were having trouble injecting hotkeys into the system.
</p>
<blockquote CLASS="q">
<p>
We are sending the modified key as a scan code,
and the base character as a Unicode character.
We find that shortcuts of the form Modifier+Letter,
such as <kbd>Ctrl</kbd>+<kbd>A</kbd>,
are not working.
Are there known limitations for keyboard shortcuts sent
as a scancode+Unicode character?
</p>
<p>
We are sending the base character as a Unicode character
to avoid issues with localization and keyboard layouts.
</p>
</blockquote>
<p>
Keyboard shortcuts are based on virtual key codes,
not Unicode characters.
After all, it's called a hotkey, not a hotcharacter.
</p>
<p>
Continuing the above example, the <kbd>Ctrl</kbd>+<kbd>A</kbd>
hotkey is not a <kbd>Ctrl</kbd> plus the Unicode character U+0041
(LATIN CAPITAL LETTER A).
</p>
<p>You cannot hold the <kbd>Ctrl</kbd> key while typing
<kbd>Alt</kbd>+<kbd>0</kbd>
<kbd>Alt</kbd>+<kbd>6</kbd>
<kbd>Alt</kbd>+<kbd>5</kbd>
on the numeric keypad to get a <kbd>Ctrl</kbd>+<kbd>A</kbd>.
</p>
<p>
Even if CapsLock is off, you don't have to hold the shift key
to get a capital A.
</p>
<p>
For the hotkey <kbd>Win</kbd>+<kbd>1</kbd>, you have to press
the <kbd>1</kbd> on the main keyboard, not on the numeric keypad,
even if NumLock is on.
</p>
<p>
Keyboard hotkeys consist of the applicable modifiers, combined
with the key on the keyboard that has the appropriate symbol
printed on it.
Sending a Unicode character isn't the same as simulating a press
of a key on a keyboard.
</p>
<p>
You have to send the virtual key to complete the hotkey sequence.</p>
<!-- CONTENT END -->
</div></td></tr></table>
<hr/>
<table class="commenttable" cellspacing="0" cellpadding="0"><tr><td><div class="commentdiv"><div class="commentdivhdr">
<!-- COMMENTS START -->
Comments (7)	</div>

		<div id="respond" class="comment-respond">
		<h3 id="reply-title" class="comment-reply-title"> <small><a rel="nofollow" id="cancel-comment-reply-link" href="/oldnewthing/20180507-00/?p=98695#respond" style="display:none;">Cancel reply</a></small></h3>			<form action="https://blogs.msdn.microsoft.com/oldnewthing/wp-comments-post.php" method="post" id="commentform" class="comment-form">
				<p class="comment-form-comment"><textarea id="comment" name="comment" cols="45" rows="4" aria-required="true"></textarea></p><p class="comment-form-author"><label for="author">Name <span class="required">*</span></label> <input id="author" name="author" type="text" value="" size="30" maxlength="245" aria-required='true' required='required' /></p>
<p class="comment-form-email"><label for="email">Email <span class="required">*</span></label> <input id="email" name="email" type="text" value="" size="30" maxlength="100" aria-describedby="email-notes" aria-required='true' required='required' /></p>
<p class="comment-form-url"><label for="url">Website</label> <input id="url" name="url" type="text" value="" size="30" maxlength="200" /></p>
<p class="form-submit"><input name="submit" type="submit" id="submit" class="submit btn btn-default" value="Post Comment" /> <input type='hidden' name='comment_post_ID' value='98695' id='comment_post_ID' />
<input type='hidden' name='comment_parent' id='comment_parent' value='0' />
</p><p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="9d0cf7426d" /></p><p style="display: none;"><input type="hidden" id="ak_js" name="ak_js" value="0"/></p>			</form>
			</div><!-- #respond -->
	
			<div class="navigation pagination clear-both">
					</div>

		<ol class="comment-list">
					<li class="comment byuser comment-author-koldude even thread-even depth-1 parent" id="comment-1335925">
				<div id="div-comment-1335925" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/kantos' rel='external nofollow' class='url'>kantos</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20180507-00/?p=98695#comment-1335925">
			May 7, 2018 at 7:16 am</a>		</div>

		<p>IIRC from what I remember of the dearly departed Michael Kaplan&#8217;s blog, keyboard layouts are implemented as kind of a lookup table the kernel uses to map the physical key to the virtual key, and then a map of that how the live keys and dead keys interact to create input.</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='https://blogs.msdn.microsoft.com/oldnewthing/20180507-00/?p=98695&#038;replytocom=1335925#respond' onclick='return addComment.moveForm( "div-comment-1335925", "1335925", "respond", "98695" )' aria-label='Reply to kantos'>Reply</a></div>
				</div>
		<ol class="children">
		<li class="comment odd alt depth-2" id="comment-1336465">
				<div id="div-comment-1336465" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Azarien</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20180507-00/?p=98695#comment-1336465">
			May 10, 2018 at 10:18 am</a>		</div>

		<p>Speaking of layouts, it would be nice to have the ability to use different layouts on different physical keyboards&#8230;</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='https://blogs.msdn.microsoft.com/oldnewthing/20180507-00/?p=98695&#038;replytocom=1336465#respond' onclick='return addComment.moveForm( "div-comment-1336465", "1336465", "respond", "98695" )' aria-label='Reply to Azarien'>Reply</a></div>
				</div>
		</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
		<li class="comment even thread-odd thread-alt depth-1 parent" id="comment-1335975">
				<div id="div-comment-1335975" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Aged .Net Guy</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20180507-00/?p=98695#comment-1335975">
			May 7, 2018 at 1:45 pm</a>		</div>

		<p>So is that to say the customer&#8217;s hope &#8220;&#8230; to avoid issues with localization and keyboard layouts&#8221; is in vain?  That the remote control (&#8220;master&#8221;) program must know which keyboard layout is in use on the remote (&#8220;slave&#8221;) session and do all the translation on the master end?  Which leads to all sorts of fun if the master end doesn&#8217;t have the slave&#8217;s keyboard layout even installed, much less in use.</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='https://blogs.msdn.microsoft.com/oldnewthing/20180507-00/?p=98695&#038;replytocom=1335975#respond' onclick='return addComment.moveForm( "div-comment-1335975", "1335975", "respond", "98695" )' aria-label='Reply to Aged .Net Guy'>Reply</a></div>
				</div>
		<ol class="children">
		<li class="comment byuser comment-author-cheong odd alt depth-2" id="comment-1336065">
				<div id="div-comment-1336065" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/cheong00' rel='external nofollow' class='url'>cheong00</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20180507-00/?p=98695#comment-1336065">
			May 8, 2018 at 3:09 am</a>		</div>

		<p>The relevant blog post is here:<br />
<a href="http://archives.miloush.net/michkap/archive/2008/06/19/8620456.html" rel="nofollow">http://archives.miloush.net/michkap/archive/2008/06/19/8620456.html</a></p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='https://blogs.msdn.microsoft.com/oldnewthing/20180507-00/?p=98695&#038;replytocom=1336065#respond' onclick='return addComment.moveForm( "div-comment-1336065", "1336065", "respond", "98695" )' aria-label='Reply to cheong00'>Reply</a></div>
				</div>
		</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1336105">
				<div id="div-comment-1336105" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://deleted' rel='external nofollow' class='url'>Pierre B.</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20180507-00/?p=98695#comment-1336105">
			May 8, 2018 at 7:35 am</a>		</div>

		<p>Hotkeys are a mess.</p>
<p>Some are hard-coded to letters, like Ctrl-C, which means pressing Ctrl and whichever key has &#8216;C&#8217; on it.</p>
<p>Other are linked to word, so it&#8217;s Ctrl-H (say) in one language, and Ctrl- in another. So it&#8217;s linked to localisation.</p>
<p>Yet others are linked to positions on the keyboard (think WASD to move in a game). So you need to adjust to physical layout.</p>
<p>Yet others are user-configurable&#8230; and then you need to know what the user meants. Is tilde (~) shift+backquote? Or tilde? Or Shift + whichever key happens to be below ESC?</p>
<p>Good luck. It&#8217;s a mess of intentions, layout, localisation and mind reading.</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='https://blogs.msdn.microsoft.com/oldnewthing/20180507-00/?p=98695&#038;replytocom=1336105#respond' onclick='return addComment.moveForm( "div-comment-1336105", "1336105", "respond", "98695" )' aria-label='Reply to Pierre B.'>Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1 parent" id="comment-1336345">
				<div id="div-comment-1336345" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Kumar R</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20180507-00/?p=98695#comment-1336345">
			May 10, 2018 at 12:13 am</a>		</div>

		<p>Neither is it called a hotvirtualscancode. How should anyone assume it’s a scan code?</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='https://blogs.msdn.microsoft.com/oldnewthing/20180507-00/?p=98695&#038;replytocom=1336345#respond' onclick='return addComment.moveForm( "div-comment-1336345", "1336345", "respond", "98695" )' aria-label='Reply to Kumar R'>Reply</a></div>
				</div>
		<ol class="children">
		<li class="comment even depth-2" id="comment-1336385">
				<div id="div-comment-1336385" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">smf</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20180507-00/?p=98695#comment-1336385">
			May 10, 2018 at 8:30 am</a>		</div>

		<p>Because it&#8217;s called a hotkey and keys are represented by scancodes.</p>
<p>You press keys to get characters, but that doesn&#8217;t mean characters are keys.</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='https://blogs.msdn.microsoft.com/oldnewthing/20180507-00/?p=98695&#038;replytocom=1336385#respond' onclick='return addComment.moveForm( "div-comment-1336385", "1336385", "respond", "98695" )' aria-label='Reply to smf'>Reply</a></div>
				</div>
		</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
		</ol><!-- .comment-list -->

		<div class="navigation pagination">
					</div>
<!-- COMMENTS END -->
</div></td></tr></table>

</body>
</html>
<br/><div class="disclaimer">
*DISCLAIMER: I DO NOT OWN THIS CONTENT. If you are the owner and would like it removed, please
<a target="_blank" href="/contact.htm">contact me</a>.
The content herein is an archived reproduction of entries from
Raymond Chen's "Old New Thing" Blog (most recent link is <a target="_blank" href="https://devblogs.microsoft.com/oldnewthing/">here</a>).
It may have slight formatting modifications for consistency and to improve readability.
<br/><br/>
WHY DID I DUPLICATE THIS CONTENT HERE?
Let me first say this site has never had anything to sell and has never shown ads of any kind. I have nothing monetarily to gain by duplicating content here.
Because I had made my own local copy of this content throughout the years, for ease of using tools like grep, I decided to put it online after I discovered
some of the original content previously and publicly available, had disappeared approximately early to mid 2019.
At the same time, I present the content in an easily accessible theme-agnostic way.
<br/><br/>
The information provided by Raymond's blog is, for all practical purposes, more authoritative on Windows Development than Microsoft's
own MSDN documentation and should be considered supplemental reading to that documentation. The wealth of missing details
provided by this blog that Microsoft could not or did not document about Windows over the years is vital enough, many would agree an online "backup" of these details
is a necessary endeavor. Specifics include:<br/>
<ul>
    <li>
        A "redesign" after 2019 erased thousands of user's comments from previous years. As many have stated, the comments are nearly as important as the postings themselves.
        The archived copies of the postings contained here retain the original comments.
    </li>
    <li>
        The blog has changed domains many times and the urls have otherwise been under constant change since 2003.
        Even when proper redirection has been set up for those links, redirection only works for a limited period of time.
        For example, all of the internal blog links that were valid in early 2019, were broken by 2020 without proper redirection.
    </li>
    <li>
        The blog has been under constant re-design and re-theming since its inception.
        It is downright irritating to deal with a bogged-down site experience as the result of the latest visual themes designed for cell-phone browsers.
        As of this writing, it is cumbersome to navigate titles with only 10 entries per page.
        While it is nice that the official site has a search feature, searching using this index (with all titles on a single page) is much quicker (CTRL-F in most browsers).
    </li>
</ul>
</div><br/>
&lt;-- Back to <a href="index.htm">Old New Thing Archive Index</a>

