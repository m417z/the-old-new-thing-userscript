<html>
<head>
<title>Why does the MonthCalendar control show the wrong week numbers in Romania?</title>
<link rel="stylesheet" href="page.css">
</head><body>
<div class="titlediv"><h2>Why does the MonthCalendar control show the wrong week numbers in Romania?</h2></div>
<div class="hdrdiv"><table class="hdrtable" cellspacing="0" cellpadding="0">
<tr><td><b>Date:</b></td><td>November 2, 2018 / year-entry #248</td></tr>
<tr><td><b>Tags:</b></td><td>code</td></tr>
<tr><td><b>Orig Link:</b></td><td>https://blogs.msdn.microsoft.com/oldnewthing/20181102-00/?p=100125</td></tr>

<tr><td><b>Comments:&nbsp;&nbsp;&nbsp;&nbsp;</b></td><td>15</td></tr>
<tr><td valign="top"><b>Summary:</b></td><td valign="top">Wrong from whose point of view?</td></tr>
</table></div>
<hr/>
<table class="contenttable" cellspacing="0" cellpadding="0"><tr><td><div class="contentdiv">
<!-- CONTENT START -->
<p>
A customer liaison reported that the MonthCalendar control
was showing incorrect week numbers when run on a Romanian system.
They included screen shots of the calendar control running on a German
system and a Romanian system for comparison:
</p>
<table BORDER="0" CELLPADDING="0" CELLSPACING="0" TITLE="January 1 falls on a Friday. German calendar calls it week 53, but Romanian calendar calls it week 1.">
<tr>
<td>
<table CLASS="cp3" BORDER="0" CELLPADDING="3" CELLSPACING="0" STYLE="text-align: right;border-collapse: collapse;color: black">
<tr>
<td STYLE="text-align: left">&#x25c0;&#xfe0e;</td>
<td></td>
<td COLSPAN="5" STYLE="text-align: center">Januar 2016</td>
<td>&#x25b6;&#xfe0e;</td>
</tr>
<tr STYLE="text-align: center">
<td></td>
<td>Mo</td>
<td>Di</td>
<td>Mi</td>
<td>Do</td>
<td>Fr</td>
<td>Sa</td>
<td>So</td>
</tr>
<tr>
<td STYLE="font-size: 8pt;color: black;border-right: 1px solid gray">53</td>
<td STYLE="color: gray">28</td>
<td STYLE="color: gray">29</td>
<td STYLE="color: gray">30</td>
<td STYLE="color: gray">31</td>
<td>1</td>
<td>2</td>
<td>3</td>
</tr>
<tr>
<td STYLE="font-size: 8pt;color: black;border-right: 1px solid gray">1</td>
<td>4</td>
<td>5</td>
<td>6</td>
<td>7</td>
<td>8</td>
<td>9</td>
<td>10</td>
</tr>
<tr>
<td STYLE="font-size: 8pt;color: black;border-right: 1px solid gray">2</td>
<td>11</td>
<td>12</td>
<td>13</td>
<td>14</td>
<td>15</td>
<td>16</td>
<td>17</td>
</tr>
<tr>
<td STYLE="font-size: 8pt;color: black;border-right: 1px solid gray">3</td>
<td>18</td>
<td>19</td>
<td>20</td>
<td>21</td>
<td>22</td>
<td>23</td>
<td>24</td>
</tr>
<tr>
<td STYLE="font-size: 8pt;color: black;border-right: 1px solid gray">4</td>
<td>25</td>
<td>26</td>
<td>27</td>
<td>28</td>
<td>29</td>
<td>30</td>
<td>31</td>
</tr>
</table>
</td>
<td STYLE="width: 2em">&nbsp;</td>
<td>
<table CLASS="cp3" BORDER="0" CELLPADDING="3" CELLSPACING="0" STYLE="text-align: right;border-collapse: collapse;color: black">
<tr>
<td STYLE="text-align: left">&#x25c0;&#xfe0e;</td>
<td></td>
<td COLSPAN="5" STYLE="text-align: center">ianuarie 2016</td>
<td>&#x25b6;&#xfe0e;</td>
</tr>
<tr STYLE="text-align: center">
<td></td>
<td>L</td>
<td>Ma</td>
<td>Mi</td>
<td>J</td>
<td>V</td>
<td>S</td>
<td>D</td>
</tr>
<tr>
<td STYLE="font-size: 8pt;color: black;border-right: 1px solid gray">1</td>
<td STYLE="color: gray">28</td>
<td STYLE="color: gray">29</td>
<td STYLE="color: gray">30</td>
<td STYLE="color: gray">31</td>
<td>1</td>
<td>2</td>
<td>3</td>
</tr>
<tr>
<td STYLE="font-size: 8pt;color: black;border-right: 1px solid gray">2</td>
<td>4</td>
<td>5</td>
<td>6</td>
<td>7</td>
<td>8</td>
<td>9</td>
<td>10</td>
</tr>
<tr>
<td STYLE="font-size: 8pt;color: black;border-right: 1px solid gray">3</td>
<td>11</td>
<td>12</td>
<td>13</td>
<td>14</td>
<td>15</td>
<td>16</td>
<td>17</td>
</tr>
<tr>
<td STYLE="font-size: 8pt;color: black;border-right: 1px solid gray">4</td>
<td>18</td>
<td>19</td>
<td>20</td>
<td>21</td>
<td>22</td>
<td>23</td>
<td>24</td>
</tr>
<tr>
<td STYLE="font-size: 8pt;color: black;border-right: 1px solid gray">5</td>
<td>25</td>
<td>26</td>
<td>27</td>
<td>28</td>
<td>29</td>
<td>30</td>
<td>31</td>
</tr>
</table>
</td>
</tr>
<tr STYLE="text-align: center">
<td>Germany</td>
<td STYLE="width: 2em">&nbsp;</td>
<td>Romania</td>
</tr>
</table>
<p>
January 1 falls on a Friday.
The German calendar calls it week 53,
but the Romanian calendar calls it week 1.
</p>
<p>
The customer liaison is making the implicit assumption that
the German calendar is the correct one and the Romanian one is wrong.
But that's not what the Romanians think!
</p>
<p>
Under the Romanian calendar system,
the first week of the year is the week that contains January 1.
Under the German calendar system,
the first week of the year is the week that contains at least four days
from that year.
</p>
<p>
So both calendars are right, for their corresponding locales.</p>
<p>It turns out that this is the same customer liaison who asked
the same question about the Romanian calendar nine months earlier.
I was able to forward the answer to their previous question as
a response to their current one.
But it's clear that they didn't really understand the explanation,
because they came back and asked,
"Shouldn't they be the same?
The first week should be the same on the German
system and on the Romanian system, right?"
</p>
<p>
No, that's not right.
<a HREF="https://blogs.msdn.microsoft.com/oldnewthing/20151112-00/?p=92121">
Different locales have different rules for determining which week
is the first week of the year</a>,
in the same way that different locales have different rules for
determining which day is the first day of the week.
Translating a calendar is more complicated than just doing a
search-and-replace for the names of the
days of the week and the names of the months.
(And boy are they in for a surprise when they first encounter
non-Gregorian calendars!)</p>
<!-- CONTENT END -->
</div></td></tr></table>
<hr/>
<table class="commenttable" cellspacing="0" cellpadding="0"><tr><td><div class="commentdiv"><div class="commentdivhdr">
<!-- COMMENTS START -->
Comments (15)	</div>

	
			<div class="navigation pagination clear-both">
					</div>

		<ol class="comment-list">
					<li class="comment even thread-even depth-1 parent" id="comment-1369445">
				<div id="div-comment-1369445" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Andomar</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20181102-00/?p=100125#comment-1369445">
			November 2, 2018 at 7:49 am</a>		</div>

		<p>This brings back memories of automating orders between a Dutch and an Eastern European company. Both worked with week numbers. In the first year everything worked fine, but a year later the weeks started running 1 week apart :)</p>

		
				</div>
		<ol class="children">
		<li class="comment odd alt depth-2" id="comment-1369465">
				<div id="div-comment-1369465" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Falcon</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20181102-00/?p=100125#comment-1369465">
			November 2, 2018 at 8:16 am</a>		</div>

		<p>&#8220;Lousy Smarch weather!&#8221;</p>

		
				</div>
		</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
		<li class="comment even thread-odd thread-alt depth-1" id="comment-1369505">
				<div id="div-comment-1369505" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://geelaw.blog/' rel='external nofollow' class='url'>GL</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20181102-00/?p=100125#comment-1369505">
			November 2, 2018 at 10:08 am</a>		</div>

		<p>Psychic paraphrasing of what the customer is looking for: a MonthCalendar that decouples display language and locale-dependent date/time rules.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-even depth-1 parent" id="comment-1369515">
				<div id="div-comment-1369515" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Julien Oster</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20181102-00/?p=100125#comment-1369515">
			November 2, 2018 at 10:28 am</a>		</div>

		<p>Since I moved from Germany to the US, I noticed that I practically don&#8217;t use week numbers anymore. Is that a property of the particular company I work at, or are week numbers really not common for planning in the US?</p>

		
				</div>
		<ol class="children">
		<li class="comment byuser comment-author-oldnewthing bypostauthor even depth-2 parent" id="comment-1369545">
				<div id="div-comment-1369545" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Raymond+Chen+-+MSFT' rel='external nofollow' class='url'>Raymond Chen - MSFT</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20181102-00/?p=100125#comment-1369545">
			November 2, 2018 at 11:18 am</a>		</div>

		<p><a href="https://blogs.msdn.microsoft.com/oldnewthing/20160311-00/?p=93144">Nobody uses week numbers in the US</a>. Most people don&#8217;t even know that week numbering is a thing in Europe.</p>

		
				</div>
		<ol class="children">
		<li class="comment byuser comment-author-matteo odd alt depth-3 parent" id="comment-1369615">
				<div id="div-comment-1369615" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Matteo+Italia' rel='external nofollow' class='url'>Matteo Italia</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20181102-00/?p=100125#comment-1369615">
			November 2, 2018 at 5:41 pm</a>		</div>

		<p>Is it actually a thing that is widespread in Europe in general? Living in Italy I never knew or cared about week numbers.</p>

		
				</div>
		<ol class="children">
		<li class="comment byuser comment-author-hikari even depth-4" id="comment-1369655">
				<div id="div-comment-1369655" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Chris+Crowther' rel='external nofollow' class='url'>Chris Crowther</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20181102-00/?p=100125#comment-1369655">
			November 3, 2018 at 1:40 am</a>		</div>

		<p>It&#8217;s not much of a thing in the UK, but it is where I work because the marine industry uses week numbers extensively. We use the ISO week numbers, specifically.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt depth-4 parent" id="comment-1369705">
				<div id="div-comment-1369705" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Voo</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20181102-00/?p=100125#comment-1369705">
			November 3, 2018 at 5:02 am</a>		</div>

		<p>It&#8217;s not in private usage, but it&#8217;s very common for project management.</p>
<p>I don&#8217;t think I&#8217;ve used week numbers a single time privately, but it comes up all the time at work.</p>
<p>As long as you remember what week it currently is, it works just fine.</p>

		
				</div>
		<ol class="children">
		<li class="comment byuser comment-author-cheong even depth-5" id="comment-1369755">
				<div id="div-comment-1369755" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/cheong00' rel='external nofollow' class='url'>cheong00</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20181102-00/?p=100125#comment-1369755">
			November 4, 2018 at 6:14 pm</a>		</div>

		<p>In one of my previous company, we also use week number on project management.</p>
<p>However, instead of week number relative to the beginning of year, we use week number relative to beginning of the project.</p>

		
				</div>
		</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
		<li class="comment odd alt depth-2" id="comment-1369685">
				<div id="div-comment-1369685" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Ray Koopa</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20181102-00/?p=100125#comment-1369685">
			November 3, 2018 at 3:01 am</a>		</div>

		<p>Living in Germany, I&#8217;ve used week numbers about three times in the last 15 years, but just because others used them.</p>

		
				</div>
		</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
		<li class="comment even thread-odd thread-alt depth-1 parent" id="comment-1369555">
				<div id="div-comment-1369555" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://baltasarq.info/' rel='external nofollow' class='url'>Baltasar</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20181102-00/?p=100125#comment-1369555">
			November 2, 2018 at 11:45 am</a>		</div>

		<p>Calendar management is one of the great problems in computer science. BTW, here in Spain we don&#8217;t use week numbers. I mean, we know they exist, but we never say &#8220;we have to finish this for week x&#8221; or whatever.</p>

		
				</div>
		<ol class="children">
		<li class="comment byuser comment-author-matteo odd alt depth-2" id="comment-1369735">
				<div id="div-comment-1369735" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Matteo+Italia' rel='external nofollow' class='url'>Matteo Italia</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20181102-00/?p=100125#comment-1369735">
			November 4, 2018 at 7:52 am</a>		</div>

		<p>I&#8217;d argue that it&#8217;s not a problem of computer science, but of human stubborn attachment to arbitrary and fragmented ways of measuring time (measuring systems in general are quite bad &#8211; I&#8217;m looking at you imperial units &#8211; but calendar customs are probably the worst offenders).</p>
<p>Also, as said above, I can confirm that week numbers aren&#8217;t really a thing even here in Italy (at least, in my experience).</p>

		
				</div>
		</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1369585">
				<div id="div-comment-1369585" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Brian</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20181102-00/?p=100125#comment-1369585">
			November 2, 2018 at 1:24 pm</a>		</div>

		<p>&gt; (And boy are they in for a surprise when they first encounter non-Gregorian calendars!)</p>
<p>They&#8217;ll also be in for a big surprise if they ever open a calendar to December 2011 in Samoa.  December 30 will be missing.</p>
<p>I once encountered a service provider who used server locale to control date parsing logic.  Of course, they also had a load balancer, so developers couldn&#8217;t control which server serviced their requests (and in fact, requests did not have machine affinity).  Any developer who foolishly used non-ISO Date formats (their language-specific API libraries consistently used &#8220;string&#8221; to handle Date parameters) was leaving it up to the service provider&#8217;s load balancer to decide whether to treat the date as mm/dd/yyyy or dd/mm/yyyy .</p>
<p>For those who enjoy these sort of localization horror stories, Jon Skeet discusses several in his Tony-the-Pony presentation ( <a href="https://codeblog.jonskeet.uk/2009/11/02/omg-ponies-aka-humanity-epic-fail/" rel="nofollow">https://codeblog.jonskeet.uk/2009/11/02/omg-ponies-aka-humanity-epic-fail/</a> ).</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1369605">
				<div id="div-comment-1369605" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://english.rejbrand.se' rel='external nofollow' class='url'>Andreas Rejbrand</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20181102-00/?p=100125#comment-1369605">
			November 2, 2018 at 4:05 pm</a>		</div>

		<p>My mobile phone (not a &#8220;smartphone&#8221;, a normal cellphone) says that the week from Monday 2018-01-01 to Friday 2018-01-07 is week 2. I wonder if this is right in any commonly used week-numbering scheme&#8230; At least it isn&#8217;t right according to the current locale (Sweden). Fortunately, Microsoft Windows and Office gets it right.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-hardon even thread-even depth-1" id="comment-1369725">
				<div id="div-comment-1369725" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/gdalsnes' rel='external nofollow' class='url'>gdalsnes</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20181102-00/?p=100125#comment-1369725">
			November 4, 2018 at 4:15 am</a>		</div>

		<p>I thought all european countries used iso 8601 weeks. Maybe Romania is the only one left (stubborn one).</p>

		
				</div>
		</li><!-- #comment-## -->
		</ol><!-- .comment-list -->

		<div class="navigation pagination">
					</div>

	
			<p class="no-comments">Comments are closed.</p>
<!-- COMMENTS END -->
</div></td></tr></table>

</body>
</html>
<br/><div class="disclaimer">
*DISCLAIMER: I DO NOT OWN THIS CONTENT. If you are the owner and would like it removed, please
<a target="_blank" href="/contact.htm">contact me</a>.
The content herein is an archived reproduction of entries from
Raymond Chen's "Old New Thing" Blog (most recent link is <a target="_blank" href="https://devblogs.microsoft.com/oldnewthing/">here</a>).
It may have slight formatting modifications for consistency and to improve readability.
<br/><br/>
WHY DID I DUPLICATE THIS CONTENT HERE?
Let me first say this site has never had anything to sell and has never shown ads of any kind. I have nothing monetarily to gain by duplicating content here.
Because I had made my own local copy of this content throughout the years, for ease of using tools like grep, I decided to put it online after I discovered
some of the original content previously and publicly available, had disappeared approximately early to mid 2019.
At the same time, I present the content in an easily accessible theme-agnostic way.
<br/><br/>
The information provided by Raymond's blog is, for all practical purposes, more authoritative on Windows Development than Microsoft's
own MSDN documentation and should be considered supplemental reading to that documentation. The wealth of missing details
provided by this blog that Microsoft could not or did not document about Windows over the years is vital enough, many would agree an online "backup" of these details
is a necessary endeavor. Specifics include:<br/>
<ul>
    <li>
        A "redesign" after 2019 erased thousands of user's comments from previous years. As many have stated, the comments are nearly as important as the postings themselves.
        The archived copies of the postings contained here retain the original comments.
    </li>
    <li>
        The blog has changed domains many times and the urls have otherwise been under constant change since 2003.
        Even when proper redirection has been set up for those links, redirection only works for a limited period of time.
        For example, all of the internal blog links that were valid in early 2019, were broken by 2020 without proper redirection.
    </li>
    <li>
        The blog has been under constant re-design and re-theming since its inception.
        It is downright irritating to deal with a bogged-down site experience as the result of the latest visual themes designed for cell-phone browsers.
        As of this writing, it is cumbersome to navigate titles with only 10 entries per page.
        While it is nice that the official site has a search feature, searching using this index (with all titles on a single page) is much quicker (CTRL-F in most browsers).
    </li>
</ul>
</div><br/>
&lt;-- Back to <a href="index.htm">Old New Thing Archive Index</a>

