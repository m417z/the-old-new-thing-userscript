<html>
<head>
<title>Keep your eye on the code page</title>
<link rel="stylesheet" href="page.css">
</head><body>
<div class="titlediv"><h2>Keep your eye on the code page</h2></div>
<div class="hdrdiv"><table class="hdrtable" cellspacing="0" cellpadding="0">
<tr><td><b>Date:</b></td><td>March 8, 2005 / year-entry #58</td></tr>
<tr><td><b>Tags:</b></td><td>other</td></tr>
<tr><td><b>Orig Link:</b></td><td>https://blogs.msdn.microsoft.com/oldnewthing/20050308-00/?p=36253</td></tr>

<tr><td><b>Comments:&nbsp;&nbsp;&nbsp;&nbsp;</b></td><td>47</td></tr>
<tr><td valign="top"><b>Summary:</b></td><td valign="top">Remember that there are typically two 8-bit code pages active, the so-called "ANSI" code page and the so-called "OEM" code page. GUI programs usually use the ANSI code page for 8-bit files (though utf-8 is becoming more popular lately), whereas console programs usually use the OEM code page. This means, for example, when you open...</td></tr>
</table></div>
<hr/>
<table class="contenttable" cellspacing="0" cellpadding="0"><tr><td><div class="contentdiv">
<!-- CONTENT START -->
<p>
Remember that there are typically two 8-bit code pages active,
the so-called "ANSI" code page and the so-called "OEM" code page.
GUI programs usually use the ANSI code page for 8-bit files
(though utf-8 is becoming more popular lately),
whereas console programs usually use the OEM code page.
</p>
<p>
This means, for example,
when you open an 8-bit text file in Notepad, it assumes the ANSI
code page.  But if you use the TYPE command from the command prompt,
it will use the OEM code page.
</p>
<p>
This has interesting consequences if you switch between the GUI
and the command line frequently.
</p>
<p>
The two code pages typically agree on the first 128 characters,
but they nearly always disagree on the characters from 128 to 255
(so-called "extended characters").
For example, on a US-English machine, character 0x80 in the OEM
code page is &Ccedil;, whereas in the ANSI code page it is
&#x80;.
</p>
<p>
Consider a directory which contains a file named <tt>&Ccedil;</tt>.
If you type "dir" at a command prompt, you see a happy <tt>&Ccedil;</tt>
on the screen.
On the other hand, if you do "dir &gt;files.txt" and open files.txt
in a GUI editor like Notepad, you will find that the &Ccedil; has
changed to a &#x80;, because the 0x80 in the file is being interpreted
in the ANSI character set instead of the OEM character set.
</p>
<p>
Stranger yet, if you mark/select the file name from the console window
and paste it into Notepad, you get a &Ccedil;.  That's because the
console window's mark/select code saves text on the clipboard as Unicode;
the character saved into the clipboard is not 0x80 but rather U+00C7,
the Unicode code point for "Latin Capital Letter C With Cedilla".
When this is pasted into Notepad, it gets converted from Unicode to
the ANSI code page, which on a US-English system encodes the &Ccedil;
character as 0xC7.
</p>
<p>
But wait, there's more.  The command processor has an option (/U)
to generate all piped and redirected output in Unicode rather than
the OEM code page.
</p>
<p>
(Note that the built-in documentation for the
command processor says that the /A switch produces ANSI output;
this is incorrect.  /A produces OEM output.
This is one of those bugs that you recognize instantly
if you are familiar with what is going on.  It's so obviously
OEM that when I see the documentation say "ANSI", my mind just
reads it as "OEM".  In the same way native English speakers
often fail to notice misspellings or doubled words.)
</p>
<p>
If you run the command
</p>
<pre>
cmd /U /C dir ^&gt;files.txt
</pre>
<p>
then the output will be in Unicode and therefore will record the
&Ccedil; character as U+00C7, which Notepad will then be able to
read back.
</p>
<p>
This has serious consequences for batch files.
</p>
<p>
Batch files are 8-bit files and are interpreted according to the
OEM character set.  This means that if you write a batch file
with Notepad or some other program that uses the ANSI character
set for 8-bit files, and your batch file contains extended
characters, the results you get will not match the what you see
in your editor.
</p>
<p>
Why the discrepancy between GUI programs and console programs
over how 8-bit characters should be interpreted?
</p>
<p>
The reason is, of course, historical.
</p>
<p>
Back in the days of MS-DOS, the code page was what today is called
the OEM code page.  For US-English systems, this is the code page
with the box-drawing characters and the fragments of the integral
signs.  It contained accented letters, but not a very big set of them,
just enough to cover the German, French, Spanish, and Italian languages.
And Swedish.  (Why Swedish yet not Danish and Norwegian I don't know.)
</p>
<p>
When Windows came along, it decided that those box-drawing characters
were wasting valuable space that could be used for adding still more
accented characters, so
<a HREF="/michkap/archive/2005/02/08/369197.aspx">
out went the box-drawing characters and
in went characters for Danish, Norwegian, Icelandic, and
Canadian French</a>.  (Yes, Canadian French uses characters that
European French does not.)
</p>
<p>
Thus began the schism between console programs (MS-DOS) and
GUI programs (Windows) over how 8-bit character data should
be interpreted.</p>
<!-- CONTENT END -->
</div></td></tr></table>
<hr/>
<table class="commenttable" cellspacing="0" cellpadding="0"><tr><td><div class="commentdiv"><div class="commentdivhdr">
<!-- COMMENTS START -->
Comments (47)	</div>

	
			<div class="navigation pagination clear-both">
					</div>

		<ol class="comment-list">
					<li class="comment even thread-even depth-1" id="comment-261683">
				<div id="div-comment-261683" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Dave</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050308-00/?p=36253#comment-261683">
			March 8, 2005 at 7:19 am</a>		</div>

		<p>I presume the &quot;^&quot; character in the command-line example above is a typo&#8230;<br /></p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-261693">
				<div id="div-comment-261693" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">^</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050308-00/?p=36253#comment-261693">
			March 8, 2005 at 7:21 am</a>		</div>

		<p>cmd /U /C dir ^&gt;files.txt</p>
<p>Why do you use a ^ to make the &gt; literal?<br />
<br />The result is the same (in this case).</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-261703">
				<div id="div-comment-261703" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Ben Hutchings</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050308-00/?p=36253#comment-261703">
			March 8, 2005 at 7:24 am</a>		</div>

		<p>Would I be right in guessing that &quot;OEM&quot; refers to the fact that the character encodings used by DOS were effectively chosen by the PC manufacturer (OEM) and burnt into the video card ROM?</p>
<p>&quot;The command processor has an option (/U) to generate all piped and redirected output in Unicode rather than the OEM code page.&quot;</p>
<p>How does this work? Does the command interpreter pipe the output through itself?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-261713">
				<div id="div-comment-261713" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">scritch</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050308-00/?p=36253#comment-261713">
			March 8, 2005 at 7:27 am</a>		</div>

		<p>What are the characters that are in Canadian French and not in European French  ?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-261733">
				<div id="div-comment-261733" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Obviator</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050308-00/?p=36253#comment-261733">
			March 8, 2005 at 7:29 am</a>		</div>

		<p>So then why didn&#8217;t we get two consoles? One for running MS-DOS programs, one for doing real work (compiling etc). To avoid confusion, the former could be restricted to running 16-bit DOS executables, and the latter to 32-bit Win command line programs. (But that isn&#8217;t a necessity.)</p>
<p>Having said this, I would bet that a decent implementation of console for Windows is somewhere to be found on the &#8216;net, using the ANSI code page and everything.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-261743">
				<div id="div-comment-261743" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Mike R</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050308-00/?p=36253#comment-261743">
			March 8, 2005 at 7:38 am</a>		</div>

		<p>There are 2: The 32-bit cmd.exe, and the 16-bit command.com.. :)<br /></p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-261753">
				<div id="div-comment-261753" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://www.winwonk.com' rel='external nofollow' class='url'>Kim Gr&#228;sman</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050308-00/?p=36253#comment-261753">
			March 8, 2005 at 7:39 am</a>		</div>

		<p>As a Swede with a dotted-character name, this really messes up my console apps :-)</p>
<p>Shouldn&#8217;t I be able to use the CP command, or similar, to set the ANSI codepage on my command prompt to get rid of the discrepancy?</p>
<p>Can anyone provide details?</p>
<p>Thanks,<br />
<br />&#8211; Kim</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-261763">
				<div id="div-comment-261763" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://blogs.msdn.com/michkap/' rel='external nofollow' class='url'>Michael Kaplan</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050308-00/?p=36253#comment-261763">
			March 8, 2005 at 7:41 am</a>		</div>

		<p>The funniest thing about the OEM code pages is who the original OEM was &#8212; it was IBM. Ours were mostly cooler and definitely covered more languages, though&#8230;.</p>
<p>More info on the ACP/OEMCP split at <a target="_new" href="http://blogs.msdn.com/michkap/archive/2005/02/08/369197.aspx" rel="nofollow">http://blogs.msdn.com/michkap/archive/2005/02/08/369197.aspx</a> and an antecdote from Helen Custer about where the ANSI term came from here at <a target="_new" href="http://blogs.msdn.com/michkap/archive/2005/03/01/382289.aspx" rel="nofollow">http://blogs.msdn.com/michkap/archive/2005/03/01/382289.aspx</a> . :-)</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-261783">
				<div id="div-comment-261783" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">AC</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050308-00/?p=36253#comment-261783">
			March 8, 2005 at 8:20 am</a>		</div>

		<p>Canadian French puts accents on capital letters. French French doesn&#8217;t, which leads to ambiguity in all-caps newspaper headlines (peche vs p&#234;che vs p&#233;ch&#233;) but looks more beautiful on the printed page.<br />
<br />I think IBM just forgot about the &#216; character. Their people were certainly embarrassed enough about the omission at the time!</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-261793">
				<div id="div-comment-261793" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://lundie.ca/' rel='external nofollow' class='url'>Chris Lundie</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050308-00/?p=36253#comment-261793">
			March 8, 2005 at 8:22 am</a>		</div>

		<p>Don&#8217;t know if this is the right answer, but Canadian French uses upper-case vowels with accents, which is kind of unique.</p>
<p>Also I was surprised to learn that in French, you are supposed to put a non-break space in front of a colon. I always wondered why that character existed.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-261803">
				<div id="div-comment-261803" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Ben Hutchings</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050308-00/?p=36253#comment-261803">
			March 8, 2005 at 8:35 am</a>		</div>

		<p>Michael: I heard that MS had quite a bit of input into the design of cp437 though. IBM and MS cooperated very closely until MS decided to focus on Windows instead of OS/2.</p>
<p>Obviator, Kim: Use the chcp command to change the code page used by the command interpreter and its console. You probably want code page 1252.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-261813">
				<div id="div-comment-261813" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Jonathan Perret</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050308-00/?p=36253#comment-261813">
			March 8, 2005 at 9:01 am</a>		</div>

		<p>That French capitals should not be accented, in France or elsewhere, is an unfortunately very common misconception, relayed by many a clueless schoolteacher.</p>
<p>I can only point interested people over there (French only, though I doubt this is a problem for the aforementioned) :<br />
<br /><a target="_new" href="http://www.langue-fr.net/d/maj_accent/maj_accent.htm" rel="nofollow">http://www.langue-fr.net/d/maj_accent/maj_accent.htm</a></p>
<p>Re the console CP : UTF-8 is the future. Use CHCP 65001 !<br /></p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-261823">
				<div id="div-comment-261823" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://weblogs.asp.net/oldnewthing/' rel='external nofollow' class='url'>Raymond Chen</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050308-00/?p=36253#comment-261823">
			March 8, 2005 at 9:07 am</a>		</div>

		<p>The ^ emphasizes that the redirection is processed by the inner command processor.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-261843">
				<div id="div-comment-261843" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://www.jasmusic.com' rel='external nofollow' class='url'>Joshua Schaeffer</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050308-00/?p=36253#comment-261843">
			March 8, 2005 at 9:31 am</a>		</div>

		<p>&quot; As a Swede with a dotted-character name, this really messes up my console apps :-) &quot;</p>
<p>My last name in the original German also has an A-umlaut. Are your spelling rules the same as German ones for eliminating it?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-261853">
				<div id="div-comment-261853" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Mihai</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050308-00/?p=36253#comment-261853">
			March 8, 2005 at 9:52 am</a>		</div>

		<p>&quot;Canadian French uses upper-case vowels with accents, which is kind of unique.&quot;<br />
<br />This seems to be related to the fact that OEM code pages did not have accented uppercase vowels. So the French user lived with what he had. It was incorrect, but it was all that was available. I have seen this with other languages too.</p>
<p>&quot;Also I was surprised to learn that in French, you are supposed to put a non-break space in front of a colon.&quot;<br />
<br />And not only colon. Empirical rule is &quot;before any punctuation with two elements and inside quotes&quot;. This means before : ; ? !<br />
<br />And the French use chevrons for quotes, like this &#171;&amp;nbsp;quoted&amp;nbsp;&#187; text.<br /></p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-261863">
				<div id="div-comment-261863" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Mihai</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050308-00/?p=36253#comment-261863">
			March 8, 2005 at 9:58 am</a>		</div>

		<p>You can change the code page of the console using chcp and change the font to a non-raster font.<br />
<br />For Latin 1 use chcp 1252 and Lucida Console.<br />
<br />Then you can &quot;type&quot; a file and looks ok.<br />
<br />You can do the same from code (SetConsoleOutputCP for output and SetConsoleCP for input).</p>
<p>And small correction to the previous post &quot;before any punctuation with two elements, and inside quotes&quot; (comma added :-)</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-261873">
				<div id="div-comment-261873" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://kreiger.linuxgods.com' rel='external nofollow' class='url'>Christoffer &quot;Kreiger&quot; Hammarstr&#246;m</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050308-00/?p=36253#comment-261873">
			March 8, 2005 at 11:12 am</a>		</div>

		<p>I&#8217;ve always wondered why Microsoft has a fetish for calling its text encodings &quot;ANSI&quot; and &quot;OEM&quot;, instead of using the IANA standardized names. </p>
<p><a target="_new" href="http://www.iana.org/assignments/character-sets" rel="nofollow">http://www.iana.org/assignments/character-sets</a></p>
<p>Doesn&#8217;t OEM stand for &quot;Original Equipments Manufacturer&quot; ?</p>
<p>Also, isn&#8217;t the ANSI family of text encodings based on an early version of what later became standardized as &quot;iso-8859-*&quot; ?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-261883">
				<div id="div-comment-261883" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Wesha</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050308-00/?p=36253#comment-261883">
			March 8, 2005 at 11:17 am</a>		</div>

		<p>I just wonder who was that&#8230; ummm&#8230; insightful person in Windows development team who decided to invent YET ANOTHER codepage for Cyrillic when developing windows? We ALREADY had three &#8212; national standard KOI8-R, MS-DOS standard CP-866 and Apple&#8217;s MacCyrillic. And of course M$ couldn&#8217;t just take the national standard &#8212; or at least its own DOS standard; that&#8217;d be way too rational. You had to invent a <em>totally new one</em>, like we didn&#8217;t have enough already. How characteristic.<br /></p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-261903">
				<div id="div-comment-261903" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://kreiger.linuxgods.com' rel='external nofollow' class='url'>Christoffer &quot;Kreiger&quot; Hammarstr&#246;m</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050308-00/?p=36253#comment-261903">
			March 8, 2005 at 11:37 am</a>		</div>

		<p>Raymond: I might add that you have a UTF-8 problem in the &quot;name&quot; form field.<br />
<br />My name is pre-entered as &#8216;Christoffer &quot;Kreiger&quot; Hammarstr&#195;&#182;m&#8217; when the URL ends with &quot;?Pending=true&quot;, and as normal when the URL doesn&#8217;t.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-261913">
				<div id="div-comment-261913" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://weblogs.asp.net/oldnewthing/' rel='external nofollow' class='url'>Raymond Chen</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050308-00/?p=36253#comment-261913">
			March 8, 2005 at 11:51 am</a>		</div>

		<p>I don&#8217;t run the web site. If you have feedback about the server software, you can send it to Scott W.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-261923">
				<div id="div-comment-261923" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://blogs.msdn.com/mgrier' rel='external nofollow' class='url'>Michael Grier [MSFT]</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050308-00/?p=36253#comment-261923">
			March 8, 2005 at 2:55 pm</a>		</div>

		<p>Re: ANSI vs. OEM:</p>
<p>Don&#8217;t try to read too much into them.  OEM is the DOS code page that the BIOS uses for FAT filesystems.  Thus it&#8217;s set by the hardware manufacturer.</p>
<p>The use of the term &quot;ANSI&quot; for the other codepage is probably a misnomer; it&#8217;s just a variable which can be set to any of a number of code pages.</p>
<p>Re: Unicode vs. UCS-2 vs. Utf-16:</p>
<p>We stil have this problem a lot.  Most people don&#8217;t know anything more about Unicode than it&#8217;s more complex than ASCII was and maybe less complex than MBCS was, and it takes two bytes per character.  People that I try to explain the truth to usually get a glazed over look in their eyes and ask something like, &quot;yeah, well, that&#8217;s interesting.  What do I really have to worry about?&quot;</p>
<p>The official story is that as of Windows 2000, we consider the two-bytes-per-cell encoding to now be Utf-16 rather than UCS-2 because the core rendering and UI pieces changed to deal with surrogate pairs then.  On the other hand, very little software will avoid splitting surrogate pairs or combining diacritics so YMMV.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-261933">
				<div id="div-comment-261933" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Matt</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050308-00/?p=36253#comment-261933">
			March 8, 2005 at 4:36 pm</a>		</div>

		<p>One time, I was surprised to find out that the Microsoft C compiler converts Unicode strings from ANSI to Unicode (or is it OEM to Unicode :-)  So, if you create an array like TCHAR array[] = { 0x80, 0x81, 0x82, 0x83 }; the result won&#8217;t be what you expect!<br /></p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-261953">
				<div id="div-comment-261953" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Jon Potter</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050308-00/?p=36253#comment-261953">
			March 8, 2005 at 5:23 pm</a>		</div>

		<p>That&#8217;s because the definition of TCHAR changes depending on whether UNICODE is defined or not. Nothing surprising there&#8230;</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-261963">
				<div id="div-comment-261963" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Norman Diamond</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050308-00/?p=36253#comment-261963">
			March 8, 2005 at 5:42 pm</a>		</div>

		<p>As far as I can tell from old experiments booting Windows 9x in real mode and watching Windows 2000 etc. during cold boot and during wakeup from hibernation, there are more than one OEM code page.  At least one is a US OEM code page (is that 437?) and one is a Japanese OEM code page (932).  The Japanese OEM code page is identical to the Japanese ANSI code page so we don&#8217;t have problems copying between Notepad and MS-DOS command prompts in any Windows 9x or NT-based system.  But this also means we don&#8217;t really know what the difference is until Mr. Chen teaches us ^_^</p>
<p>However,</p>
<p>&gt; when you open an 8-bit text file in Notepad,<br />
<br />&gt; it assumes the ANSI code page</p>
<p>But which ANSI code page does it assume?  As you pointed out in a previous blog posting, sometimes it even assumes an ANSI code page which the user has never used and the user might not even have installed fonts for it.</p>
<p>3/8/2005 2:55 PM Michael Grier [MSFT]</p>
<p>&gt; OEM is the DOS code page that the BIOS uses<br />
<br />&gt; for FAT filesystems.</p>
<p>Huh?????  Since when does the BIOS examine filesystem structures and look for filenames?  And since when is the assumed ANSI code page for filenames chosen by a hardware manufacturer instead of the chosen by whichever language version of Windows is installed?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-261973">
				<div id="div-comment-261973" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://www.foxyshadis.com' rel='external nofollow' class='url'>foxyshadis</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050308-00/?p=36253#comment-261973">
			March 8, 2005 at 6:07 pm</a>		</div>

		<p>The comment probably need to be clarified; OEM is the original DOS code page that was at the time burned into video memory around $C000 (I believe?). I don&#8217;t think it was in the bios, unless the video read it out of the bios, the bios just sent raw binary to the video processing chip, which used its burned in code page (actually bitmaps) to render characters, save some reserved ones &lt;32.</p>
<p>Eventually it was definitely moved into the OS, copied to ensure minimal change from the huge number of DOS apps then in existence.</p>
<p>Thankfully, with unicode we can once more play text mode cards with proper suit pictures in any code page. ^_~</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-261983">
				<div id="div-comment-261983" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Isaac Chen</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050308-00/?p=36253#comment-261983">
			March 8, 2005 at 6:39 pm</a>		</div>

		<p>Christoffer: &quot;It seems Microsoft most often says Unicode to mean UCS-2&quot;<br />
<br />IIRC, it should be UTF-16, at least in Windows 2000+ systems.<br /></p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-261893">
				<div id="div-comment-261893" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://kreiger.linuxgods.com' rel='external nofollow' class='url'>Christoffer &quot;Kreiger&quot; Hammarstr&#246;m</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050308-00/?p=36253#comment-261893">
			March 8, 2005 at 11:32 am</a>		</div>

		<p>Also, a (non-Microsoft-specific) pet peeve or mine is when someone refers to &quot;Unicode&quot;, without qualifying *what* Unicode-encoding is used. UTF-8? UCS-2? UCS-4?<br />
<br />It seems Microsoft most often says &quot;Unicode&quot; to mean &quot;UCS-2&quot;.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-261993">
				<div id="div-comment-261993" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Mihai</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050308-00/?p=36253#comment-261993">
			March 8, 2005 at 8:48 pm</a>		</div>

		<p>For Norman Diamond:<br />
<br />Windows terminology:<br />
<br />  ANSI Code Page=System Active Code Page (ACP)<br />
<br />  OEM Code Page=default console code page<br />
<br />Both of them can be double byte or non-Latin 1.</p>
<p>See Michael Kaplan&#8217;s blog:<br />
<br /><a target="_new" href="http://blogs.msdn.com/michkap/archive/2005/02/08/369197.aspx" rel="nofollow">http://blogs.msdn.com/michkap/archive/2005/02/08/369197.aspx</a><br /></p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-262003">
				<div id="div-comment-262003" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://blogs.msdn.com/mgrier' rel='external nofollow' class='url'>Michael Grier [MSFT]</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050308-00/?p=36253#comment-262003">
			March 8, 2005 at 8:53 pm</a>		</div>

		<p>The BIOS comment was (mostly) wrong; however the OEM code page is set by the OEM.  FAT (12, 16 and 32) store non-extended directory entries in the OEM code page.  I don&#8217;t believe it&#8217;s possible to change the OEM code page easily; specifically it will mess up the character sets used on your FAT drives.</p>
<p>LFN directory entries are stored in two-byte-per-character encoded form.  If the filename does not require a short vs. long name it is only stored as a SFN, encoded in the OEM code page.  (This is from reading the FAT32 source code on NT; someone with more history should jump in here and correct my errors and fill in holes.)</p>
<p>The OEM code page is associated with the hardware so that when booting between various OSes, they can all agree on the code page used for the FAT volumes.</p>
<p>There is assumed to be a single system-wide OEM code page so anything reasonable like recording the code page in the FAT metadata is not done.</p>
<p>You can probably have some real fun with FAT removable media in this way going to machines which have different code pages.<br /></p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-262013">
				<div id="div-comment-262013" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Maxime LABELLE</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050308-00/?p=36253#comment-262013">
			March 8, 2005 at 11:28 pm</a>		</div>

		<p>Jonathan Perret:  That French capitals should not be accented, in France or elsewhere, is an unfortunately very common misconception</p>
<p>It is worth mentioning that this is all the more true. I invite french readers to lookup the official position of the Acad&#233;mie Fran&#231;aise on this topic:</p>
<p><a target="_new" href="http://www.academie-francaise.fr/langue/questions.html#accentuation" rel="nofollow">http://www.academie-francaise.fr/langue/questions.html#accentuation</a><br /></p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-262023">
				<div id="div-comment-262023" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Purplet</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050308-00/?p=36253#comment-262023">
			March 9, 2005 at 12:42 am</a>		</div>

		<p>Is this the reason why Alt+128 gives &#199; and Alt+0128 gives € ?<br />
<br />Is the leading 0 a way to select the codepage when inserting a character using the keypad ?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-262033">
				<div id="div-comment-262033" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Mats Gefvert</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050308-00/?p=36253#comment-262033">
			March 9, 2005 at 1:15 am</a>		</div>

		<p>I always put AutoRun=&quot;chcp 1252&quot; in HKEY_CURRENT_USERSoftwareMicrosoftCommand Processor.</p>
<p>I don&#8217;t see why I should bother with any other code page anyway&#8230; :)</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-262043">
				<div id="div-comment-262043" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">John Elliott</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050308-00/?p=36253#comment-262043">
			March 9, 2005 at 1:40 am</a>		</div>

		<p>foxyshadis: The original OEM codepage was in a ROM on the MDA/CGA cards and didn&#8217;t show up in the PC&#8217;s address space at all. I believe GRAFTABL was the first time it appeared in DOS.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-262063">
				<div id="div-comment-262063" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://www.followyourdreams.nl/' rel='external nofollow' class='url'>Timo Frenay</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050308-00/?p=36253#comment-262063">
			March 9, 2005 at 4:22 am</a>		</div>

		<p>Purplet: The leading 0 is to ensure backwards compatibility. Especially in the days of DOS when tools like Character Map weren&#8217;t easily available, people would memorize Alt+xxx codes that they used frequently. To prevent chaos when they would try to enter these codes in Windows, the leading 0 was introduced for the ANSI codepage.</p>
<p>(Although I am a big fan of Character Map, I have memorized the Alt+0xxx codes for most of the European accented vowels.)</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-262073">
				<div id="div-comment-262073" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Neil</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050308-00/?p=36253#comment-262073">
			March 9, 2005 at 4:43 am</a>		</div>

		<p>Now if only I could set the active code page to UTF-8 in a GUI application, then I could call the A APIs avoiding all the UTF-8 to UTF16 conversions necessary to call all the W APIs&#8230;</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-262193">
				<div id="div-comment-262193" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Ben Hutchings</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050308-00/?p=36253#comment-262193">
			March 9, 2005 at 8:37 am</a>		</div>

		<p>Timo Frenay: You could make life easier for yourself by using MSKLC to create a keyboard layout with AltGr combinations for the accented vowels.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-262333">
				<div id="div-comment-262333" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Jonathan</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050308-00/?p=36253#comment-262333">
			March 9, 2005 at 10:01 am</a>		</div>

		<p>You Europeans have it easy&#8230;</p>
<p>in the PC originally, the character set was indeed saved in the display card&#8217;s ROM (not 0xC000, somewhere in the 0xF000 segment (remember segments?)). Cards sold in Israel had to have their ROM specially programmed to have Hebrew letters (in the encoding now known as OEM codepage 862) &#8211; Cirrus-Logic-based cards were popular partly for this reason. I remember making my own TSR to set this.</p>
<p>Same goes for text-mode printers (some ads specifically said &quot;with burned Hebrew&quot; &#8211; HP did this a lot).</p>
<p>Later, DOS added support to codepages, and you could (through some config.sys lines) re-program the display to any codepage you want. You could also upload something to the printer, though that was always third-party.</p>
<p>I never figured out how to display Hebrew in a modern console app, though.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-262363">
				<div id="div-comment-262363" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Sidoine</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050308-00/?p=36253#comment-262363">
			March 9, 2005 at 10:37 am</a>		</div>

		<p>It would be a good thing if all the console program designed for Windows would switch the code page when they start, and use the system code page (1252 for example). The problem is that by default the console is configured to use a font that is not unicode, so you can&#8217;t display Hebrew. But you can change the console font to lucida console and it works (change HKEY_CURRENT_USER/Console/).<br />
<br />There is still a problem: I don&#8217;t know how to write in unicode. If I try to use the unicode code page (1200), wprintf doesn&#8217;t work.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-262453">
				<div id="div-comment-262453" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Michael J.</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050308-00/?p=36253#comment-262453">
			March 9, 2005 at 12:42 pm</a>		</div>

		<blockquote><p>
  Re: ANSI vs. OEM:<br />
  <br />&gt; Don&#8217;t try to read too much into them. OEM is the DOS code page<br />
  <br />&gt; that the BIOS uses for FAT filesystems. Thus it&#8217;s set by<br />
  <br />&gt; the hardware manufacturer. </p>
<p>This is also the page used by DOS-mode printers and by countless printer drivers for printers which do not support national character set. This is also the default encoding for plain text file.</p>
<p>&gt; there are more than one OEM code page. At least one is a US OEM<br />
  <br />&gt; code page (is that 437?) and one is a Japanese OEM code page (932).</p>
<p>Of course. Almost any non-latin alphabet coutry has its own codepage. Open any printer manual, and see how many codepages they support.</p>
<p>&gt; It would be a good thing if all the console program designed<br />
  <br />&gt; for Windows would switch the code page when they start,<br />
  <br />&gt; and use the system code page (1252 for example).</p>
<p>Win16 I/O is built on top of DOS I/O and uses DOS conventions. Win32 simply had to support this, because there is only one filename entry per file, not one for DOS, one for Win16 and one for Win32. Now, wait: it is one for DOS and another for Windows in FAT32. Then DOS/Win3.x apps can have the good old codepage, and Win16-LFN/Win32 apps can have Unicode.
</p></blockquote>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-262463">
				<div id="div-comment-262463" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Ben Hutchings</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050308-00/?p=36253#comment-262463">
			March 9, 2005 at 12:50 pm</a>		</div>

		<p>Sidoine: The standard C library is intended to work with wide characters only internally. They are always converted to multibyte characters on output. If you want to write Unicode text to the console, you have two options that I can see:<br />
<br />(1) Set the console to display UTF-8 (chcp 65001) and set the C library to convert to that on output (I don&#8217;t know how).<br />
<br />(2) Write UTF-16 to the console with the Win32 function WriteConsoleW. Of course you&#8217;ll need to use WriteFile instead if output has been redirected.<br />
<br />&quot;chcp 1200&quot; results in the error message &quot;Invalid code page&quot;.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-262583">
				<div id="div-comment-262583" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Norman Diamond</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050308-00/?p=36253#comment-262583">
			March 9, 2005 at 7:46 pm</a>		</div>

		<p>3/8/2005 8:53 PM Michael Grier [MSFT]</p>
<p>&gt; FAT (12, 16 and 32) store non-extended<br />
<br />&gt; directory entries in the OEM code page.</p>
<p>If you mean that software, somewhere in a filesystem layer for FAT filesystems, uses the currently set OEM code page, then I think I agree.  But you say &quot;store&quot;, so I think you mean that the recorded structures on the disk drive say what code page was used in writing the short filenames in their FATs, and that is surely wrong.</p>
<p>&gt; I don&#8217;t believe it&#8217;s possible to change the<br />
<br />&gt; OEM code page easily;</p>
<p>To change it where?  If you&#8217;re talking about a copy burnt into video ROM then you&#8217;re obviously right, but&#8230;</p>
<p>If you&#8217;re talking about in software:  When Windows 9x is booting, while in real mode before loading the GUI and protected mode drivers, it does change the code page that is in use.  If you don&#8217;t have a graphical logo being displayed then you can watch the text messages and watch the character set change.  After Windows 9x is already running, and also in Windows NT-based systems, you can open a DOS-style command prompt.  The &quot;US&quot; command and &quot;JP&quot; command change the code page for that window.  There&#8217;s also a &quot;MODE&quot; command that seems able to change the code page for that window, and I think I once tried to select a European code page for it but didn&#8217;t get very far.</p>
<p>If you&#8217;re talking about on a hard drive:  I still do not believe that the information stored in a partition says what code page was used in writing short filenames.</p>
<p>&gt; specifically it will mess up the character<br />
<br />&gt; sets used on your FAT drives. </p>
<p>It messes up the interpretation of filenames that are read from FAT drives, because the FAT does not say which code page was used, and the driver has to assume that the current Windows code page should be used.</p>
<p>[Omitting one paragraph that I agree with.]</p>
<p>&gt; The OEM code page is associated with the<br />
<br />&gt; hardware so that when booting between<br />
<br />&gt; various OSes, they can all agree on the code<br />
<br />&gt; page used for the FAT volumes.</p>
<p>This 100% does not happen.  If you don&#8217;t tell various OSes what code page you&#8217;ve been using on a FAT volume, they sure do not agree.  And in OSes where you cannot tell the OS what code page you&#8217;ve been using on a FAT volume, the OS will use the code page that it&#8217;s been assuming and you end up with a partition which cannot be fully accessed by any language version of such an OS.</p>
<p>&gt; There is assumed to be a single system-wide<br />
<br />&gt; OEM code page</p>
<p>Some OSes do that &#8230; as I just mentioned &#8230;</p>
<p>&gt; so anything reasonable like recording the<br />
<br />&gt; code page in the FAT metadata is not done. </p>
<p>Um, I&#8217;m glad to see that you understand that (really), but then &#8230; how is it possible that you wrote the nonsense that you did two paragraphs earlier?</p>
<p>&gt; You can probably have some real fun with FAT<br />
<br />&gt; removable media in this way going to<br />
<br />&gt; machines which have different code pages. </p>
<p>Same in a single machine, and same in an internal drive.  For example Microsoft used to support the possibility of installing different language versions of NT4 into different partitions in the same machine, and they could all view all partitions, but they could not access all files.  Microsoft did not support the same with Windows 9x but did provide some downloads to assist users who wanted to do that in Windows 95 (it was tougher in Windows 98 because the installer hunted down and destroyed the registries of existing different language versions of Windows 98).  They could view all FAT partitions but could not access all files.  Scandisk could corrupt some filenames and could delete others but sometimes could not finish the job of deleting a filename that it corrupted.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-262653">
				<div id="div-comment-262653" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://www.winwonk.com' rel='external nofollow' class='url'>Kim Gr&#228;sman</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050308-00/?p=36253#comment-262653">
			March 9, 2005 at 11:49 pm</a>		</div>

		<p>Joshua:<br />
<br />&quot;My last name in the original German also has an A-umlaut. Are your spelling rules the same as German ones for eliminating it?&quot;</p>
<p>I&#8217;m not sure we have any steadfast rules for substitution, but the following is what you generally see used:</p>
<p>  &#228; = ae<br />
<br />  &#246; = oe<br />
<br />  &#229; = aa</p>
<p>Judging by your last name, that seems to match German rules, at least partially.</p>
<p>Thanks everyone for the heads-up on CHCP!</p>
<p>&#8211; Kim</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-263363">
				<div id="div-comment-263363" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Norman Diamond</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050308-00/?p=36253#comment-263363">
			March 13, 2005 at 5:42 pm</a>		</div>

		<p>3/8/2005 11:12 AM Christoffer &quot;Kreiger&quot; Hammarstr&#246;m</p>
<p>&gt; I&#8217;ve always wondered why Microsoft has a<br />
<br />&gt; fetish for calling its text encodings &quot;ANSI&quot;<br />
<br />&gt; and &quot;OEM&quot;, instead of using the IANA<br />
<br />&gt; standardized names.<br />
<br />&gt; <a target="_new" href="http://www.iana.org/assignments/character-sets" rel="nofollow">http://www.iana.org/assignments/character-sets</a></p>
<p>One reason might be because that page gives names for individual encodings of character sets but does not give names for two or three overall categories, at least not that I could see.</p>
<p>A more generic reason for people possibly ignoring that page might be that IANA seems to ignore bug reports.  (I didn&#8217;t even write cynically, it was my first correspondence with them and I had no reason to disrespect them, I hadn&#8217;t even bought any broken products from them and am not subject to product tying when wanting to buy hardware, so I didn&#8217;t even think of writing disrespectfully to them.  Well, that was at the time of writing the bug report.)</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-268923">
				<div id="div-comment-268923" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Lars</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050308-00/?p=36253#comment-268923">
			April 1, 2005 at 5:49 am</a>		</div>

		<blockquote><p>
  Re the console CP : UTF-8 is the future. Use CHCP 65001 ! </p>
<p>CHCP 65001 indeed works quite well, but whenever I tried to run a batch file (pure ASCII!) from such a console, it never worked. There no output, no error error message, and the commands are not executed.<br />
  
</p></blockquote>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-291373">
				<div id="div-comment-291373" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://blogs.msdn.com/oldnewthing/archive/2005/07/19/440404.aspx' rel='external nofollow' class='url'>The Old New Thing</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050308-00/?p=36253#comment-291373">
			July 19, 2005 at 10:00 am</a>		</div>

		<p>It&#8217;s pointless today.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-301623">
				<div id="div-comment-301623" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://blogs.msdn.com/oldnewthing/archive/2005/08/29/457483.aspx' rel='external nofollow' class='url'>The Old New Thing</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050308-00/?p=36253#comment-301623">
			August 29, 2005 at 10:00 am</a>		</div>

		<p>Because it once was, though no longer is.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-350783">
				<div id="div-comment-350783" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://blogs.msdn.com/oldnewthing/archive/2006/03/01/541266.aspx' rel='external nofollow' class='url'>The Old New Thing</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050308-00/?p=36253#comment-350783">
			March 1, 2006 at 10:00 am</a>		</div>

		<p>Occasionally, somebody fails to pass.</p>

		
				</div>
		</li><!-- #comment-## -->
		</ol><!-- .comment-list -->

		<div class="navigation pagination">
					</div>

	
			<p class="no-comments">Comments are closed.</p>
<!-- COMMENTS END -->
</div></td></tr></table>

</body>
</html>
<br/><div class="disclaimer">
*DISCLAIMER: I DO NOT OWN THIS CONTENT. If you are the owner and would like it removed, please
<a target="_blank" href="/contact.htm">contact me</a>.
The content herein is an archived reproduction of entries from
Raymond Chen's "Old New Thing" Blog (most recent link is <a target="_blank" href="https://devblogs.microsoft.com/oldnewthing/">here</a>).
It may have slight formatting modifications for consistency and to improve readability.
<br/><br/>
WHY DID I DUPLICATE THIS CONTENT HERE?
Let me first say this site has never had anything to sell and has never shown ads of any kind. I have nothing monetarily to gain by duplicating content here.
Because I had made my own local copy of this content throughout the years, for ease of using tools like grep, I decided to put it online after I discovered
some of the original content previously and publicly available, had disappeared approximately early to mid 2019.
At the same time, I present the content in an easily accessible theme-agnostic way.
<br/><br/>
The information provided by Raymond's blog is, for all practical purposes, more authoritative on Windows Development than Microsoft's
own MSDN documentation and should be considered supplemental reading to that documentation. The wealth of missing details
provided by this blog that Microsoft could not or did not document about Windows over the years is vital enough, many would agree an online "backup" of these details
is a necessary endeavor. Specifics include:<br/>
<ul>
    <li>
        A "redesign" after 2019 erased thousands of user's comments from previous years. As many have stated, the comments are nearly as important as the postings themselves.
        The archived copies of the postings contained here retain the original comments.
    </li>
    <li>
        The blog has changed domains many times and the urls have otherwise been under constant change since 2003.
        Even when proper redirection has been set up for those links, redirection only works for a limited period of time.
        For example, all of the internal blog links that were valid in early 2019, were broken by 2020 without proper redirection.
    </li>
    <li>
        The blog has been under constant re-design and re-theming since its inception.
        It is downright irritating to deal with a bogged-down site experience as the result of the latest visual themes designed for cell-phone browsers.
        As of this writing, it is cumbersome to navigate titles with only 10 entries per page.
        While it is nice that the official site has a search feature, searching using this index (with all titles on a single page) is much quicker (CTRL-F in most browsers).
    </li>
</ul>
</div><br/>
&lt;-- Back to <a href="index.htm">Old New Thing Archive Index</a>

