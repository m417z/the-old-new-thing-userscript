<html>
<head>
<title>Windows 95 almost had floppy insertion detection but the training cost was prohibitive</title>
<link rel="stylesheet" href="page.css">
</head><body>
<div class="titlediv"><h2>Windows 95 almost had floppy insertion detection but the training cost was prohibitive</h2></div>
<div class="hdrdiv"><table class="hdrtable" cellspacing="0" cellpadding="0">
<tr><td><b>Date:</b></td><td>April 2, 2009 / year-entry #101</td></tr>
<tr><td><b>Tags:</b></td><td>history</td></tr>
<tr><td><b>Orig Link:</b></td><td>https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643</td></tr>

<tr><td><b>Comments:&nbsp;&nbsp;&nbsp;&nbsp;</b></td><td>119</td></tr>
<tr><td valign="top"><b>Summary:</b></td><td valign="top">One feature which Windows†95 almost had was floppy disk insertion detection. In other words, Windows†95 almost had the ability to detect when a floppy disk was present in the drive without spinning up the drive. The person responsible for Windows†95's 32-bit floppy driver studied the floppy drive hardware specification and spotted an opportunity. Working through...</td></tr>
</table></div>
<hr/>
<table class="contenttable" cellspacing="0" cellpadding="0"><tr><td><div class="contentdiv">
<!-- CONTENT START -->
<p>One feature which Windows&nbsp;95 almost had was floppy disk insertion detection. In other words, Windows&nbsp;95 almost had the ability to detect when a floppy disk was present in the drive <i>without spinning up the drive</i>.</p>
<p> The person responsible for Windows&nbsp;95's 32-bit floppy driver studied the floppy drive hardware specification and spotted an opportunity. Working through the details of the specification revealed that, yes, if you issued just the right extremely clever sequence of commands, you could determine whether a disk was in the floppy drive without spinning up the drive. But there was a catch. </p>
<p> The floppy drive hardware specification left one aspect of the drive behavior unspecified, and studying the schematics for various floppy drive units revealed that about half of the floppy drive vendors chose to implement it one way, and half the other way. Here's the matrix: </p>
<table border="1" bordercolor="black" rules="all" style="border-collapse: collapse" cellpadding="3">
<tr>
<th>Floppy Style</th>
<th>Disk present</th>
<th>Disk absent</th>
</tr>
<tr>
<td>"A"</td>
<td>1</td>
<td>0</td>
</tr>
<tr>
<td>"B"</td>
<td>0</td>
<td>1</td>
</tr>
</table>
<p> The results were completely reliable within each "style" of floppy drive, but the two styles produce exactly opposite results. If you knew which style of drive you had, then the results were meaningful, but the hard part was deciding which style of drive the user had. </p>
<p> One idea was to have an additional "training" step built into Setup: </p>
<ul>
<li>"Please insert a floppy disk into the drive and click Next." </li>
</ul>
<p> Once the disk was in, we could run the algorithm and see whether it returned 0 or 1; that would tell us which style of floppy drive we had. </p>
<p> Unfortunately, this plan fell short for many reasons. First of all, a user who bought a computer with Windows&nbsp;95 preinstalled would have bypassed the training session. You can't trust the OEM to have gone through the training, because OEMs change suppliers constantly depending on who gave them the best deal that week, and it's entirely likely that on the floor of the warehouse are a mix of both styles of floppy drive. And you certainly don't want to make the user go through this training session when they unpack their computer on Christmas morning. "Thank you for using Window&nbsp;95. Before we begin, please insert a floppy disk in drive A:." You can't just try to figure out what type of drive the user has by comparing the clever technique against the boring "turn on the floppy drive light and make grinding noises" technique, at least not without displaying a warning to the user that you're about to do this&mdash;users tend to freak out when the floppy drive light turns on for no apparent reason. "Thank you for using Windows&nbsp;95. Before we begin, I'm going to turn on your floppy drive light and make grinding noises. Press OK." </p>
<p> Floppy disk insertion detection is not a sufficiently compelling feature that users will say, "I appreciate the benefit of going through this exercise." </p>
<p> Sadly, floppy insertion detection had to be abandoned. It was one of those almost-features. </p>
<!-- CONTENT END -->
</div></td></tr></table>
<hr/>
<table class="commenttable" cellspacing="0" cellpadding="0"><tr><td><div class="commentdiv"><div class="commentdivhdr">
<!-- COMMENTS START -->
Comments (119)	</div>

	
			<div class="navigation pagination clear-both">
					</div>

		<ol class="comment-list">
					<li class="comment even thread-even depth-1" id="comment-722383">
				<div id="div-comment-722383" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Matteo Italia</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-722383">
			April 2, 2009 at 10:18 am</a>		</div>

		<p>Interesting, but couldn&#8217;t they solve the problem postponing the training to the first time a floppy was used?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-722393">
				<div id="div-comment-722393" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Someone</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-722393">
			April 2, 2009 at 10:24 am</a>		</div>

		<p>I understand the reasons for not implementing the feature, but out of curiosity: what (if any) were the reasons for the &#8216;leave the feature off by default and enable it the first time the user uses the floppy drive&#8217; option?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-722403">
				<div id="div-comment-722403" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Mike</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-722403">
			April 2, 2009 at 10:25 am</a>		</div>

		<p>or how about on boot (while showing the windows boot logo) it just polls the drive using that method than using the old spin up disk method to check what type it is &#8211; gets past all of the problems, floppy checking while booting wouldn&#8217;t bother users (POST does it on most systems anyway, so they are used to it) and would allow for change of floppy drives after install</p>
<p>then all you&#8217;d need to post here is an article about why you chose to add 3 seconds delay to the boot time because you thought floppy detection was worth a delay..</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-722413">
				<div id="div-comment-722413" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://www.johntopley.com/' rel='external nofollow' class='url'>John Topley</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-722413">
			April 2, 2009 at 10:25 am</a>		</div>

		<p>Why not just set the flag the first time the drive was accessed, so that the feature becomes available from the time after that?</p>
<p>I guess you then have the problem that the user may at some point change the drive for one of the other type, but I guess that would trigger the Add New Hardware wizard (I&#8217;m not sure), thus giving you a hook into removing the flag for that drive until it was first used.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-722423">
				<div id="div-comment-722423" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Bryan</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-722423">
			April 2, 2009 at 10:29 am</a>		</div>

		<p>I&#8217;ve never seen the add new hardware wizard show up for adding or removing a floppy drive, which I&#8217;ve done a few times while using Windows XP.</p>
<p>Other OSes may vary, but that one at least doesn&#8217;t show a visible hardware wizard or notification of any kind.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-722433">
				<div id="div-comment-722433" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Adam V</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-722433">
			April 2, 2009 at 10:32 am</a>		</div>

		<blockquote><p>
  Floppy disk insertion detection is not a sufficiently compelling feature that users will say, &quot;I appreciate the benefit of going through this exercise.&quot;
</p></blockquote>
<p>It sounds compelling enough for me, but then I&#8217;m a geek, not a normal person.</p>
<p>Also, when the hardware companies realized there was ambiguity in the spec, why didn&#8217;t someone (at the hardware companies, not at MS) point it out and get version 1.1 of the spec to resolve the ambiguity?</p>
<p>Wait, I can answer my own question &#8211; by the time people realized it was underspecified, there were already a bunch of floppy drives out there. So they had three options &#8211; spend a bunch of time and money lobbying for the spec to go your way, (potentially) spend a bunch of time and money to fix the problem if the spec goes the other way, or spend no money or time by keeping quiet about the whole thing and hope no one else notices.</p>
<p>(Alternately, after the spec goes the other way, ignore the problem and put the blame on MS when it continuously tries to spin up an empty drive.)</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-722453">
				<div id="div-comment-722453" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Duke of New York</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-722453">
			April 2, 2009 at 10:56 am</a>		</div>

		<p>Someone: By 1995 Steve Jobs was already predicting the imminent death of floppies. It wasn&#8217;t really worth the trouble of trying to &quot;enhance&quot; them in their final years of life. I doubt IBM would have gone along anyway.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-722463">
				<div id="div-comment-722463" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Marc</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-722463">
			April 2, 2009 at 11:01 am</a>		</div>

		<p>Did CD ROM Drive manufactures learn from this?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-722473">
				<div id="div-comment-722473" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">John</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-722473">
			April 2, 2009 at 11:23 am</a>		</div>

		<p>I have nothing to add other than &quot;Don&#8217;t copy that floppy!&quot;</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-722483">
				<div id="div-comment-722483" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Alexander Grigoriev</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-722483">
			April 2, 2009 at 11:23 am</a>		</div>

		<p>Yes, I guess either nobody could be bothered to detect the type at the first access, or the detection was not really bulletproof. It&#8217;s not that the users routinely change the floppy drives without rebooting their machines.</p>
<p>But I&#8217;m glad they ditch the &quot;smart&quot; thing. It&#8217;s way too often WIndows is trying to be too smart to figure out something behind our back, getting absolutely stupid result, WITHOUT ANY OPTION FOR AN USER TO OVERRIDE THE &quot;SMART&quot; THING.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-722493">
				<div id="div-comment-722493" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Adrian</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-722493">
			April 2, 2009 at 12:06 pm</a>		</div>

		<p>I just wish I could keep my XP machines from grinding away on the empty floppy drives each time I bring up an Explorer window.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-722503">
				<div id="div-comment-722503" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Alexandre Grigoriev</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-722503">
			April 2, 2009 at 12:15 pm</a>		</div>

		<p>Adrian,</p>
<p>It&#8217;s not XP, it&#8217;s your favorite antivirus or other addon. Or your floppies have &quot;disk change&quot; line stuck.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-maurits even thread-even depth-1" id="comment-722513">
				<div id="div-comment-722513" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Maurits+%5BMSFT%5D' rel='external nofollow' class='url'>Maurits [MSFT]</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-722513">
			April 2, 2009 at 12:31 pm</a>		</div>

		<p>Moral of the story: a feature can only be as good as the spec&#8230;</p>
<p>Suppose the user changes out the floppy drive, or perhaps takes the hard drive and puts it in another system &#8211; how does the system retrain?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-722523">
				<div id="div-comment-722523" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://bsiegel.ath.cx' rel='external nofollow' class='url'>Brandon Siegel</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-722523">
			April 2, 2009 at 12:58 pm</a>		</div>

		<p>&quot;Thank you for using Windows 95. Before we begin, I&#8217;m going to turn on your floppy drive light and make grinding noises. Press OK.&quot;</p>
<p>Thank you Raymond for making me spit coffee and crack up at work.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-722533">
				<div id="div-comment-722533" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Aaargh!</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-722533">
			April 2, 2009 at 1:21 pm</a>		</div>

		<p>The first time I installed Win95 was from 3.5&quot; floppy disks, that took a loooong time, especially since you has to swap disks every few minutes.</p>
<p>You could have included this feature on the floppy version it made grinding noises all through the installation procedure ;-)</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-722543">
				<div id="div-comment-722543" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">smith</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-722543">
			April 2, 2009 at 1:29 pm</a>		</div>

		<p>Gosh, to think of all I lost wondering whether there was a disk in the drive&#8230;</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-722553">
				<div id="div-comment-722553" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Mike</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-722553">
			April 2, 2009 at 1:40 pm</a>		</div>

		<p>Why couldn&#8217;t you just postpone this check to the first time someone double-clicked a floppy? It would require zero effort on the user&#8217;s part . I noticed two other people in the comments also thought of that, it seems like a no-brainer.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-722563">
				<div id="div-comment-722563" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Jonathan</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-722563">
			April 2, 2009 at 2:02 pm</a>		</div>

		<p>Adrian: Why, in this day and age, is there a floppy drive in the computer at all. My PC has no floppy, it&#8217;s disabled in the BIOS, and Windows XP copes fine (just C: and D: in explorer).</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-gkeramidas even thread-even depth-1" id="comment-722573">
				<div id="div-comment-722573" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Gkeramidas' rel='external nofollow' class='url'>Gkeramidas</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-722573">
			April 2, 2009 at 2:04 pm</a>		</div>

		<p>&quot;users tend to freak out when the floppy drive light turns on for no apparent reason&quot;.</p>
<p>it still does in windows 7, i have defrag turned off and have no idea what it&#8217;s doing when the drive starts accessing by itself.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-722583">
				<div id="div-comment-722583" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://seanharlow.info' rel='external nofollow' class='url'>Sean Harlow</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-722583">
			April 2, 2009 at 2:15 pm</a>		</div>

		<p>@John: Unfortunately I do not believe the Plug-and-Play system would know the floppy drive had been changed. &nbsp;As far as I am aware (and I very well could be wrong) there is no initialization on the old floppy bus, just a standard set of commands, so the OS doesn&#8217;t even bother to look at it until you try to use it. &nbsp;Thus being why my floppy-less desktops still list an A drive until I disable it in the BIOS. &nbsp;If I try to access the phantom A drive Windows still acts like it&#8217;s just missing a disk, not that the drive completely isn&#8217;t there, so I assume either the Windows team is very lazy or there&#8217;s no point in boot where they&#8217;re communicating with the floppy drive in any way.</p>
<p>@Adrian: As others have pointed out it&#8217;s probably some third party application like a virus scanner, but I think I have a better solution than looking for what&#8217;s doing it. &nbsp;Turn the floppy off. &nbsp;Seriously, go in to your BIOS and disable it. &nbsp;How often have any of those reading this blog used a floppy for anything other than BIOS flashing recently? &nbsp;Even emergency boot disks are CDs or on USB keys anymore. &nbsp;If you need it again, turn it on, but personally I haven&#8217;t had a floppy drive in any of my computers bought after 1998 and don&#8217;t intend on ever having one again.</p>
<p>Everything I own except one 1991 model IBM I keep around for sentimental reasons can boot from CD, USB, and most all of them can even PXE netboot, so with a 64MB USB drive equipped with FreeDOS around to flash BIOSes from there is no need for one.</p>
<p>@Mike: It does seem like a no-brainer, but since there apparently isn&#8217;t an easy way to detect if the drive has been changed what happens when a drive breaks and is replaced with another model that handles things differently? &nbsp;There is the potential to make the experience worse for the user, so it doesn&#8217;t seem like a bad idea to just leave things alone rather than possibly annoying users.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-722593">
				<div id="div-comment-722593" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">ReAaargh!</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-722593">
			April 2, 2009 at 2:15 pm</a>		</div>

		<p>Aaargh!: That wouldn&#8217;t have helped those with the CD version. &nbsp;Also OEMs who have 1000 computer order to fill probably don&#8217;t use floppys to install Windows.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-722603">
				<div id="div-comment-722603" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">J</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-722603">
			April 2, 2009 at 2:21 pm</a>		</div>

		<p>How about doing the opposite? Tell the user to ensure the drive is empty, and then run the A/B detection routine.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-722623">
				<div id="div-comment-722623" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Mike</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-722623">
			April 2, 2009 at 2:36 pm</a>		</div>

		<p>@Sean: You&#8217;re right, the case of a swapped floppy drive complicates things. However, f you tested for the type of drive every time the user double-clicked the floppy drive, the problem would resolve itself as soon as the user double-clicked a floppy. Still its a bit messy and I could still see the argument for dropping this feature, but replacing a floppy is something that less than 1% of people do and you could still have reasonable behavior for that less than 1%.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-722633">
				<div id="div-comment-722633" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Aaargh!</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-722633">
			April 2, 2009 at 2:39 pm</a>		</div>

		<blockquote><p>
  Aaargh!: That wouldn&#8217;t have helped those with the CD version. &nbsp;Also OEMs who have 1000 computer order to fill probably don&#8217;t use floppys to install Windows.
</p></blockquote>
<p><a rel="nofollow" target="_new" href="http://en.wikipedia.org/wiki/List_of_emoticons" rel="nofollow">http://en.wikipedia.org/wiki/List_of_emoticons</a></p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-722653">
				<div id="div-comment-722653" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Cale Gibbard</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-722653">
			April 2, 2009 at 3:09 pm</a>		</div>

		<p>Given what&#8217;s presented in the article, the reasoning for not including the feature seems silly.</p>
<p>The first time the drive is installed, it could do both a fast test and a normal test for whether there&#8217;s a disk present, and regardless of whether there was really a disk there or not, it could determine as per the table which sort of floppy drive it was. There&#8217;d be no need to present the user with anything.</p>
<p>However, if there are further cases where the fast test doesn&#8217;t actually work at all (say, where it gave 0 in either case), then it would require waiting for times where the drive was both full and empty before being able to determine if the fast check was possible.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-722663">
				<div id="div-comment-722663" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://www.theminorityreport.org/2009/floppy-drive-fscked-windows-95/' rel='external nofollow' class='url'>Floppy Drive Fscked Windows 95 | The Minority Report</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-722663">
			April 2, 2009 at 3:26 pm</a>		</div>

		<p>PingBack from <a rel="nofollow" target="_new" href="http://www.theminorityreport.org/2009/floppy-drive-fscked-windows-95/" rel="nofollow">http://www.theminorityreport.org/2009/floppy-drive-fscked-windows-95/</a></p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-722673">
				<div id="div-comment-722673" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">tb</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-722673">
			April 2, 2009 at 3:44 pm</a>		</div>

		<p>I&#8217;m confused by the matrix.</p>
<p>Does this represent the two types with a floppy present?</p>
<p>(Floppy Style &#8211; Disk present &#8211; Disk absent)</p>
<p>STY &#8211; P &#8211; A</p>
<p>&quot;A&quot; &#8211; 1 &#8211; 0</p>
<p>&quot;B&quot; &#8211; 0 &#8211; 1</p>
<p>And does it look like this when a floppy is absent?</p>
<p>STY &#8211; P &#8211; A</p>
<p>&quot;A&quot; &#8211; 0 &#8211; 0</p>
<p>&quot;B&quot; &#8211; 0 &#8211; 0</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-722683">
				<div id="div-comment-722683" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Ryan Fox</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-722683">
			April 2, 2009 at 3:48 pm</a>		</div>

		<p>Couldn&#8217;t you watch for a change in the drive state, and then do whatever?</p>
<p>For instance, poll the drive and find nothing. There must be no floppy, so wait until the state changes.</p>
<p>If you poll and find a floppy, but not the file you&#8217;re looking for, wait until the state changes twice.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-722693">
				<div id="div-comment-722693" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Bob</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-722693">
			April 2, 2009 at 4:02 pm</a>		</div>

		<p>Guys, you&#8217;re over-thinking it. This isn&#8217;t a technology problem, its a social engineering problem.</p>
<p>Here&#8217;s the correct solution:</p>
<p>Couldn&#8217;t you just get a bunch of goons to break the kneecaps of the people who wrote the floppy drive specification? &nbsp;If not, toss a coin to decide which group of vendors get asked to choose between &quot;changing their hardware&quot; and &quot;geting their kneecaps removed&quot; based on the fact that &quot;unspecified&quot; is a synonym for &quot;useless&quot; and therefore their random choice justifies your random choice.</p>
<p>Violence is never the answer. Violence is the question. &quot;Yes&quot; is the answer. &nbsp;:)</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-722703">
				<div id="div-comment-722703" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Joe Butler</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-722703">
			April 2, 2009 at 4:10 pm</a>		</div>

		<p>I guess it was not as superficially easy to check the bit&#8217;s meaning by checking on first access because the check couldn&#8217;t be done atomically. So, if someone happless user ejected their disc at the critical moment between Windows doing the first disc access and the first check status flag probe, you&#8217;d end up with a &#8216;status inversion&#8217; for the disc&#8217;s presence status &#8211; perhaps until next boot &#8211; or worse, forever.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-722723">
				<div id="div-comment-722723" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Richard</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-722723">
			April 2, 2009 at 4:37 pm</a>		</div>

		<p>I see two possible uses of knowing a floppy has been inserted</p>
<p>1) A program is all ready running that is reading/writing multiple floppies (anybody out there old enough to remember Fastback Plus). &nbsp;</p>
<p>2) Someone inserts a floppy and wants to do something with the media. &nbsp;Let‚Äôs call this option ‚ÄúAutorun‚Äù. &nbsp;</p>
<p>Option 1 likely yields minimal improvements. &nbsp;Option 2 opens the door for potential exploits by Malware. &nbsp;Even if option 2 is used for legitimate purposes, many people find ‚ÄúAutorun‚Äù an intrusive annoyance. &nbsp;I for one am glad Microsoft did not implement this ‚Äúfeature‚Äù.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-722733">
				<div id="div-comment-722733" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Art</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-722733">
			April 2, 2009 at 4:37 pm</a>		</div>

		<p>I have an XP computer that detects and shows the floppy drive even though it is disabled in the bios and can&#8217;t be accessed. &nbsp;If I unplug the drive it disappears, but it does come back if plugged in. &nbsp;Popular ASUS MB, so I&#8217;m guessing it&#8217;s not a bios issue.</p>
<p>I also have a win98SE computer that hits the floppy right and left even though it hasn&#8217;t been used in years. &nbsp;File open dialogs always start there too as does windows setup. &nbsp;No antivirus or utility to blame, it continued to do it from a wipe and fresh install on a new hard drive. &nbsp;I&#8217;ve even removed every registry reference I could find to the drive letter and they come back. &nbsp;Weird jumble of parts in this one though.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-722743">
				<div id="div-comment-722743" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Bob</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-722743">
			April 2, 2009 at 4:56 pm</a>		</div>

		<p>@tb: It&#8217;s a single bit being checked, not two. Drives of one type set the bit to 0 when empty, while drives of another type set it to 1 when empty.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-722443">
				<div id="div-comment-722443" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">gedoe</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-722443">
			April 2, 2009 at 10:46 am</a>		</div>

		<p>I *so* knew that the first few entries would be about how it would have been possible to detect the type of hardware (maybe because my first instinct was to think of a clever way to do it also :) )</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-722773">
				<div id="div-comment-722773" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">steveg</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-722773">
			April 2, 2009 at 6:53 pm</a>		</div>

		<p>I can see why it was abandoned: &quot;This is going to be awesome for 90% of users. The other 10% are going to call Support. That&#8217;ll cost N million bucks.&quot;</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-722783">
				<div id="div-comment-722783" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Chris</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-722783">
			April 2, 2009 at 7:04 pm</a>		</div>

		<p>If I recall correctly, OS/2 had floppy detection. I remember that you could insert a disk and see its directory. You could then bring up that directory over and over again and it&#8217;d never spin up the disk. But if you ejected and reinserted the disk then it&#8217;d spin up the next time you tried to see the directory.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-leo-davidson even thread-even depth-1" id="comment-722803">
				<div id="div-comment-722803" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Leo+Davidson' rel='external nofollow' class='url'>Leo Davidson</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-722803">
			April 2, 2009 at 8:24 pm</a>		</div>

		<p>@Jonathan:</p>
<p>I have a floppy in my desktop after building a previous machine without one and then finding the POS DOS-based firmware/feature tool for one of my HDDs or optical drives pooped itself when faced with SATA, or something like that, and would only work if run from a floppy drive&#8230;</p>
<p>I can&#8217;t remember the details but I had to take apart an old PC, plug its floppy into my new PC (whose case didn&#8217;t even have room for a floppy, so it all hung out the top), do the changes and then put everything back how it was.</p>
<p>Then I needed to do them again a few hours later&#8230;</p>
<p>After that hassle I decided to just keep putting floppies in my machines where practical, given they cost next to nothing.</p>
<p>Perhaps things are better now, though. I&#8217;d hope so!</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-722813">
				<div id="div-comment-722813" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://www.briankowald.com' rel='external nofollow' class='url'>Brian K</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-722813">
			April 2, 2009 at 8:53 pm</a>		</div>

		<p>It still irks me that when I accidentally click on the floppy drive in Windows Explorer and the &quot;Please Insert a disk into drive A:&quot; box pops up. Its stil detecting as I write this.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-722833">
				<div id="div-comment-722833" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Jason</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-722833">
			April 2, 2009 at 9:11 pm</a>		</div>

		<p>That&#8217;s ridiculous.</p>
<p>When the floppy is read for any reason, and you don&#8217;t get a failure exception, you can set the registry flag at that time to record the inserted/not inserted type.</p>
<p>Way to not solve a problem effectively!</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-722843">
				<div id="div-comment-722843" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Jonathan Wilson</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-722843">
			April 2, 2009 at 9:21 pm</a>		</div>

		<p>What I want to know is why modern chipsets even include legacy stuff like floppy disk drive controllers, serial port controllers, PS2 keyboard and mouse support etc.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-722853">
				<div id="div-comment-722853" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://marksowul.com' rel='external nofollow' class='url'>Mark Sowul</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-722853">
			April 2, 2009 at 9:41 pm</a>		</div>

		<p>This seems trivial &#8211; just figure it out the first time they actually try to access the disk since the PC has started. &nbsp;The first time it will grind or find the disk (as it does without the feature anyway) and from that you can infer what the states mean. &nbsp;Maybe I&#8217;m missing something or Raymond has oversimplified the problem to make his point.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-722863">
				<div id="div-comment-722863" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Mike Caron</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-722863">
			April 2, 2009 at 9:45 pm</a>		</div>

		<p>Jonathan Wilson: That&#8217;s a joke, right? USB keyboards don&#8217;t work in the BIOS on my motherboard (about a year old).</p>
<p>Why? Who knows.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-722873">
				<div id="div-comment-722873" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">shawn</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-722873">
			April 2, 2009 at 9:48 pm</a>		</div>

		<p>couldn&#8217;t it just go through this simple process everytime windows rebooted?</p>
<p>Step 1:Do the test above and see if you got a 1 or a 0.</p>
<p>Step 2: Spin up the drive for a moment and see if there&#8217;s actually a disk in there.</p>
<p>Step 3: Use the two pieces of information that you got from the first two steps to determine what type of drive you&#8217;ve got.</p>
<p>Step 4: Bingo.</p>
<p>It could be a regular part of the windows startup process, wouldn&#8217;t be noticeable to the user, and it&#8217;d be accurate. As long as you assume that the user hasn&#8217;t changed out the floppy drive without rebooting windows.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-722643">
				<div id="div-comment-722643" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://nomagichere.blogspot.com' rel='external nofollow' class='url'>Marc</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-722643">
			April 2, 2009 at 3:02 pm</a>		</div>

		<p>Just because you *can* do something, doesn&#8217;t mean you *should* do something.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-722883">
				<div id="div-comment-722883" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">abc</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-722883">
			April 2, 2009 at 10:05 pm</a>		</div>

		<p>Why could MacOS do it but Windows could not? (Probably because Apple had tighter control of the hardware.)</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-722893">
				<div id="div-comment-722893" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">redmaxx</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-722893">
			April 2, 2009 at 10:10 pm</a>		</div>

		<p>Couldn&#8217;t Windows 95 have activated the feature as soon as it was 100% sure there was a floppy in the drive (such as actually reading a file of the disk)? By then it would surely know what type the drive was.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-722903">
				<div id="div-comment-722903" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Alexander Grigoriev</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-722903">
			April 2, 2009 at 10:49 pm</a>		</div>

		<p>&quot;Even if option 2 is used for legitimate purposes, many people find ‚ÄúAutorun‚Äù an intrusive annoyance. &nbsp;I for one am glad Microsoft did not implement this ‚Äúfeature‚Äù.&quot;</p>
<p>You won&#8217;t believe that, but Microsoft even implemented Autorun for USB drives! Which, purely accidentally, is another way Conficker worm spreads. And have also caused several security incidents in government (DoD) institutions. I&#8217;m afraid, in the long run this little feature will cost Microsoft big contracts.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-722913">
				<div id="div-comment-722913" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Alexander Grigoriev</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-722913">
			April 2, 2009 at 10:54 pm</a>		</div>

		<p>&quot;If I recall correctly, OS/2 had floppy detection. I remember that you could insert a disk and see its directory. You could then bring up that directory over and over again and it&#8217;d never spin up the disk. But if you ejected and reinserted the disk then it&#8217;d spin up the next time you tried to see the directory.&quot;</p>
<p>This is called &quot;caching&quot; and even DOS with smartdrive loaded could do that. The cache stays valid until you get &quot;disk changed&quot; signal.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-722713">
				<div id="div-comment-722713" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://barrkel.blogspot.com/' rel='external nofollow' class='url'>Barry Kelly</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-722713">
			April 2, 2009 at 4:27 pm</a>		</div>

		<p>Win95 Setup *does* make the floppy drive grind, though, as have all versions of Windows Setup from 95 through to XP. (Speaking as an ex hardware technician who installed Windows hundreds of times.)</p>
<p>Specifically, it makes the grinding noise when it&#8217;s setting up the Start Menu items for the first time (it says). I personally suspect it&#8217;s because it&#8217;s creating the &quot;Send To&quot; shortcut, but that&#8217;s only my suspicion.</p>
<p>I believe a statistical approach could have worked. The problem would be if the drive was ever changed, and Windows thought the drive was empty even though it was actually full. It would still need to poll on disk access occasionally to get back to normal; this would be rare, though.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-722923">
				<div id="div-comment-722923" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">mcovey</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-722923">
			April 2, 2009 at 11:44 pm</a>		</div>

		<p>I love how everyone has offered the 3 or 4 &quot;obvious&quot; solutions that spring to mind after reading the story. Clearly there were more circumstances than the story lets off that prevented the use of the technology &#8211; I refuse to believe that everyone was such a big idiot that they didn&#8217;t think &quot;well instead of asking them for a floppy, let&#8217;s just ask them to ensure the drive is absent, and reverse the result.&quot;</p>
<p>Beside that, nobody uses floppies anymore &#8211; so who cares?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-722933">
				<div id="div-comment-722933" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">djhayman</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-722933">
			April 2, 2009 at 11:50 pm</a>		</div>

		<p>I really don&#8217;t think that &quot;detecting the first time you try to access the floppy&quot; would have been a good idea. You&#8217;d completely confuse the user:</p>
<p>First time they insert a floppy, nothing happens. So they go to My Computer and open it from there.</p>
<p>Next time they insert a floppy, the Explorer folder would just appear all by itself.</p>
<p>I think the smartest option would be to just check it during every Windows boot. That way, there&#8217;s no confusing questions, and it doesn&#8217;t matter if you change the drive at any point.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-722943">
				<div id="div-comment-722943" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Jim</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-722943">
			April 3, 2009 at 12:01 am</a>		</div>

		<blockquote><p>
  not the file you&#8217;re looking for
</p></blockquote>
<p>These aren&#8217;t the droids you&#8217;re looking for.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-722953">
				<div id="div-comment-722953" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Neil (SM)</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-722953">
			April 3, 2009 at 12:28 am</a>		</div>

		<p>steveg wrote:</p>
<blockquote><p>
  &gt;I can see why it was abandoned: &quot;This is going to be awesome for 90% of users. The other 10% are going to call Support. That&#8217;ll cost N million bucks.&quot;
</p></blockquote>
<p>I&#8217;m not seeing how that feature would have been awesome for more than about 5% of users max. The rest would have split between calling support, getting irritated, not noticing, or simply not caring.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-722763">
				<div id="div-comment-722763" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">alex.r.</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-722763">
			April 2, 2009 at 5:45 pm</a>		</div>

		<p>To handle the case where the user changes the floppy drive, you just ask the user to *always* leave a floppy in the drive!</p>
<p>I can&#8217;t believe the feature was cut for such a trivial matter ;)</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-722963">
				<div id="div-comment-722963" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Worf</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-722963">
			April 3, 2009 at 1:27 am</a>		</div>

		<p>All these people and no one asks to find out what the clever method actually was? Sure it&#8217;s not so useful now, but there may be use in some oddball purpose in an embedded system&#8230;</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-722973">
				<div id="div-comment-722973" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Mike</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-722973">
			April 3, 2009 at 1:56 am</a>		</div>

		<p>The P and A in the chart represent Present and absent. There is only one bit in question here. The point is that in type A, a disk being present was represented by a 1 and 0 for absent. In Model B a 0 meant present and a 1 ment absent.</p>
<p>STY &#8211; P &#8211; A</p>
<p>&quot;A&quot; &#8211; 1 &#8211; 0</p>
<p>&quot;B&quot; &#8211; 0 &#8211; 1</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-722983">
				<div id="div-comment-722983" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://kormgar@yahoo.com' rel='external nofollow' class='url'>kormgar</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-722983">
			April 3, 2009 at 2:39 am</a>		</div>

		<p>Um&#8230;why require the user to do anything at all?</p>
<p>If the OS could already detect the presence of a floppy by spinning up the drive, then why not just simply have a one-time training check&#8230;</p>
<p>If the flag isn&#8217;t set, spin up the drive and check for floppy. &nbsp;Compare this to the results of the no-spin method and viola, you now know what sort of drive you have.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-722993">
				<div id="div-comment-722993" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://greginthedesert.net/2009/04/10-interesting-links-from-april-2nd/' rel='external nofollow' class='url'>10 Interesting Links From April 2nd | Greg In The Desert</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-722993">
			April 3, 2009 at 3:03 am</a>		</div>

		<p>PingBack from <a rel="nofollow" target="_new" href="http://greginthedesert.net/2009/04/10-interesting-links-from-april-2nd/" rel="nofollow">http://greginthedesert.net/2009/04/10-interesting-links-from-april-2nd/</a></p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-722793">
				<div id="div-comment-722793" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">dmfdmf</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-722793">
			April 2, 2009 at 8:16 pm</a>		</div>

		<p>Adrian wrote&#8230;</p>
<p>&gt; I just wish I could keep my XP machines from grinding away on the empty floppy drives each time I bring up an Explorer window.</p>
<p>I think that can be caused by a shortcut (*.lnk) that refers to a file that was once on the A: drive. The problem link probably exists in the Recent folder or somewhere in All Users folder or somewhere in MS Office folders. Do a search on all *.lnk files containing &quot;a:&quot; and delete them and see if that helps.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-723003">
				<div id="div-comment-723003" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">MDW</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-723003">
			April 3, 2009 at 3:35 am</a>		</div>

		<p>Ah bring backs memories of the Commodore Amiga, now that did detect the 3.5&quot; floppy in the drive, but it clicked periodically rather than span&#8230;</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-723013">
				<div id="div-comment-723013" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">IDIOTS</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-723013">
			April 3, 2009 at 4:52 am</a>		</div>

		<p>boolean hasFloppy() {</p>
<p>&nbsp; &nbsp;return a || b;</p>
<p>}</p>
<p>idiots.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-723023">
				<div id="div-comment-723023" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://stuartaxon.com' rel='external nofollow' class='url'>Stu</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-723023">
			April 3, 2009 at 5:31 am</a>		</div>

		<p>Sigh&#8230; I wish win95 (and in fact later windows) had this&#8230;</p>
<p>Even my new computer came with a floppy drive, it would be so much cooler if this worked.</p>
<p>Still&#8230; maybe linux should gain this&#8230;</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-723033">
				<div id="div-comment-723033" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">nt</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-723033">
			April 3, 2009 at 6:02 am</a>		</div>

		<p>Hey, I have an idea nobody else has thought of: why not do the slow check the first time the floppy drive is used after each boot to determine the fast check result you are looking for?</p>
<p>Come on Raymond, admit it. &nbsp;You sometimes post softballs like this to watch people falling all over themselves to prove how clever they are, don&#8217;t you?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-723043">
				<div id="div-comment-723043" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://www.gpuviewer.com' rel='external nofollow' class='url'>J&#233;r&#244;me Muffat-M&#233;ridol</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-723043">
			April 3, 2009 at 6:16 am</a>		</div>

		<p>Somehow, I always get this huge level of frustration when the system goes unresponsive for the slightest moment of time&#8230; So when I read this entry, I thought &quot;why, oh why?&quot;.</p>
<p>It does sound obvious that the system should be able to decide what kind of drive it has whenever it succeeds in accessing a file on the floppy. So, training really wasn&#8217;t necessary : just act dumb until you read something from a floppy, then become clever.</p>
<p>And then it hit me&#8230;</p>
<p>&quot;Clever&quot;, I said&#8230;</p>
<p>Somehow clever just means &quot;trouble in the making&quot;, doesn&#8217;t it?</p>
<p>User replaces floppy drive. Cleverness must disappear somehow&#8230; More detection code, more bug potential, how does QA deal with these? yuk&#8230;</p>
<p>In the future a manufacturer might come up with a third category (why? why not?), yuk&#8230;</p>
<p>So yeah&#8230;</p>
<p>I can see the point&#8230;</p>
<p>There is always a good reason why something didn&#8217;t happen, and it always is the same:</p>
<p>it wasn&#8217;t a priority ;)</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-723053">
				<div id="div-comment-723053" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Carl</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-723053">
			April 3, 2009 at 6:57 am</a>		</div>

		<p>&quot;it still does in windows 7, i have defrag turned off and have no idea what it&#8217;s doing when the drive starts accessing by itself.&quot;</p>
<p>It&#8217;s just doing to remind you that it&#8217;s there, sort of like a &#8216;Hey! Don&#8217;t you think that a card reader would look much better in this bay???&#8217;</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-723063">
				<div id="div-comment-723063" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">640k</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-723063">
			April 3, 2009 at 7:59 am</a>		</div>

		<p>With 2 (or more) different floppy drives the hardware behaviour cannot be stored by a single bit/flag. Messages like &quot;please insert disk into floppy drive&quot; would also be ambiguous.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-723073">
				<div id="div-comment-723073" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">floppie seeker</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-723073">
			April 3, 2009 at 8:03 am</a>		</div>

		<p>Is there a secret registry value which can enable this feature?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-723083">
				<div id="div-comment-723083" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://www.cobcal.com.ar' rel='external nofollow' class='url'>Martin Ferrari</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-723083">
			April 3, 2009 at 8:19 am</a>		</div>

		<p>Great story. I love to read posts like this. Thanks Raymond</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-723093">
				<div id="div-comment-723093" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Neil</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-723093">
			April 3, 2009 at 8:23 am</a>		</div>

		<p>How about a &quot;secret&quot; executable &quot;FastFlpy.exe&quot; to run the &quot;training&quot; step. Or just enable the &quot;Auto insert notification&quot; box in the floppy device properties, and that would initiate training.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-723103">
				<div id="div-comment-723103" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Mark (The other Mark)</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-723103">
			April 3, 2009 at 8:31 am</a>		</div>

		<p>The funny part is watching all the people who suggest really bad solutions that have the potential to render any FDD unusable. Or the ones saying they never use a FDD anymore, apparently missing the Windows 95 part.</p>
<p>It would&#8217;ve been a cool feature, if it had been quick and easy, but I can understand why it got cut when it turned out to be more complicated then it looked. Kudos to the unnamed Dev who looked up the real-world behavior of actual FDD&#8217;s before this code shipped!</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-723113">
				<div id="div-comment-723113" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Stuarticus</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-723113">
			April 3, 2009 at 8:36 am</a>		</div>

		<p>Yes that would have been great &#8211; I mean how many people actually kept auto insert notification ON in those days! It was crap!</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-723123">
				<div id="div-comment-723123" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://a.coward@slashdot.org' rel='external nofollow' class='url'>Anonymous Coward</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-723123">
			April 3, 2009 at 9:45 am</a>		</div>

		<p>I knew it. The Dutch documentation for Windows 95 and some early software for Windows 95 suggested that this worked, with phrases like ‚ÄòInsert the diskette and wait until Setup starts.‚Äô and such. I reasoned that that must have been a feature that was originally scheduled for inclusion but was later scrapped.</p>
<p>By the way, Raymond, why didn&#8217;t you go for this solution: The disk-in drive state changed. Maybe there&#8217;s a disk in the drive (although probably not), grind it. You now know whether your assumption was correct. If it was you will have to open an Explorer window, and the user won&#8217;t notice because opening that window will cause grinding itself. You can now save a flag that tells you how to interpret all future disk state changes.</p>
<p>The bad? In a small percentage of cases you will get a spurious spin-up, only once. But Windows 95 did that a lot of the time anyway, right from a blank install, so I don&#8217;t think the users would have noticed or cared. If you&#8217;re afraid users would call support over it, pop up a window that says ‚ÄòI thought there was a disk in the drive, I was wrong, sorry, it won&#8217;t happen again‚Äô.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-723143">
				<div id="div-comment-723143" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">tb</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-723143">
			April 3, 2009 at 10:14 am</a>		</div>

		<p>@mike</p>
<p>@bob</p>
<p>Thanks for the clarification. That&#8217;s just&#8230; wow. Yet another reason floppy == fail.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-723153">
				<div id="div-comment-723153" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">SuperKoko</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-723153">
			April 3, 2009 at 10:24 am</a>		</div>

		<p>&gt; Hey, I have an idea nobody else has thought of: why not do the slow check the first time the floppy drive is used after each boot to determine the fast check result you are looking for?</p>
<p>Because users wouldn&#8217;t understand why autorun doesn&#8217;t work when they&#8217;ve freshly rebooted their computers&#8230;</p>
<p>They would have to explicitly access the floppy drive once everytime their computer is booted to make auto-detection work.</p>
<p>Or, you may check the floppy everytime Windows is booted, but that would:</p>
<p>1) Not work if the user inserts or removes a floppy disk in the short time between the slow check and the fast check.</p>
<p>2) Unnecessary delay the boot time for people not using floppy drives.</p>
<p>3) Make noise.</p>
<p>To provide&#8230; A feature useful for 1% of good guys but very useful to malwares guys!</p>
<p>BTW, how many people do read comments before posting their own? 20% ?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-723163">
				<div id="div-comment-723163" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://blogs.msdn.com/oldnewthing/archive/2009/04/03/9529929.aspx' rel='external nofollow' class='url'>The Old New Thing : On the almost-feature of floppy insertion detection in Windows 95</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-723163">
			April 3, 2009 at 10:47 am</a>		</div>

		<p>PingBack from <a rel="nofollow" target="_new" href="http://blogs.msdn.com/oldnewthing/archive/2009/04/03/9529929.aspx" rel="nofollow">http://blogs.msdn.com/oldnewthing/archive/2009/04/03/9529929.aspx</a></p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-723223">
				<div id="div-comment-723223" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://mjtsai.com/blog/2009/04/03/floppy-insertion-detection-in-windows-95/' rel='external nofollow' class='url'>Michael Tsai - Blog - Floppy Insertion Detection in Windows 95</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-723223">
			April 3, 2009 at 12:03 pm</a>		</div>

		<p>PingBack from <a rel="nofollow" target="_new" href="http://mjtsai.com/blog/2009/04/03/floppy-insertion-detection-in-windows-95/" rel="nofollow">http://mjtsai.com/blog/2009/04/03/floppy-insertion-detection-in-windows-95/</a></p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-723303">
				<div id="div-comment-723303" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">t_u</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-723303">
			April 3, 2009 at 1:36 pm</a>		</div>

		<blockquote><p>
  Ah bring backs memories of the Commodore Amiga, now that did detect the 3.5&quot; floppy in the drive, but it clicked periodically rather than span&#8230;
</p></blockquote>
<p>Yep, but there was also a &quot;no click&quot; patch which still enabled the disk detection ;)</p>
<p><a rel="nofollow" target="_new" href="http://aminet.net/search?query=no+click" rel="nofollow">http://aminet.net/search?query=no+click</a></p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-723323">
				<div id="div-comment-723323" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Dex</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-723323">
			April 3, 2009 at 1:54 pm</a>		</div>

		<p>Now if they want to get clever they should auto-detect when I have just sat in my chair and power up the system. Oh, I just remembered there&#8217;s no standard yet for the value of the &quot;ASS PRESENT&quot; data bit&#8230;</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-723363">
				<div id="div-comment-723363" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">geo</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-723363">
			April 3, 2009 at 2:44 pm</a>		</div>

		<p>They just couln&#8217;t have a miserable button/config option/menu or similar i.e when viewing the properties of the floppy, that could then guide the user to setup this feature? No, just disable the feature for all users, because the stupid ones won&#8217;t know what to do with that!</p>
<p>I just hope some day there will be an option in the setup somewhere What type of user you are</p>
<p>a.complete idiot</p>
<p>b.knows what a computer is</p>
<div class=post>[<i>Oh right, a deeply-buried configuration option for something advanced users would <u>probably never turn on in the first place</u>. -Raymond</i>]</div>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-723463">
				<div id="div-comment-723463" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Derek</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-723463">
			April 3, 2009 at 8:40 pm</a>		</div>

		<p>If only the CD/DVD spec didn&#8217;t make presence detection optional (they probably thought people didn&#8217;t care since nobody bothered with it for floppies). &nbsp;Most CD/DVD drives don&#8217;t support it, so you have to wait 10-30 seconds for the spin-up. &nbsp;I guess it isn&#8217;t a huge loss though as in many cases spin-up is required anyway in order to determine the disk type.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-723493">
				<div id="div-comment-723493" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Jinesh</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-723493">
			April 3, 2009 at 11:45 pm</a>		</div>

		<p>They could have just spinned the drive when they detect it for the first time. If the spinning revealed that the floppy was present, then they could have tried the new logic at the same time to determine what kind of drive it was. Simple !</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-723513">
				<div id="div-comment-723513" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Anachronda</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-723513">
			April 4, 2009 at 2:47 am</a>		</div>

		<p>All these comments and no one has asked the most important question: What was the loophole that was used to detect the floppy? Behavior of the track 0 signal? There&#8217;s not a whole lot you can look at without spinning up the drive.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-723533">
				<div id="div-comment-723533" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Stefan Ciobaca</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-723533">
			April 4, 2009 at 3:04 am</a>		</div>

		<p>Let&#8217;s think outside the box.</p>
<p>At installation time: run the smart algo, make a note of what it says.</p>
<p>(Quickly thereafter) run the reliable algo, make a note of what it says.</p>
<p>I&#8217;m sure you can take it from here.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-723553">
				<div id="div-comment-723553" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://www.thushanfernando.com/index.php/2009/04/04/windows-95-almost-came-with-floppy-disk-detection/' rel='external nofollow' class='url'>Windows 95 almost came with floppy disk detection! | Thushan Fernando Uncut</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-723553">
			April 4, 2009 at 5:26 am</a>		</div>

		<p>PingBack from <a rel="nofollow" target="_new" href="http://www.thushanfernando.com/index.php/2009/04/04/windows-95-almost-came-with-floppy-disk-detection/" rel="nofollow">http://www.thushanfernando.com/index.php/2009/04/04/windows-95-almost-came-with-floppy-disk-detection/</a></p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-723563">
				<div id="div-comment-723563" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Artem S. Tashkinov</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-723563">
			April 4, 2009 at 6:32 am</a>		</div>

		<blockquote><p>
  The results were completely reliable within each &quot;style&quot; of floppy drive, but the two styles produce exactly opposite results. If you knew which style of drive you had, then the results were meaningful, but the hard part was deciding which style of drive the user had.
</p></blockquote>
<p>Sorry, but you are talking bullocks. You could easily automatically train your wonderful system as soon as user inserted a floppy drive and tried to access it &#8211; now you had all required data &#8211; floppy is actually is in drive and you can know the bits to identify this floppy presence.</p>
<p>Issue solved.</p>
<p>Probably the issue is more complicated from the programmers POV and you don&#8217;t give enough information.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-723583">
				<div id="div-comment-723583" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://www.perday.tv/news/?p=30077' rel='external nofollow' class='url'>Windows 95????????????????????????????????????????????? &laquo; ??????IT???????????????IT?????????????????????????????????????????????????????????</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-723583">
			April 4, 2009 at 9:28 am</a>		</div>

		<p>PingBack from <a rel="nofollow" target="_new" href="http://www.perday.tv/news/?p=30077" rel="nofollow">http://www.perday.tv/news/?p=30077</a></p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-723523">
				<div id="div-comment-723523" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Anachronda</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-723523">
			April 4, 2009 at 3:04 am</a>		</div>

		<p>And while I&#8217;m at it, let me introduce you to my friend the TEAC FD55GFV. This is the 5.25&quot; high-density drive used by DEC in stuff like MicroVAXen and their AT class machines. It&#8217;s like an average TEAC FD55 *except* that it doesn&#8217;t have the little spring that kicks the floppy out when you open the door.</p>
<p>To add insult to injury, the drive doesn&#8217;t turn on Diskete Changed until the diskette has moved a bit. This isn&#8217;t a problem with your average TEAC FD55, since it has the spring to move the diskette when the door opens.</p>
<p>Point being that it&#8217;s possible for an evil user to open the door of the drive and leave the diskette in. The drive thinks there&#8217;s a diskette, but you can&#8217;t spin it because it&#8217;s not clamped to the hub.</p>
<p>In other words, that drive has a *three* states: diskette out, diskette in, and diskette kinda sorta in.</p>
<p>Man, I hate that drive.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-oldnewthing bypostauthor odd alt thread-odd thread-alt depth-1" id="comment-723613">
				<div id="div-comment-723613" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Raymond+Chen+-+MSFT' rel='external nofollow' class='url'>Raymond Chen - MSFT</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-723613">
			April 4, 2009 at 12:40 pm</a>		</div>

		
		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-723643">
				<div id="div-comment-723643" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Christopher Yeleigton</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-723643">
			April 4, 2009 at 2:34 pm</a>		</div>

		<p>MSBACKUP for DOS and several disk imaging utilities had this smart functionality built in. &nbsp;They were useless when a nonstandard floppy driver was used, like a PC card. &nbsp;The last screen was &quot;Please insert the floppy disk&quot;, then you could only reboot. &nbsp;You can easily experience this feature under NTVDM.</p>
<p>And MSBACKUP for Windows 3.1 used to hang Windows during launch.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-723653">
				<div id="div-comment-723653" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Arnold Kernelhacker</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-723653">
			April 4, 2009 at 3:23 pm</a>		</div>

		<p>1.44MB floppy drives spin up the floppy anyway for a few rounds when inserted. Most floppy drives don&#8217;t even turn the spindle motor on if there is no disk in drive.</p>
<p>So as we don&#8217;t know what feature or bug in the floppy drive system was thought to be useful detecting the floppy drive, there is no point speculating what it might have been.</p>
<p>We need more info, like what signal is/was used and why it was not reliable.</p>
<p>Nowadays floppy drives can be polled for the DISK CHANGE signal, which is supposed to be in one state when floppy is in drive and in other state when floppy is not in drive. But it may be that it was at one point used as a pulse, which was only active for one poll round and then resets.</p>
<p>Track0 signal it can&#8217;t be. Neither Write Protect. Nor Density Select, as it has been used as input or output or not used at all.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-723663">
				<div id="div-comment-723663" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">DaveK</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-723663">
			April 4, 2009 at 3:36 pm</a>		</div>

		<blockquote><p>
  &quot;Thank you Raymond for making me spit coffee and crack up at work.&quot;
</p></blockquote>
<p>While a cup of coffee is a perfectly socially acceptable stimulant, I feel it is quite unprofessional to be taking /any/ form of cocaine during office hours.</p>
<p>ObTopic: &nbsp;Yes. &nbsp;Colour me also none too impressed with the &quot;cleverness&quot; of a failed attempt to do something that Amiga had been doing for years.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-723673">
				<div id="div-comment-723673" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Me</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-723673">
			April 4, 2009 at 4:18 pm</a>		</div>

		<p>It&#8217;s a pity you only gave up on this part of the Windoze 95 project. &nbsp;If you given up on the whole thing you might have spared us all the subsequent pain from the various broken beyond belief versions of Windoze.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-723703">
				<div id="div-comment-723703" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://www.mightyware.com' rel='external nofollow' class='url'>Todd Bandrowsky</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-723703">
			April 4, 2009 at 4:43 pm</a>		</div>

		<p>Those Amiga fans out there touting the drive detect should also remember that when Amiga spun a drive up, it actually read the disk and executed something on it. &nbsp;So, with the Amiga, you could easily spread a virus by merely inserting a disk. &nbsp;Lost many disks that way! &nbsp;Thank GOD Microsoft did not follow suit.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-723713">
				<div id="div-comment-723713" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Nick</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-723713">
			April 4, 2009 at 4:59 pm</a>		</div>

		<p>Congrats Raymond on (still) being the most Slashdotted Microsoft blogger :)</p>
<p><a rel="nofollow" target="_new" href="http://tech.slashdot.org/article.pl?sid=09/04/04/1717242" rel="nofollow">http://tech.slashdot.org/article.pl?sid=09/04/04/1717242</a></p>
<p>What&#8217;s sad is reading over the comments in that story that just re-hash what&#8217;s already been asked and answered here and your other post. I know nobody on Slashdot RTFA, but still. It also doesn&#8217;t help that the shmuck submitter didn&#8217;t include a link to the followup.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-723723">
				<div id="div-comment-723723" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Will</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-723723">
			April 4, 2009 at 5:02 pm</a>		</div>

		<p>I think that the people suggesting autotraining are underestimating how bewildering it would be to have a system with an unknown degree of cleverness at any given moment for most users. &nbsp;If I were king of Microsoft at the time, I would have implemented a simpler solution: &nbsp;a control panel where you can turn on autodetection, and a little toggle option where the user can tell the system which type of drive they have. &nbsp;Nobody would have been bothered by the feature since it would be off by default. &nbsp;OEM&#8217;s who know what type of drive they are shipping with could turn it on by default, and users who find the feature useful could turn it on manually. &nbsp;Negligible extra cleverness needed, no unpredictability on a given system, very little to go wrong. &nbsp;And, Microsoft would have succeeded in doing something which was known at the time to be impossible. &nbsp;Which would have annoyed the crap out of those of us who were Mac fanboys at the time. &nbsp;:)</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-723733">
				<div id="div-comment-723733" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://www.buanzo.com.ar/pro/eng.html' rel='external nofollow' class='url'>Buanzo</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-723733">
			April 4, 2009 at 5:05 pm</a>		</div>

		<p>So&#8230; why didn&#8217;t anybody ask for the command sequence? I can&#8217;t believe everybody provided the same idea (delay the training to first floppy disk usage), and NO ONE asked for the command sequence, or more technical details, just for the hack of it&#8230; :)</p>
<p>SADDDDDDDDDDDD</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-723743">
				<div id="div-comment-723743" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Warner Losh</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-723743">
			April 4, 2009 at 6:34 pm</a>		</div>

		<p>Couldn&#8217;t they have ACCESSED the floppy? &nbsp;You run your test for present or absent. &nbsp;Then you access the floppy once to see if you were right. &nbsp;Instantly, you know the right thing for future operations. &nbsp;No need to have the user insert a disk, click OK, or anything else. &nbsp;There&#8217;s 100% reliable ways of knowing if a floppy is in the drive (assuming that the sector you want to read is good, but if it isn&#8217;t you get different errors).</p>
<p>This seems like an urban legend more than an interesting cool old fact.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-723753">
				<div id="div-comment-723753" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Louis Cypher</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-723753">
			April 4, 2009 at 6:48 pm</a>		</div>

		<p>Or, does anyone know: What&#8217;s the most efficient (least labor intensive way) to retrieve data from, then erase/scramble a couple hundred floppy disks?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-723763">
				<div id="div-comment-723763" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Adam S.</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-723763">
			April 4, 2009 at 7:01 pm</a>		</div>

		<p>This sounds like a rather trivial problem to solve. &nbsp;Simply have three states for the floppy drive: type A, type B, and unknown. &nbsp;</p>
<p>The state defaults to unknown (ie. when the machine is built, or floppy hardware changes).</p>
<p>The state changes to A or B when a disk is inserted and the drive accessed.</p>
<p>But maybe I&#8217;m missing something here..</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-723773">
				<div id="div-comment-723773" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Kolano</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-723773">
			April 4, 2009 at 7:15 pm</a>		</div>

		<p>Um, it would seem that one could work this out whether a disk was inserted or not. I&#8217;m not sure why a one time disk spin up without a disk was avoided.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-723793">
				<div id="div-comment-723793" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://df0.info' rel='external nofollow' class='url'>LoadWB</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-723793">
			April 4, 2009 at 8:31 pm</a>		</div>

		<p>@Todd Brandowsky</p>
<p>Can you give an exact example of this?</p>
<p>The only thing the AmigaOS did with a newly inserted floppy was load the disk.info icon, and put any left out icons onto the Workbench.</p>
<p>Floppy insertion detection is a great feature. &nbsp;You can detect inserted volumes automatically, meaning you do not have to grab the mouse when changing disks.</p>
<p>Now removable drives (CD-ROM, USB, etc.) make that a moot issue except when dealing with software which only has floppies from which to install.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-723803">
				<div id="div-comment-723803" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://www.16software.com/autoscreen' rel='external nofollow' class='url'>ohxten</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-723803">
			April 4, 2009 at 9:06 pm</a>		</div>

		<p>Interesting little tidbit. Thanks for sharing. But what I don&#8217;t understand is, why couldn&#8217;t you just wait until a user accessed a floppy drive; if there was no error when the user attempted to access it, then you could assume there was a floppy in the drive, and then run the algorithm? Or am I missing something?</p>
<p>Windows 95&#8230; ahh, the good old days.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-723813">
				<div id="div-comment-723813" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">John Wallaby</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-723813">
			April 4, 2009 at 9:22 pm</a>		</div>

		<p>So&#8230;. how about adding the feature to Windows 7?</p>
<p>The floppy autorun could be set up when the floppy drive is first used. A quad-state setting could be used to track how to handle the disk: Disabled, A, B, Unknown.</p>
<p>Few have floppy drives anymore, but it would be a really nifty feature for Win7.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-723683">
				<div id="div-comment-723683" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Anachronda</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-723683">
			April 4, 2009 at 4:21 pm</a>		</div>

		<p>Actually, what you&#8217;re describing is closer to the way Drive Ready worked. Diskette Changed becomes asserted when the floppy is removed and isn&#8217;t cleared until *the drive is stepped* with a floppy in place.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-723823">
				<div id="div-comment-723823" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Darren</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-723823">
			April 5, 2009 at 2:53 am</a>		</div>

		<p>&quot;What I want to know is why modern chipsets even include legacy stuff like floppy disk drive controllers&quot;</p>
<p>That&#8217;s so that I can connect a 5.25&quot; floppy drive to my newly-built Core2 Windows 7 system. True story &#8211; 7 even has a nice shiny 5.25&quot; floppy icon, copied from Vista. Windows XP just reused the Windows 98 icon.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-723833">
				<div id="div-comment-723833" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://www.jewelerslounge.com' rel='external nofollow' class='url'>James</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-723833">
			April 5, 2009 at 3:03 am</a>		</div>

		<p>I love these posts where all our old questions are answered. Thanks for the update!</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-723883">
				<div id="div-comment-723883" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://nileshbabu.com/2009/10-things-to-learn-on-april-5th/' rel='external nofollow' class='url'>10 things to learn on April 5th</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-723883">
			April 5, 2009 at 4:04 am</a>		</div>

		<p>PingBack from <a rel="nofollow" target="_new" href="http://nileshbabu.com/2009/10-things-to-learn-on-april-5th/" rel="nofollow">http://nileshbabu.com/2009/10-things-to-learn-on-april-5th/</a></p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-723893">
				<div id="div-comment-723893" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">me</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-723893">
			April 5, 2009 at 5:59 am</a>		</div>

		<p>Why don&#8217;t you post the magic sequence? There are still machines with floppies out there, and somebody might want to implement the technique.</p>
<p>As for the noisy auto detection sequence &#8211; people put up with so many bugs and errors of software all the time that with such a little one-time quirk at first start, I don&#8217;t think that it would have mattered.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-723903">
				<div id="div-comment-723903" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Bla</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-723903">
			April 5, 2009 at 8:41 am</a>		</div>

		<p>Just pick one and stick with it&#8230;</p>
<p>If it fails do the normal detection thing ;)</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-madq42 odd alt thread-odd thread-alt depth-1" id="comment-723953">
				<div id="div-comment-723953" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/MadQ1' rel='external nofollow' class='url'>MadQ1</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-723953">
			April 5, 2009 at 9:37 am</a>		</div>

		<p>@Dex:</p>
<blockquote><p>
  Now if they want to get clever they should auto-detect when I have just sat in my chair and power up the system. Oh, I just remembered there&#8217;s no standard yet for the value of the &quot;ASS PRESENT&quot; data bit&#8230;
</p></blockquote>
<p>My PC has an &quot;Ass Still Present&quot; bit. It&#8217;s a passive infrared motion detector with some custom circuitry connected to COM1, and a little app that prevents the screen saver from kicking in when I&#8217;m around. I got tired of using circuit diagrams as screen savers when I&#8217;m doing geeky electronics things.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-723973">
				<div id="div-comment-723973" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Jakob Greve</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-723973">
			April 5, 2009 at 10:06 am</a>		</div>

		<p>skimmed the comments. Based on the very simple scheme woulden&#8217;t it be easier to detect if a floppy was not present much like the remove all disk messenging. You have to remember that you had to go into the Bios to change a boot-sequence so it probably would make more sense to the end user to tell something not to be present.</p>
<p>Also I remember cd-rom drives had been introduced mostly to include the obsolete encarta but that is another story&#8230;</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-724083">
				<div id="div-comment-724083" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Djdat</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-724083">
			April 5, 2009 at 2:36 pm</a>		</div>

		<p>Do we really need floppy detection? Are you all so lazy as not to just look? lol Seems pointless to me.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-724163">
				<div id="div-comment-724163" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://levicki.net/' rel='external nofollow' class='url'>Igor Levicki</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-724163">
			April 5, 2009 at 10:45 pm</a>		</div>

		<p>As many mentioned, Amiga was able to detect whether a floppy was present or not. It was usefull because it allowed the computer to start booting of the floppy as soon as you inserted one or to pre-cache the disk contents before you manage to grab a mouse and double-click on a floppy icon.</p>
<p>Now before anyone says that Amiga floppy was different let me add that I have succesfully built and used an external Amiga floppy drive using a standard PC floppy drive &#8212; all I had to do is to place a jumper because Amiga used different select line, and even that was only because PC used stupid mid-cable twist to select whether floppy gets to be A: or B: instead of using proper method with jumpers.</p>
<p>Whole PC hardware is a hack upon a hack. Take a look at a floppy controller for example &#8212; it can only read PC floppy disks because it assumes disk format, and decodes it without allowing you to read or write RAW MFM data. Amiga floppy controller was format agnostic and could read/write ATARI and PC floppies as well as custom formats without any issues.</p>
<p>Furthermore, Amiga floppy controller was able to use more than one floppy drive at once &#8212; you could have copied from one floppy to three other floppies at once.</p>
<p>Not to mention that accessing the floppy didn&#8217;t block the computer with a single core Motorola MC68000 running at 7.09 MHz like it blocks your PC even today running Windows 7 on a 3.0+ GHz quad-core.</p>
<p>PC hardware and software == epic fail. What is it good for if it still can&#8217;t stay responsive while accessing the floppy or a DVD drive?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-724243">
				<div id="div-comment-724243" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">fade</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-724243">
			April 6, 2009 at 6:07 am</a>		</div>

		<p>The title should be &quot;Windows 95 almost got WGA detection scheme built-in but the first step to detect if there&#8217;s a floppy present was proven to be a challenge&quot; :p</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-724363">
				<div id="div-comment-724363" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Henque</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-724363">
			April 6, 2009 at 1:26 pm</a>		</div>

		<p>Place a trigger to react the first time anything successfully reads anything from the floppy drive. When this happens check what kind of floppy drive it is and pop a requester and ask the user if he/she would like to enable floppy detection. Windows has asked more stupid questions than this&#8230;</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-724493">
				<div id="div-comment-724493" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://levicki.net/' rel='external nofollow' class='url'>Igor Levicki</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-724493">
			April 7, 2009 at 1:15 am</a>		</div>

		<p>&quot;Several manufacturers provided the OEM parts for this drive, usually a Matsushita JU262 or Chinon FB354. It was no different than a normal PC DD floppy, except it had the diskchange line enabled, where many modern PC floppy designs do not.&quot;</p>
<p>So there you have it, ask those cheap PC manufacturers why your floppy doesn&#8217;t have DISKCHG signal enabled.</p>
<p>It can actually be enabled on most of the drives with a little bit of electronics skill, but it is a bit too late for that now.</p>
<p>Conclusion of this topic would be that while Microsoft&#8217;s goal was for PC to be cheap so they can sell more software, they over-engineered the cheapness by not having strong enough compatibility requirements, and it came back to bite them (multiple times if I might add).</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-724503">
				<div id="div-comment-724503" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://levicki.net/' rel='external nofollow' class='url'>Igor Levicki</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-724503">
			April 7, 2009 at 1:15 am</a>		</div>

		<p>&quot;Several manufacturers provided the OEM parts for this drive, usually a Matsushita JU262 or Chinon FB354. It was no different than a normal PC DD floppy, except it had the diskchange line enabled, where many modern PC floppy designs do not.&quot;</p>
<p>So there you have it, ask those cheap PC manufacturers why your floppy doesn&#8217;t have DISKCHG signal enabled.</p>
<p>It can actually be enabled on most of the drives with a little bit of electronics skill, but it is a bit too late for that now.</p>
<p>Conclusion of this topic would be that while Microsoft&#8217;s goal was for PC to be cheap so they can sell more software, they over-engineered the cheapness by not having strong enough compatibility requirements, and it came back to bite them (multiple times if I might add).</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-724513">
				<div id="div-comment-724513" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://levicki.net/' rel='external nofollow' class='url'>Igor Levicki</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-724513">
			April 7, 2009 at 1:19 am</a>		</div>

		<p>The website said &quot;sorry we are unable to process your blah, blah&quot; first time through.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-744933">
				<div id="div-comment-744933" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://weblog.amxc.nl/?p=82' rel='external nofollow' class='url'>Amxc weblog &raquo; Almost a feature</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090402-00/?p=18643#comment-744933">
			June 11, 2009 at 2:02 pm</a>		</div>

		<p>PingBack from <a rel="nofollow" target="_new" href="http://weblog.amxc.nl/?p=82" rel="nofollow">http://weblog.amxc.nl/?p=82</a></p>

		
				</div>
		</li><!-- #comment-## -->
		</ol><!-- .comment-list -->

		<div class="navigation pagination">
					</div>

	
			<p class="no-comments">Comments are closed.</p>
<!-- COMMENTS END -->
</div></td></tr></table>

</body>
</html>
<br/><div class="disclaimer">
*DISCLAIMER: I DO NOT OWN THIS CONTENT. If you are the owner and would like it removed, please
<a target="_blank" href="/contact.htm">contact me</a>.
The content herein is an archived reproduction of entries from
Raymond Chen's "Old New Thing" Blog (most recent link is <a target="_blank" href="https://devblogs.microsoft.com/oldnewthing/">here</a>).
It may have slight formatting modifications for consistency and to improve readability.
<br/><br/>
WHY DID I DUPLICATE THIS CONTENT HERE?
Let me first say this site has never had anything to sell and has never shown ads of any kind. I have nothing monetarily to gain by duplicating content here.
Because I had made my own local copy of this content throughout the years, for ease of using tools like grep, I decided to put it online after I discovered
some of the original content previously and publicly available, had disappeared approximately early to mid 2019.
At the same time, I present the content in an easily accessible theme-agnostic way.
<br/><br/>
The information provided by Raymond's blog is, for all practical purposes, more authoritative on Windows Development than Microsoft's
own MSDN documentation and should be considered supplemental reading to that documentation. The wealth of missing details
provided by this blog that Microsoft could not or did not document about Windows over the years is vital enough, many would agree an online "backup" of these details
is a necessary endeavor. Specifics include:<br/>
<ul>
    <li>
        A "redesign" after 2019 erased thousands of user's comments from previous years. As many have stated, the comments are nearly as important as the postings themselves.
        The archived copies of the postings contained here retain the original comments.
    </li>
    <li>
        The blog has changed domains many times and the urls have otherwise been under constant change since 2003.
        Even when proper redirection has been set up for those links, redirection only works for a limited period of time.
        For example, all of the internal blog links that were valid in early 2019, were broken by 2020 without proper redirection.
    </li>
    <li>
        The blog has been under constant re-design and re-theming since its inception.
        It is downright irritating to deal with a bogged-down site experience as the result of the latest visual themes designed for cell-phone browsers.
        As of this writing, it is cumbersome to navigate titles with only 10 entries per page.
        While it is nice that the official site has a search feature, searching using this index (with all titles on a single page) is much quicker (CTRL-F in most browsers).
    </li>
</ul>
</div><br/>
&lt;-- Back to <a href="index.htm">Old New Thing Archive Index</a>

