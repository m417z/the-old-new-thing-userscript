<html>
<head>
<title>Sometimes the bug isn't apparent until late in the game</title>
<link rel="stylesheet" href="page.css">
</head><body>
<div class="titlediv"><h2>Sometimes the bug isn&#8217;t apparent until late in the game</h2></div>
<div class="hdrdiv"><table class="hdrtable" cellspacing="0" cellpadding="0">
<tr><td><b>Date:</b></td><td>September 10, 2004 / year-entry #334</td></tr>
<tr><td><b>Tags:</b></td><td>history</td></tr>
<tr><td><b>Orig Link:</b></td><td>https://blogs.msdn.microsoft.com/oldnewthing/20040910-00/?p=37903</td></tr>

<tr><td><b>Comments:&nbsp;&nbsp;&nbsp;&nbsp;</b></td><td>42</td></tr>
<tr><td valign="top"><b>Summary:</b></td><td valign="top">I didn't debug it personally, but I know the people who did. During Windows XP development, a bug arrived on a computer game that crashed only after you got to one of the higher levels. After many saved and restored games, the problem was finally identified. The program does its video work in an offscreen buffer...</td></tr>
</table></div>
<hr/>
<table class="contenttable" cellspacing="0" cellpadding="0"><tr><td><div class="contentdiv">
<!-- CONTENT START -->
<p>I didn't debug it personally, but I know the people who did. During Windows&nbsp;XP development, a bug arrived on a computer game that crashed only after you got to one of the higher levels.</p>
<p> After many saved and restored games, the problem was finally identified. </p>
<p> The program does its video work in an offscreen buffer and transfers it to the screen when it's done.  When it draws text with a shadow, it first draws the text in black, offset down one and right one pixel, then draws it again in the foreground color. </p>
<p> So far so good. </p>
<p> Except that it didn't check whether moving down and right one pixel was going to go beyond the end of the screen buffer. </p>
<p> That's why it took until one of the higher levels before the bug manifested itself.  Not until then did you accomplish a mission whose name contained a lowercase letter with a descender! Shifting the descender down one pixel caused the bottom row of pixels in the character to extend past the video buffer and start corrupting memory. </p>
<p> Once the problem was identified, fixing it was comparatively easy. The application compatibility team has a bag of tricks, and one of them is called "HeapPadAllocation". This particular compatibility fix adds padding to every heap allocation so that when a program overruns a heap buffer, all that gets corrupted is the padding. Enable that fix for the bad program (specifying the amount of padding necessary, in this case, one row's worth of pixels), and run through the game again.  No crash this time. </p>
<p> What made this interesting to me was that you had to play the game for <strong>hours</strong> before the bug finally surfaced. </p>
<!-- CONTENT END -->
</div></td></tr></table>
<hr/>
<table class="commenttable" cellspacing="0" cellpadding="0"><tr><td><div class="commentdiv"><div class="commentdivhdr">
<!-- COMMENTS START -->
Comments (42)	</div>

	
			<div class="navigation pagination clear-both">
					</div>

		<ol class="comment-list">
					<li class="comment even thread-even depth-1" id="comment-209043">
				<div id="div-comment-209043" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://www.lostpilgrim.co.uk/' rel='external nofollow' class='url'>Richard</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040910-00/?p=37903#comment-209043">
			September 10, 2004 at 8:07 am</a>		</div>

		<p>It amazes me sometimes that Microsoft put so much time and money into, essentially, fixing bugs in other people&#8217;s software. I can appreciate the business logic, but doesn&#8217;t it get infuriating after a while?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-209063">
				<div id="div-comment-209063" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">AC</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040910-00/?p=37903#comment-209063">
			September 10, 2004 at 8:23 am</a>		</div>

		<p>I assume the company who made the game died? If it did not, you could just send them a bug report and be over with it.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-209073">
				<div id="div-comment-209073" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Rob</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040910-00/?p=37903#comment-209073">
			September 10, 2004 at 8:27 am</a>		</div>

		<p>You mentioned that the application compatibility team has a bag of tricks. What other tricks do they often use?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-209083">
				<div id="div-comment-209083" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://weblogs.asp.net/oldnewthing/' rel='external nofollow' class='url'>Raymond Chen</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040910-00/?p=37903#comment-209083">
			September 10, 2004 at 8:37 am</a>		</div>

		<p>AC: The company is still in business, but the game market is very different from the productivity market. For most games, the game comes out, it sells for three months, maybe six if it&#8217;s lucky, and then it&#8217;s over. I remember calling these companies to report their bugs and they simply didn&#8217;t care. It&#8217;s possible that they didn&#8217;t even have the source code any more. </p>
<p>Rob: Check out the Application Compatibility Toolkit.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-209103">
				<div id="div-comment-209103" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Luc Cluitmans</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040910-00/?p=37903#comment-209103">
			September 10, 2004 at 8:39 am</a>		</div>

		<p>About &#8216;HeapPadAllocation&#8217;: is that &#8216;trick&#8217; from the &#8216;bag&#8217; available to us, mere mortals, too?</p>
<p>It sounds like a tool that could be useful in a weird bug I encountered recently, involving P/Invoke code to access a DLL written in C. The problem was only visible in Release builds, and only visible on some of the machines I tested it on. However, to be useful it would need to work with the allocator used by the P/invoked DLL (I have the DLL&#8217;s source code), but also on the allocations performed by the .NET framework marshalling code (obviously I don&#8217;t have the source code for that). Or are there other tools available for debugging Marshaller allocations?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-209113">
				<div id="div-comment-209113" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Merle</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040910-00/?p=37903#comment-209113">
			September 10, 2004 at 9:10 am</a>		</div>

		<p>Not completely relevant, but that&#8217;s actually a good technique for discouraging cracking.</p>
<p>Accept about 100 times the number of registration codes than are really valid (using gray codes and the like to ensure that the actual good codes don&#8217;t get mistyped as bogus &quot;good&quot; codes).</p>
<p>But very late into the game, do additional registration checks.. and slowly start corrupting things, making the game harder, hiding necessary components, etc.</p>
<p>And no kidding about the lifespan of games.  Unless it&#8217;s a suscription based game, they stop caring about bugs after mere months, if that long.  By then they&#8217;ve sold all the copies to hardcore gamers that they can, and the reviews are all out.  If it was a great seller, just put out a sequel, don&#8217;t patch the original.</p>
<p>It was not that way even a decade ago, although the signs were there.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-209123">
				<div id="div-comment-209123" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://www.dahat.com' rel='external nofollow' class='url'>Brendan</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040910-00/?p=37903#comment-209123">
			September 10, 2004 at 9:26 am</a>		</div>

		<p>Iâ€™ve got good news and bad news Merle, the concept you described has already been invented and used.<br />
<br />I believe the technology was called Fade, in short, if the game suspected it was pirated or cracked, the usability of the game would diminish over time. Enemies would become stronger, your weapons weaker and more inaccurate as well as the over all intelligence of characters would plummet.<br />
<br />The rate of decay would be such where the player would become hooked on the game and unable to complete it with out purchasing a legitimate copy of it. Effectively turning  the pirated game into a long demo.<br /></p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-209133">
				<div id="div-comment-209133" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Mike</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040910-00/?p=37903#comment-209133">
			September 10, 2004 at 9:29 am</a>		</div>

		<p>On a semi-related note, I recently discovered that a lot of my old PC games (circa win95) won&#8217;t install on my win2000 laptop. I can only guess this is something to do with copy-protection&#8230;I worked on one of the titles so I know it used Laserlok, a particularly flaky protection system that involved manufacturing borderline-broken CDs.</p>
<p>I&#8217;d imagine that systems like this would fall apart on newer hardware/OSes, do you guys make any attempt to crutch them up?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-209153">
				<div id="div-comment-209153" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://weblogs.asp.net/oldnewthing' rel='external nofollow' class='url'>Raymond Chen</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040910-00/?p=37903#comment-209153">
			September 10, 2004 at 9:36 am</a>		</div>

		<p>Seems the rate of people asking questions that have already been answered is on the upswing.  <a target="_new" href="http://weblogs.asp.net/oldnewthing/archive/2004/06/04/148427.aspx" rel="nofollow">http://weblogs.asp.net/oldnewthing/archive/2004/06/04/148427.aspx</a></p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-209173">
				<div id="div-comment-209173" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Merle</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040910-00/?p=37903#comment-209173">
			September 10, 2004 at 9:38 am</a>		</div>

		<p>Brendan: oh, I know.  Sorry; I wasn&#8217;t trying to present it as a &quot;new&quot; idea.</p>
<p>Did not know about Fade per se, but I&#8217;ve seen it done in a lot of smaller games.  The real trick is not to annoy potential customers: if they play a cracked copy and decide &quot;this game isn&#8217;t worth it&quot;, they might not go out and buy it.</p>
<p>If they are one of those people who buys games after trying them.  Sadly, it&#8217;s a small subset&#8230;</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-209183">
				<div id="div-comment-209183" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Peter</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040910-00/?p=37903#comment-209183">
			September 10, 2004 at 9:39 am</a>		</div>

		<p>Hey it&#8217;s not that bad job at all, as far as you enjoy playing the game :)</p>
<p>BTW doesn&#8217;t such debugging violate the common &quot;do not dare to reverse engineer, disassemble or even start the software&quot; license?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-209193">
				<div id="div-comment-209193" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Adrian</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040910-00/?p=37903#comment-209193">
			September 10, 2004 at 9:39 am</a>		</div>

		<p>If the bottom right pixel of the descender was in the bottom right pixel of the screen, then your extra allocation would have to be one scanline plus one more pixel to keep the drop-shadow from overrunning the buffer.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-209213">
				<div id="div-comment-209213" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Dhericean</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040910-00/?p=37903#comment-209213">
			September 10, 2004 at 9:43 am</a>		</div>

		<p>Mike:<br />
<br />I find that Nt Compatible (<a target="_new" href="http://www.ntcompatible.com/" rel="nofollow">http://www.ntcompatible.com/</a>) is a good place for getting information and help on running old games.  A particular fun one was Thief on Win2K which required a parameter to force and install as it saw NT and decided it didn&#8217;t have a high enough version of DirectX.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-209243">
				<div id="div-comment-209243" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://Hahham' rel='external nofollow' class='url'>Shay Erlichmen</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040910-00/?p=37903#comment-209243">
			September 10, 2004 at 9:57 am</a>		</div>

		<p>Why it took hours to find the bug, was it a case of hard bug to nail down even if you get a proper test case or it took hours to get to the level?</p>
<p>The games didn&#8217;t had cheats to reach the top levels or get high score?</p>
<p>Don&#8217;t you have HeapCheck there?</p>
<p>Sound to me like an urban legend.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-209253">
				<div id="div-comment-209253" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://weblogs.asp.net/oldnewthing/' rel='external nofollow' class='url'>Raymond Chen</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040910-00/?p=37903#comment-209253">
			September 10, 2004 at 10:11 am</a>		</div>

		<p>It took hours to get to that level, and then more hours of investigation to figure out what was going on.</p>
<p>Remember, it&#8217;s easy to figure out the answer once you already know the answer.</p>
<p>You can have all the tools in the world but until you know which one to use you&#8217;re not going to get anywhere. Sure you can turn on heap checking, but first you have to realize that the problem was a heap overflow. </p>
<p>And even once you figure that out, you need to determine what&#8217;s causing the overrun. Maybe the overrun was caused by a messing timing problem. Maybe because some API is returning failure when it used to return success. And then you have to figure out what the correct fix is. What is the correct amount of padding?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-209263">
				<div id="div-comment-209263" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Ben Cooke</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040910-00/?p=37903#comment-209263">
			September 10, 2004 at 10:27 am</a>		</div>

		<p>I really wish application and game authors wouldn&#8217;t &quot;probe by version&quot;. By this, I mean looking for a specific version of something to determine if your product can run.</p>
<p>It&#8217;s far better in many cases to &quot;probe by capability&quot;; Does this system have XYZ DLL and does that DLL have this function that I need?</p>
<p>Of course, in order to do this you need to be aware of what key functions indicate the presence of the API you need, but with Microsoft&#8217;s policy of backward compability this should theoretically be the best approach since the old APIs aren&#8217;t going to go away.</p>
<p>I&#8217;ve had a few different apps which would refuse to install on my Windows 2000 system because they &quot;require Windows XP&quot;, but the component from Windows XP that it needs is actually installed on my Windows 2000 system from an update from Microsoft. Microsoft itself is guilty of this, in fact, but I suspect many times when this is done it is for marketing rather than for technical reasons.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-209273">
				<div id="div-comment-209273" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://www.smackfu.com' rel='external nofollow' class='url'>Scott</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040910-00/?p=37903#comment-209273">
			September 10, 2004 at 10:30 am</a>		</div>

		<p>Raymond, I think you&#8217;ve just reached the point at which the number of back entries is too long for an idle visitor to read.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-209283">
				<div id="div-comment-209283" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://weblogs.asp.net/oldnewthing/' rel='external nofollow' class='url'>Raymond Chen</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040910-00/?p=37903#comment-209283">
			September 10, 2004 at 10:32 am</a>		</div>

		<p>There are dangers to &quot;probe by capability&quot;; I&#8217;ll add it to the topics list. </p>
<p>If someone asks a question that I&#8217;ve already answered, should I answer it again? Or just hope that they find the old answer?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-209303">
				<div id="div-comment-209303" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Stuart</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040910-00/?p=37903#comment-209303">
			September 10, 2004 at 11:54 am</a>		</div>

		<p>I am pretty certian that MS does deliberately stop applications from being installed on old versions of windows, even when they are perfectly compatible. One example is Media Player 7. If you can find the original version 7.0 (oldversion.com) then it WILL install on Windows 95, as long as you have IE 5, it does however display a warning about compatibility. 7.1 refuses to install on Win95. I suspect this was down to marketing, especailly as 7.0 is no longer available from microsoft. Other culprits I suspect are MSN Messenger 6 and probably IE 6.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-209333">
				<div id="div-comment-209333" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Tony Cox [MS]</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040910-00/?p=37903#comment-209333">
			September 10, 2004 at 12:59 pm</a>		</div>

		<p>Games very frequently do version probes on drivers to figure out what to do. And with good reason. The problem is that drivers are buggy, and they can be buggy in very subtle ways that aren&#8217;t immediately apparent. 3D graphics drivers are particularly prone to this, because 3D graphics is so complex.</p>
<p>Now, you might say that if the driver is buggy, that&#8217;s the driver&#8217;s problem. The software should just let the driver misbehave (crash, render the wrong thing, whatever), and that will act as a forcing function for the vendor to fix their driver. This is a nice theory, with two main drawbacks:</p>
<p>Firstly, driver problems can often just look the application problems. If the driver goofs up rendering your title, but several other titles look fine, even if the problem really is a bug in the driver, people will blame your software.</p>
<p>Secondly, the vendors (at least the major ones) do fix their drivers! The problem is that users don&#8217;t install the fixes. This is especially true for more family-oriented software designed to run on older machines. Not all of the customers have internet access. Many of them are terrified of messing with anything on their computer.</p>
<p>So, instead of having dissatisfied customers, we (the games studios) just detect known bad driver versions, and work around the bugs. It doesn&#8217;t really make me feel very good, but it keeps our customers happy.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-209343">
				<div id="div-comment-209343" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Pavel Lebedinsky</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040910-00/?p=37903#comment-209343">
			September 10, 2004 at 1:09 pm</a>		</div>

		<blockquote><p>
  Or are there other tools available for debugging Marshaller allocations?</p>
<p>Yes. The best tool for debugging p/invoke marshalling problems is full pageheap. It is actually the reverse of HeapPadAllocation &#8211; instead of ignoring heap overruns, it tries to catch them as soon as they happen.</p>
<p>For details, see <a target="_new" href="http://www.osr.com/ddk/ddtools/gflags_4n77.htm" rel="nofollow">http://www.osr.com/ddk/ddtools/gflags_4n77.htm</a>, &quot;Enable full page heap verification&quot; topic.</p>
<p>You can get the gflags.exe tool mentioned in this article here: <a target="_new" href="http://www.microsoft.com/whdc/DevTools/Debugging/default.mspx" rel="nofollow">http://www.microsoft.com/whdc/DevTools/Debugging/default.mspx</a></p>
<p>You can also google for &quot;customer debug probes&quot; &#8211; this is a .NET equivalent of AppVerifier and I think they have some pinvoke related checks too.
</p></blockquote>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-209353">
				<div id="div-comment-209353" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://slashdot.org/~rolofft' rel='external nofollow' class='url'>rolofft</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040910-00/?p=37903#comment-209353">
			September 10, 2004 at 1:09 pm</a>		</div>

		<p>This sounds like the one-pixel bug in &lt;a href=&quot;<a target="_new" href="http://www.amazon.com/exec/obidos/tg/detail/-/0385508603/102-4446662-8907327?v=glance&quot;&gt;The" rel="nofollow">http://www.amazon.com/exec/obidos/tg/detail/-/0385508603/102-4446662-8907327?v=glance&quot;&gt;The</a> Bug&lt;/a&gt; that ended up killing the programmer.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-209373">
				<div id="div-comment-209373" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://www.lapthorn.net' rel='external nofollow' class='url'>Barry</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040910-00/?p=37903#comment-209373">
			September 10, 2004 at 1:48 pm</a>		</div>

		<p>Hmm, not sure what game that might be, but Rainbow Islands on the original Playstation:  get all the diamonds in order on the first four worlds (plus the &#8216;bonus diamond&#8217; at end of level), get onto world five kill the first bad guy on the first level, and turn him into a red diamond, bobs-yer-uncle (or Robert is your mother&#8217;s brother, if you prefer), and your Playstation crashes.  Takes about 40 minutes.  Very irritating.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-209403">
				<div id="div-comment-209403" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Merle</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040910-00/?p=37903#comment-209403">
			September 10, 2004 at 4:18 pm</a>		</div>

		<p>There could also be bugs that only surface after hours of continuous play that might not exist if you simply restore a saved game.</p>
<p>Something on level 2 corrupts a bit of code that nothing touches until level 18&#8230; but if you restored the game, you would not have played through level 2, soo&#8230;</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-209423">
				<div id="div-comment-209423" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">James Summerlin</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040910-00/?p=37903#comment-209423">
			September 10, 2004 at 5:02 pm</a>		</div>

		<p>Raymond,</p>
<p>Do not waste your precious time answering old questions that are being asked again unless, in your incredible judgement, you deem it worthy.</p>
<p>Otherwise, everyone else can do what I do with your kick &#8211; ass blog:  Go through and read it all.</p>
<p>James</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-209323">
				<div id="div-comment-209323" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Merle</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040910-00/?p=37903#comment-209323">
			September 10, 2004 at 12:59 pm</a>		</div>

		<p>Stuart: good to know about Media Player, thanks.  I&#8217;ve been stuck on 6.4 on my w95 box for ages now, unable to play any .wmv files.  (of course, 7.0 might not do that either, but&#8230;)</p>
<p>Agreed on &quot;probe by version&quot;.  Hey, I just upgraded a SQL Server 7 to 2000, and it forcibly installed an *older* version of MDAC (2.6).  Very annoying.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-209433">
				<div id="div-comment-209433" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://zerotrilogy.gotdns.com/jaysonblog' rel='external nofollow' class='url'>jayson knight</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040910-00/?p=37903#comment-209433">
			September 10, 2004 at 8:39 pm</a>		</div>

		<p>I&#8217;m an avid reader, but not an avid poster, that being said&#8230;</p>
<p>Until Scott provides .Text with a search (or index) feature, it&#8217;s nearly impossible to find relevant information on someone&#8217;s blog.  You have 522 posts on your blog&#8230;that&#8217;s a lot of content to just simply sit down and read for an answer to a question.  I&#8217;ve read a good portion of your blog, but would be hard pressed to simply know which post to read for an answer to a question that&#8217;s already been covered.  I appreciate it when you provide links to previous questions as it may point to content I haven&#8217;t read before.  At the very least, it may be a refresher on something I forgot I read.  Also, as the author of this blog, you have a better feel for what questions you&#8217;ve already answered in the past.  Just my .000002.</p>
<p>Thanks,<br />
<br />jayson</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-209453">
				<div id="div-comment-209453" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">J. Edward Sanchez</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040910-00/?p=37903#comment-209453">
			September 11, 2004 at 1:17 am</a>		</div>

		<p>This blog is indexed by Google, so you can search it using something like this:</p>
<p><a target="_new" href="http://www.google.com/search?q=site%3Aweblogs.asp.net+%22Raymond+Chen%22+%7Egame+%7Einstall" rel="nofollow">http://www.google.com/search?q=site%3Aweblogs.asp.net+%22Raymond+Chen%22+%7Egame+%7Einstall</a></p>
<p>The first hit returned by the above query is the page Raymond linked to.</p>
<p>In case anyone is wondering, the tilde operator is used to specify that synonyms are acceptable. For more information on advanced Google searches, see:</p>
<p><a target="_new" href="http://www.google.com/help/refinesearch.html" rel="nofollow">http://www.google.com/help/refinesearch.html</a></p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-209513">
				<div id="div-comment-209513" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Ryan</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040910-00/?p=37903#comment-209513">
			September 11, 2004 at 11:52 am</a>		</div>

		<p>&quot;I am pretty certian that MS does deliberately stop applications from being installed on old versions of windows, even when they are perfectly compatible.&quot;</p>
<p>Don&#8217;t forget sometimes the test teams just say &quot;no.&quot; Shipping in 9 languages, 2 OS&#8217;s, and 4 deployment configs creates a matrix&#8230; Test automation helps here but testers can also make the mistake (Just like some devs) of writing the test code on Win2003 and finding out it doesn&#8217;t work on Win2K because some feature wasn&#8217;t there or was buggy.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-209543">
				<div id="div-comment-209543" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Anonymous Coward</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040910-00/?p=37903#comment-209543">
			September 12, 2004 at 6:16 am</a>		</div>

		<p>Somewhat back on topic, I have this amusing issue with a game.  I like to play Rise of Nations (published by Microsoft) on my Windows XP Professional (by Microsoft).  I recently reinstalled XP and ever since then Rise likes to occassionally crash.  It dutifully does all that crash reporting stuff (to Microsoft).  However about 90% of the time the game is left in full screen mode so I can&#8217;t interact with the desktop or the task manager (by Microsoft :-).  I have a dual monitor setup so I can still interact with Windows on the second monitor, but almost all dialogs etc come up on the first monitor where I can&#8217;t interact with them.  Usually I have to resort to the reset button even though Windows is working fine.</p>
<p>Some workarounds are to run task manager before starting the game and ensure it is on the second screen and close.  It also seems like hibernating the machine clears the full screen game window.  Sometimes Windows Key &#8211; L works and I can switch user and kill stuff from there.  It doesn&#8217;t really help that the games going fullscreen do all sorts of funky stuff to the display sizes and where windows remember they were.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-209553">
				<div id="div-comment-209553" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Mack</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040910-00/?p=37903#comment-209553">
			September 12, 2004 at 11:10 am</a>		</div>

		<p>Oooohh, fullscreen games are teh fun! Especially when:</p>
<p>* the game crashes and you need the task manager (I have only one monitor&#8230;)</p>
<p>* you play in a LAN and your personal firewall wants confirmation that the game is allowed to open a port</p>
<p>* you forgot to close ICQ</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-209573">
				<div id="div-comment-209573" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">James Summerlin</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040910-00/?p=37903#comment-209573">
			September 12, 2004 at 7:58 pm</a>		</div>

		<p>Blizzard games are best.  The quality is high and the support their games long after it is out for 3 months.</p>
<p>James</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-209953">
				<div id="div-comment-209953" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">KG</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040910-00/?p=37903#comment-209953">
			September 14, 2004 at 12:32 am</a>		</div>

		<p>Now we know why microsoft developers don&#8217;t get enough time to fix their own bugs :-)</p>
<p>Just curious. Do you really have to go so far to ensure  compatibility with poorly written apps, especially when the particular bug surfaces after almost what? an hour? Despite your best attempts at making third-party software run bug free, there could other things in the game(unreported bugs) that could spoil the end-user experience. So, are you folks going to take the responsibility for making them work perfectly? By doing all these, aren&#8217;t you encouraging 3rd party developers get away with their shoddy work? Most important of all, shouldn&#8217;t your resources be best put to use for solving your own bugs? Otherwise, other developers will have do the same thing &#8211; fix Microsoft&#8217;s Bug instead of their own :-)<br /></p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-210443">
				<div id="div-comment-210443" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Norman Diamond</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040910-00/?p=37903#comment-210443">
			September 14, 2004 at 6:24 pm</a>		</div>

		<p>9/14/2004 12:32 AM KG</p>
<p>&gt; Otherwise, other developers will have do the<br />
<br />&gt; same thing &#8211; fix Microsoft&#8217;s Bug instead of<br />
<br />&gt; their own :-)</p>
<p>Yeah we have to but we can&#8217;t, because of something we&#8217;re missing.</p>
<p>Actually some of us can but I don&#8217;t think I can any more, it&#8217;s been decades since I did that kind of disassembling.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-211873">
				<div id="div-comment-211873" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Joe  [MS]</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040910-00/?p=37903#comment-211873">
			September 17, 2004 at 11:14 pm</a>		</div>

		<p>I remember a app we made work on W2K&#8230;it was in the COM code.  to activate a COM object, you get the class factory, passing in a CLSID. Then you call CreateInstance() on the returned IClassFactory.  One app kept crashing.  Without symbols or source, we debugged it and found out that what this app was doing was storing the address of the stack variable (the clsid) in a global and then referencing it when ::CreateInstance() was called, assuming that the CLSID hadn&#8217;t fallen out of scope of in the caller&#8217;s stack.  We had reworked how CoCreateInstance() works from NT4 to W2K and this assumption was no longer valid.</p>
<p>Yes, we made the app work.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-212433">
				<div id="div-comment-212433" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://weblogs.asp.net/oldnewthing/archive/2004/09/18/227860.aspx#231328' rel='external nofollow' class='url'>Joshua</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040910-00/?p=37903#comment-212433">
			September 18, 2004 at 7:33 pm</a>		</div>

		<p>It&#8217;s delightful to read about all these DLL issues, long considered solved problems by the rest of the software world. Ha! DLLs! Adding heap padding to <em>everything</em>! That&#8217;s the kind of thing we did in school when a final project would do, hoping the instructor wouldn&#8217;t notice &#8212; or in windows, I guess. </p>
<p>Nice blog, though. Love the spam graph and the gory microsoft-programming details.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-213823">
				<div id="div-comment-213823" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Jouni Osmala</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040910-00/?p=37903#comment-213823">
			September 24, 2004 at 3:17 pm</a>		</div>

		<p>Duh. Your blog makes me sad.<br />
<br />I&#8217;ve been using linux since I got well over 6 blue screen per day for a week in y2k . Now after reading your blog MY wishfull thinking of wine becoming fully compatible with all the windows software has become a just that wishfull thinking, no hope anymore. Think about hunting those bugs without access to your tools, nor windows sources of a version that works&#8230;</p>
<p>2ND thing.<br />
<br />What I&#8217;ve realized that good programming platform outright refuses every attempt off accessing anything that its supposedly NOT accepted to access. Fortunately for microsoft, windows didn&#8217;t do it from the beginning. Why fortunately? Well it makes opensource windows clone outright impossible to make compatible with all the software on microsoft platform.<br /></p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-214123">
				<div id="div-comment-214123" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Jim</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040910-00/?p=37903#comment-214123">
			September 27, 2004 at 5:03 am</a>		</div>

		<p>If you are (as I think you must be) an open source enthusiast then this kind of thing isn&#8217;t so bad to hear &#8211; it at least puts forward the argument for having source code avaliable &#8211; it would have been better to fix the game than made a special case in the OS.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-215203">
				<div id="div-comment-215203" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://joannejacobs.net/cgi-bin/archives/000559.html' rel='external nofollow' class='url'>joannejacobs.net</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040910-00/?p=37903#comment-215203">
			October 6, 2004 at 1:58 pm</a>		</div>

		<p>As the smell of smoke has permeated my appartment as a result of the fire on Mount Coot-tha just down the road, I can&#8217;t sleep. As a result, I have elected to use my time more efficiently and have responded to some emails and finally got a chance to do some reading. Thanks to Westy for a series of links that have proved most informative. Firstly, the research conducted on internet deprivation was fascinating for its identification of the reliance many now place on these technologies. *looks at self* Hmm. A few years back I might have felt a tad reliant on internet connectivity. Lately though I think I could well go without it for a fortnight. I&#8217;d just hate to come back to my email!!! And this link to a discussion of bug fixing for Microsoft operating systems explains just how hard it is to find all the various nuances of program functionality in updating system activities. At least it&#8217;s good to know there are those out there who are dedicated enough to gaming to fix some problems! :) And finally this link to&#8230;</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-467543">
				<div id="div-comment-467543" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://blogs.msdn.com/oldnewthing/archive/2007/02/02/1582983.aspx' rel='external nofollow' class='url'>The Old New Thing : The ironic thing about fixing a bug</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040910-00/?p=37903#comment-467543">
			February 2, 2007 at 10:00 am</a>		</div>

		<p>PingBack from <a rel="nofollow" target="_new" href="http://blogs.msdn.com/oldnewthing/archive/2007/02/02/1582983.aspx" rel="nofollow">http://blogs.msdn.com/oldnewthing/archive/2007/02/02/1582983.aspx</a></p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-468303">
				<div id="div-comment-468303" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://ashleigh.id.au/?p=590' rel='external nofollow' class='url'>Ashleigh&#8217;s Dump &raquo; Blog Archive &raquo; A software developers lot is not a happy one</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040910-00/?p=37903#comment-468303">
			February 4, 2007 at 5:11 am</a>		</div>

		<p>PingBack from <a rel="nofollow" target="_new" href="http://ashleigh.id.au/?p=590" rel="nofollow">http://ashleigh.id.au/?p=590</a></p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-579433">
				<div id="div-comment-579433" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://www.eriknovales.com/blog/index.php/2007/12/20/even-when-you-wrote-the-operating-system-you-still-have-to-work-around-other-peoples-bugs/' rel='external nofollow' class='url'>Even When You Wrote the Operating System, You Still Have to Work Around Other Peoples&#8217; Bugs</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040910-00/?p=37903#comment-579433">
			December 20, 2007 at 2:01 pm</a>		</div>

		<p>PingBack from <a rel="nofollow" target="_new" href="http://www.eriknovales.com/blog/index.php/2007/12/20/even-when-you-wrote-the-operating-system-you-still-have-to-work-around-other-peoples-bugs/" rel="nofollow">http://www.eriknovales.com/blog/index.php/2007/12/20/even-when-you-wrote-the-operating-system-you-still-have-to-work-around-other-peoples-bugs/</a></p>

		
				</div>
		</li><!-- #comment-## -->
		</ol><!-- .comment-list -->

		<div class="navigation pagination">
					</div>

	
			<p class="no-comments">Comments are closed.</p>
<!-- COMMENTS END -->
</div></td></tr></table>

</body>
</html>
<br/><div class="disclaimer">
*DISCLAIMER: I DO NOT OWN THIS CONTENT. If you are the owner and would like it removed, please
<a target="_blank" href="/contact.htm">contact me</a>.
The content herein is an archived reproduction of entries from
Raymond Chen's "Old New Thing" Blog (most recent link is <a target="_blank" href="https://devblogs.microsoft.com/oldnewthing/">here</a>).
It may have slight formatting modifications for consistency and to improve readability.
<br/><br/>
WHY DID I DUPLICATE THIS CONTENT HERE?
Let me first say this site has never had anything to sell and has never shown ads of any kind. I have nothing monetarily to gain by duplicating content here.
Because I had made my own local copy of this content throughout the years, for ease of using tools like grep, I decided to put it online after I discovered
some of the original content previously and publicly available, had disappeared approximately early to mid 2019.
At the same time, I present the content in an easily accessible theme-agnostic way.
<br/><br/>
The information provided by Raymond's blog is, for all practical purposes, more authoritative on Windows Development than Microsoft's
own MSDN documentation and should be considered supplemental reading to that documentation. The wealth of missing details
provided by this blog that Microsoft could not or did not document about Windows over the years is vital enough, many would agree an online "backup" of these details
is a necessary endeavor. Specifics include:<br/>
<ul>
    <li>
        A "redesign" after 2019 erased thousands of user's comments from previous years. As many have stated, the comments are nearly as important as the postings themselves.
        The archived copies of the postings contained here retain the original comments.
    </li>
    <li>
        The blog has changed domains many times and the urls have otherwise been under constant change since 2003.
        Even when proper redirection has been set up for those links, redirection only works for a limited period of time.
        For example, all of the internal blog links that were valid in early 2019, were broken by 2020 without proper redirection.
    </li>
    <li>
        The blog has been under constant re-design and re-theming since its inception.
        It is downright irritating to deal with a bogged-down site experience as the result of the latest visual themes designed for cell-phone browsers.
        As of this writing, it is cumbersome to navigate titles with only 10 entries per page.
        While it is nice that the official site has a search feature, searching using this index (with all titles on a single page) is much quicker (CTRL-F in most browsers).
    </li>
</ul>
</div><br/>
&lt;-- Back to <a href="index.htm">Old New Thing Archive Index</a>

