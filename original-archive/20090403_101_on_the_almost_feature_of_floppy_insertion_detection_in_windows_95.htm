<html>
<head>
<title>On the almost-feature of floppy insertion detection in Windows 95</title>
<link rel="stylesheet" href="page.css">
</head><body>
<div class="titlediv"><h2>On the almost-feature of floppy insertion detection in Windows 95</h2></div>
<div class="hdrdiv"><table class="hdrtable" cellspacing="0" cellpadding="0">
<tr><td><b>Date:</b></td><td>April 3, 2009 / year-entry #102</td></tr>
<tr><td><b>Tags:</b></td><td>history</td></tr>
<tr><td><b>Orig Link:</b></td><td>https://blogs.msdn.microsoft.com/oldnewthing/20090403-00/?p=18633</td></tr>

<tr><td><b>Comments:&nbsp;&nbsp;&nbsp;&nbsp;</b></td><td>80</td></tr>
<tr><td valign="top"><b>Summary:</b></td><td valign="top">Gosh, that floppy insertion article generated a lot of comments. First, to clarify the table: The table is trying to say that if you had a Style†A floppy drive, then issuing the magic series of commands would return 1 if a floppy was present, or 0 if the floppy was not present. On the other...</td></tr>
</table></div>
<hr/>
<table class="contenttable" cellspacing="0" cellpadding="0"><tr><td><div class="contentdiv">
<!-- CONTENT START -->
<p>Gosh, <a href="http://blogs.msdn.com/oldnewthing/archive/2009/04/02/9528175.aspx"> that floppy insertion article</a> generated a lot of comments.</p>
<p> First, <a href="http://blogs.msdn.com/oldnewthing/archive/2009/04/02/9528175.aspx#9529615"> to clarify the table</a>: The table is trying to say that if you had a <i>Style&nbsp;A</i> floppy drive, then issuing the magic series of commands would return 1 if a floppy was present, or 0 if the floppy was not present. On the other hand, if you had a <i>Style&nbsp;B</i> floppy drive, then issuing the magic series of commands would return 0 if a floppy was present, or 1 if the floppy was not present. That's what I was trying to say in the table. The answer was consistent within a floppy style, but you first had to know what style you had. </p>
<p> The downside of <a href="http://blogs.msdn.com/oldnewthing/archive/2009/04/02/9528175.aspx#9529179"> waiting until the user uses a floppy for the first time</a> is that you have the <i>it sometimes works and sometimes doesn't</i> problem. Dad buys a new computer and a copy of the <i>Happy Fun Ball</i> game for his son. Dad turns on the computer, and then follows the instructions that come with the <i>Happy Fun Ball</i> package: "Just insert the floppy and follow the instructions on the screen." Dad inserts the floppy and... nothing happens because this is the first time Dad used the floppy, and he was expecting autodetection to work. </p>
<p> Dad says, "Stupid program doesn't work." </p>
<p> Dad complains to his co-workers at work. "He loves this game <i>Happy Fun Ball</i> when he visits his cousin's house, so I bought a computer and a copy of <i>Happy Fun Ball</i>, and it doesn't work!" </p>
<p> Dad tries again that evening and this time it works, because in the meantime, he inserted a floppy to do something else (say, create an emergency boot disk). Bizarre. This just reinforces Dad's impression that computers are unpredictable and he will never understand how to use them. </p>
<p> One could say that a feature that mysteriously turns itself on and off is worse than a feature that simply doesn't work. At least when it doesn't work, it predictably doesn't work. Human beings value predictability. </p>
<p> You can't perform the test "<a href="http://blogs.msdn.com/oldnewthing/archive/2009/04/02/9528175.aspx#9529566">the first time the drive is installed</a>" because there is no way to tell that a drive has been installed. (Classic floppy drives are not Plug-and-Play.) Even worse, you can't tell that the user has replaced the <i>Style&nbsp;A</i> floppy drive with a <i>Style&nbsp;B</i> floppy drive. The user will see that floppy insertion detection stopped working and return the drive to the store. "This drive is broken. Floppy insertion detection doesn't work." </p>
<p> It is also not the case that <a href="http://blogs.msdn.com/oldnewthing/archive/2009/04/02/9528175.aspx#9529205"> the ambiguity in the specification indicated a flaw in the specification</a>. The C++ language specification, for example, leaves a lot of behaviors at the discretion of the implementation. This allows implementations to choose a behavior that works best for them. The <i>no-spin-up floppy presence detection</i> algorithm relied on several behaviors which were covered by the specification, and one that was not. It was not part of the original charter for the floppy specification committee to support spinless presence detection; it's just something that my colleague discovered over a decade after the specification was written. </p>
<p> But the main reason for not bothering is that the benefit was minuscule compared to the cost. Nobody wants floppy drives to spin up as soon as a disk is inserted. That just makes them think they've been attacked by a computer virus. It'd all just be a lot of work for a feature nobody wants. And then you'd all be posting, "I can't believe Microsoft wasted all this effort on floppy insertion detection when they should have fixed <i>insert favorite bug here</i>." </p>
<!-- CONTENT END -->
</div></td></tr></table>
<hr/>
<table class="commenttable" cellspacing="0" cellpadding="0"><tr><td><div class="commentdiv"><div class="commentdivhdr">
<!-- COMMENTS START -->
Comments (80)	</div>

	
			<div class="navigation pagination clear-both">
					</div>

		<ol class="comment-list">
					<li class="comment byuser comment-author-nathan_works even thread-even depth-1" id="comment-723133">
				<div id="div-comment-723133" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/nathan_works' rel='external nofollow' class='url'>nathan_works</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090403-00/?p=18633#comment-723133">
			April 3, 2009 at 10:06 am</a>		</div>

		<p>Random floppy spin ups makes folks think they have a virus.</p>
<p>But isn&#8217;t that how a number of autoplay attacks work ? People liked &quot;put a CD in and it runs&quot;, but now that feature is a liability (at least for USB, probably others)</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-723173">
				<div id="div-comment-723173" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://www.jroller.com/jsight/' rel='external nofollow' class='url'>Jess Sightler</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090403-00/?p=18633#comment-723173">
			April 3, 2009 at 10:58 am</a>		</div>

		<blockquote><p>
  Nobody wants floppy drives to spin up as soon as a disk is inserted.
</p></blockquote>
<p>At least we know why the Amiga failed now. &nbsp;;)</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-723183">
				<div id="div-comment-723183" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">someone else</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090403-00/?p=18633#comment-723183">
			April 3, 2009 at 11:13 am</a>		</div>

		<p>Forget floppy detection. What I really want to know: Why is there no detect-drives-besides-floppy-in-Windows-NT-5.x-setup-when-I-want-to-install-that-freakin-SATA-driver feature?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-maurits odd alt thread-odd thread-alt depth-1" id="comment-723193">
				<div id="div-comment-723193" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Maurits+%5BMSFT%5D' rel='external nofollow' class='url'>Maurits [MSFT]</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090403-00/?p=18633#comment-723193">
			April 3, 2009 at 11:35 am</a>		</div>

		<blockquote><p>
  a feature that mysteriously turns itself on and off is worse than a feature that simply doesn&#8217;t work
</p></blockquote>
<p>&#8230; and worst of all is a feature that works all the time but isn&#8217;t what you want.</p>
<p>(I&#8217;m looking at you, CD autoplay&#8230; and smart quotes&#8230; and hiding known file extensions&#8230; and thumbnails&#8230; and drop-shadow on the mouse&#8230; and virtual memory&#8230; and spelling dictionaries with the word &quot;manger&quot;&#8230;)</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-723203">
				<div id="div-comment-723203" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Mark (The other Mark)</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090403-00/?p=18633#comment-723203">
			April 3, 2009 at 11:42 am</a>		</div>

		<p>The real question is- Did you bump today&#8217;s entry for this one (Probably true, but boring) or did your psychic powers tell you this entry would be needed?</p>
<div class=post>[<i>In life, <a href="http://en.wikipedia.org/wiki/Occam%27s_razor" rel="nofollow">the boring answer is the far more likely one</a>. Today is no exception. -Raymond</i>]</div>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-723233">
				<div id="div-comment-723233" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://mjtsai.com/blog/2009/04/03/floppy-insertion-detection-in-windows-95/' rel='external nofollow' class='url'>Michael Tsai - Blog - Floppy Insertion Detection in Windows 95</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090403-00/?p=18633#comment-723233">
			April 3, 2009 at 12:03 pm</a>		</div>

		<p>PingBack from <a rel="nofollow" target="_new" href="http://mjtsai.com/blog/2009/04/03/floppy-insertion-detection-in-windows-95/" rel="nofollow">http://mjtsai.com/blog/2009/04/03/floppy-insertion-detection-in-windows-95/</a></p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-723243">
				<div id="div-comment-723243" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Clifton</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090403-00/?p=18633#comment-723243">
			April 3, 2009 at 12:08 pm</a>		</div>

		<p>Discontinue use of floppy insertion detection if any of the following occurs: &nbsp;itching, vertigo, dizziness, tingling in extremities, loss of balance or coordination, slurred speech, temporary blindness, profuse sweating, or heart palpitations. &nbsp;Do not taunt floppy insertion detection.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-723263">
				<div id="div-comment-723263" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://trumgottist.com' rel='external nofollow' class='url'>Rikard</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090403-00/?p=18633#comment-723263">
			April 3, 2009 at 1:08 pm</a>		</div>

		<p>Ah. Now I understand. When I read the original article, I simply thought of the detection as a way to avoid the scary sounding things that happened when a program wanted to read from the floppy drive when there was no disk present. Autorun and things like that never even entered my mind.</p>
<p>I suppose the commenters suggesting the first-use check thought like me.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-723273">
				<div id="div-comment-723273" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Nawak</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090403-00/?p=18633#comment-723273">
			April 3, 2009 at 1:27 pm</a>		</div>

		<p>The funny thing is that I did not understand what you meant by &quot;floppy detection&quot; until now.</p>
<p>Sure, I understood your technical explanation but not what was the projected use! It was for autoplay all along!! My disappointment for the missing feature has completely disappeared! Autoplay is such a bad idea (retrospectively of course)!</p>
<p>I thought that the &quot;floppy detection&quot; was to avoid grinding for seconds (that seem an eternity) when clicking on an empty drive in explorer or when an antivirus checks all drive at a given time&#8230; Now that would have been an improvement!!</p>
<p>And that&#8217;s why I didn&#8217;t get the &quot;user experience&quot; argument, because &quot;sometimes when I click on an empty drive it grinds before telling me to insert a disk and sometimes it tells me right away&quot; is not a troubling experience!</p>
<p>I was disappointed to see that today&#8217;s post still wasn&#8217;t a technical one, like the ones you were posting some time ago. But that disappointment is lowered now that I saw that it wasn&#8217;t a useless</p>
<p>post for me :)</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-723283">
				<div id="div-comment-723283" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Nawak</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090403-00/?p=18633#comment-723283">
			April 3, 2009 at 1:32 pm</a>		</div>

		<p>Rikard:</p>
<p>Not only you post the same thing as me, but on top of that you are doing it while I struggle with words and you are quicker!</p>
<p>And who will be blamed for posting without reading previous comments now??</p>
<p>Me! Yes, thanks, I know! :)</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-723293">
				<div id="div-comment-723293" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">SuperKoko</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090403-00/?p=18633#comment-723293">
			April 3, 2009 at 1:34 pm</a>		</div>

		<blockquote><p>
  I&#8217;m not sure if you&#8217;re just trying to be smug or making a joke&#8211; sorry if the latter.
</p></blockquote>
<p>You should have looked at the smiley.</p>
<p>It&#8217;s a joke.</p>
<p>;)</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-723313">
				<div id="div-comment-723313" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Duke of New York</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090403-00/?p=18633#comment-723313">
			April 3, 2009 at 1:42 pm</a>		</div>

		<p>We certainly wouldn&#8217;t want anyone to get angry at Happy Fun Ball&#8230;</p>
<p>There&#8217;s another potential problem with having the drive spin up arbitrarily: People need to be afraid of a spinning floppy drive, so that they don&#8217;t take the disk out in the middle of the operation.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-723333">
				<div id="div-comment-723333" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">asdf</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090403-00/?p=18633#comment-723333">
			April 3, 2009 at 2:01 pm</a>		</div>

		<p>I hate it when the computer does something when I put in any kind of media.</p>
<p>Then again, I&#8217;m a software developer.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-723343">
				<div id="div-comment-723343" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Pierre B.</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090403-00/?p=18633#comment-723343">
			April 3, 2009 at 2:05 pm</a>		</div>

		<p>You could have chosen one of the alternative and stick to it and then sell a Microsoft Certified Floppy logo to the drive manufacturers that comply with your new standard. Microsoft makes money by selling the logo, (some) manufacturers get a nice shiny logo on their box, and users know what to expect (or not).</p>
<p>Not sure if I&#8217;m kidding.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-723353">
				<div id="div-comment-723353" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">John</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090403-00/?p=18633#comment-723353">
			April 3, 2009 at 2:38 pm</a>		</div>

		<p>Pierre: That&#8217;s a dangerous road to travel. &nbsp;Imagine the dismay of a user when they bring home their brand new Windows Capable Floppy Drive, only to discover that their computer is underpowered and can only read single-sided single-density disks. &nbsp;The horror!</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-723383">
				<div id="div-comment-723383" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Rich S.</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090403-00/?p=18633#comment-723383">
			April 3, 2009 at 3:00 pm</a>		</div>

		<p>Do not taunt Happy Fun Ball. . .</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-723393">
				<div id="div-comment-723393" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Killer{R}</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090403-00/?p=18633#comment-723393">
			April 3, 2009 at 3:47 pm</a>		</div>

		<p>But could you just &#8216;active&#8217; both detection mechanisms before user actually insert floppy? And if something &#8216;changed&#8217; (it means drive switched from state &#8216;A&#8217; to state &#8216;B&#8217;) &#8211; this means floppy was inserted. Of cause in this case you must ensure that no floppy inserted during windows boot &#8211; simple by spining it up. But after user inserted (or removed) floppy first time &#8211; it will be not neccessary anymore.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-723403">
				<div id="div-comment-723403" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">marc</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090403-00/?p=18633#comment-723403">
			April 3, 2009 at 4:29 pm</a>		</div>

		<p>Do you think that back in 1993 (or whenever this was) the folks who were deciding this thought that in 2009 a group of people would be debating their decision? In between riding our hover-boards of course.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-723413">
				<div id="div-comment-723413" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">GregM</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090403-00/?p=18633#comment-723413">
			April 3, 2009 at 4:45 pm</a>		</div>

		<p>&quot;The downside of waiting until the user uses a floppy for the first time&quot;</p>
<p>I thought that was a good idea as well, because I was also thinking along the lines of &quot;detecting whether there was a floppy in the drive when a request came in&quot; rather than &quot;watching for the insertion of a floppy disk and running something on the disk automatically&quot;.</p>
<p>Another case where asking for a particular behavior can get you the wrong answer if you don&#8217;t specify why you want that particular behavior.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-723423">
				<div id="div-comment-723423" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Alexey Borzenkov</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090403-00/?p=18633#comment-723423">
			April 3, 2009 at 5:02 pm</a>		</div>

		<p>Either you&#8217;re not telling us something, or your engineers overthought this problem. Because really, you can only have mistake once, and then you know for sure. Here&#8217;s how your engineers could make it 100% reliable:</p>
<p>&#8211; (optional) on every boot check the magic response, then spin the drive and check the actual status, so now you have a definite correlation. this is optional, because sooner or later we&#8217;ll know for sure, and might be sooner than you think. it&#8217;s a good thing to do because user might have replaced their floppy drive and already have floppy inserted, which might not be detected right away (see below), but maybe it is not needed.</p>
<p>&#8211; periodically check the magic response (how often did you plan to check on it, once every second or something like that?), acting with accordance to the correlation that system has internally, and if it determines that floppy is inserted, spin the drive (you&#8217;ll need to do it anyway, to read the files!). if it turns out that floppy isn&#8217;t there, just change floppy style in the registry. floppy will only spin once, and then we know for sure.</p>
<p>&#8211; now suppose that user changes floppy drive while Windows is still running, and style A changes to style B, or vice versa. If user already has floppy inserted, he can&#8217;t expect autorun to fire right away (after all, user didn&#8217;t insert it, it was already there). And we have two situations.</p>
<p>&#8211; either floppy isn&#8217;t there and we detect it in a second or so if we&#8217;re wrong.</p>
<p>&#8211; or floppy is there and we don&#8217;t care until user actually accesses the drive (then we know magic response was lying to us), or user removes the floppy and we know for sure right after that!</p>
<p>So I don&#8217;t understand what was the actual problem with your engineers. If it was as deterministic as you described then it should have been as simple as I&#8217;ve just written above, and it would be reliable as hell. Or you&#8217;re not telling as something.</p>
<div class=post>[<i>You think the feature was all written and then pulled at the last minute? Hardly. Somebody discovered a neat feature, tested it up, and then found out that it wasn&#8217;t reliable, so he said to himself, &#8220;Oh well, I guess I won&#8217;t pursue this.&#8221; You have already put far more thought into this problem than the person who discovered the technique in the first place. -Raymond</i>]</div>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-723433">
				<div id="div-comment-723433" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">a-non-e-mouse</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090403-00/?p=18633#comment-723433">
			April 3, 2009 at 5:29 pm</a>		</div>

		<p>looks like this would&#8217;ve been a great way for viruses to spread if floppy had autorun. it was already bad enough back then, this would&#8217;ve fanned the flames.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-723213">
				<div id="div-comment-723213" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">BradC</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090403-00/?p=18633#comment-723213">
			April 3, 2009 at 11:44 am</a>		</div>

		<p>Ah, that makes sense now.</p>
<p>When you introduce a feature, people will come to rely on it, and installation instructions will start to assume it.</p>
<p>So even if it works 95% of the time, that 5% is millions and millions of customers who are having a bad/inconsistent experience.</p>
<p>The only suggestion that I thought made *some* sense was to have a floppy spin-up during Windows startup to compare the &quot;magic value&quot; to the &quot;actually check the floppy drive&quot; answer. Even if there is nothing in the drive, </p>
<p>This fixes the &quot;first-time use&quot; problem, and the &quot;replace the floppy drive with the other type&quot; problem, but adds a new &quot;why does it take so long to boot Windows&quot; problem. And maybe a &quot;why the heck is it checking the floppy disk&quot; problem.</p>
<p>And looking back at a Windows 98 machine I had to use the other day, it booted up FAST compared to my Windows Vista machine!</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-723453">
				<div id="div-comment-723453" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">John Muller</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090403-00/?p=18633#comment-723453">
			April 3, 2009 at 7:27 pm</a>		</div>

		<p>Of the two platform I&#8217;ve used that had auto-run for floppies, both had rampant floppy virus problems.</p>
<p>I&#8217;m surprised there hasn&#8217;t been a huge outbreak of USB-Key viruses yet; but I suppose document macro viruses fill that gap, and work over networks as well.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-723253">
				<div id="div-comment-723253" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">James Schend</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090403-00/?p=18633#comment-723253">
			April 3, 2009 at 12:39 pm</a>		</div>

		<p>Jess Sightler: At least we know why the Amiga failed now. &nbsp;;)</p>
<p>The difference is that Amigas (and Classic Macs) *always* did it since day one, so it was expected and proper. In this case, though, Windows 3.11 didn&#8217;t spin up the floppy, nor did any version of DOS, so it would be completely unexpected, and I could easily see people attributing it to a virus.</p>
<p>I&#8217;m not sure if you&#8217;re just trying to be smug or making a joke&#8211; sorry if the latter.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-723473">
				<div id="div-comment-723473" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Mark</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090403-00/?p=18633#comment-723473">
			April 3, 2009 at 9:21 pm</a>		</div>

		<p>John: because network-provided content is much faster and has far more cracks. &nbsp;Almost anything that will work on a USB key will work on a share, so why make your life hard? &nbsp;It&#8217;s the same reason few viruses target Safari.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-723373">
				<div id="div-comment-723373" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">BCS</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090403-00/?p=18633#comment-723373">
			April 3, 2009 at 2:57 pm</a>		</div>

		<p>I&#8217;d have been happy with the ability to get an &nbsp;*on demand* no-moving-parts answer to &quot;is there a floppy present?&quot;. I&#8217;d have no real use for any automatic reaction to inserting a floppy but the seek time on floppies is so bad that the on-demand option would speed thing up.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-723483">
				<div id="div-comment-723483" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://www.jroller.com/jsight/' rel='external nofollow' class='url'>Jess Sightler</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090403-00/?p=18633#comment-723483">
			April 3, 2009 at 11:24 pm</a>		</div>

		<blockquote><p>
  I&#8217;m not sure if you&#8217;re just trying to be smug or making a joke&#8211; sorry if the latter.
</p></blockquote>
<p>Pretty much just a lame joke. &nbsp;</p>
<p>I get the tradeoffs involved. &nbsp;I don&#8217;t really 100% agree with them, but I totally see why they were made and made sense to them. &nbsp;:)</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-723503">
				<div id="div-comment-723503" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Worf</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090403-00/?p=18633#comment-723503">
			April 4, 2009 at 2:34 am</a>		</div>

		<p>Well, I still want to know the clever solution that caused the last article and its followup!</p>
<p>Sounds clever enough that those who know the spec don&#8217;t know about it, or drives would be of one style already. Do share!</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-723573">
				<div id="div-comment-723573" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://www.xkcd.com' rel='external nofollow' class='url'>Not Randall</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090403-00/?p=18633#comment-723573">
			April 4, 2009 at 6:51 am</a>		</div>

		<p>Any chance of actually posting the algorithm?</p>
<div class=post>[<i>Zero, because I don&#8217;t know what the algorithm is. Even if my colleague had explained it to me at the time (I never asked for the details), I wouldn&#8217;t have understood it anyway. I didn&#8217;t realize there would be a quiz over a decade later. -Raymond</i>]</div>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-723593">
				<div id="div-comment-723593" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">someone else</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090403-00/?p=18633#comment-723593">
			April 4, 2009 at 10:23 am</a>		</div>

		<p>I just remember: That autorun excuse isn&#8217;t as good as it may look. Every installation instruction involving CDs that I remember contained a ‚Äúif setup doesn&#8217;t run automatically‚Äù part.</p>
<div class=post>[<i>But it doesn&#8217;t invalidate the &#8220;unpredictable&#8221; argument. Sometimes floppy insertion detection works, sometimes it doesn&#8217;t, I have no idea what the difference is. I will never understand computers.&nbsp;-Raymond</i>]</div>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-723603">
				<div id="div-comment-723603" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://a.coward@slashdot.org' rel='external nofollow' class='url'>Anonymous Coward</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090403-00/?p=18633#comment-723603">
			April 4, 2009 at 12:19 pm</a>		</div>

		<p>That doesn&#8217;t address my solution though, which elegantly solves all the problems mentioned.</p>
<p>As for autorun and virusses, Microsoft still hasn&#8217;t got that quite under control. Never mind the Sony scandal, consider the following&#8230; By default, Windows disables autorun on ‚Äòeditable‚Äô media like diskettes and usb-drives. However, it turns out that there is a brand of usb-drives that present themselves to the operating system as two separate usb-devices (it behaves a bit like a kind of virtual hub), namely a cd-rom and a usb-drive. Windows enables autorun for the virtual cd-rom because it is read-only and it will autorun a program that searches for the usb-drive and execute whatever is on it.</p>
<p>Is autorun for floppy disks a good idea? Maybe not, but having the Explorer window for the drive open, and only updating the file listing if the diskette was swapped for another would have been nice time savers.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-leo-davidson odd alt thread-odd thread-alt depth-1" id="comment-723623">
				<div id="div-comment-723623" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Leo+Davidson' rel='external nofollow' class='url'>Leo Davidson</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090403-00/?p=18633#comment-723623">
			April 4, 2009 at 12:49 pm</a>		</div>

		<p>&#8220;and only updating the file listing if the diskette was swapped for another would have been nice time savers&#8221;</p>
<p>It&#8217;d also be nice to update the icon &amp; label automatically.</p>
<p>Even better, file managers which hide empty devices could hide floppies as well (without causing an Amiga-like &#8220;click&#8221; by polling the drive). That&#8217;s become a great feature in these days of 924982-in-1 memory card readers that add four drive letters each, all of which are almost always empty and needlessly clutter up the list of drives.</p>
<p>It ain&#8217;t the end of the world, and floppies are on their way out (but still vital for running a few stupid BIOS/firmware tools) but it would&#8217;ve been nice all the same.</p>
<p>Definitely no autorun, of course, but that&#8217;s not the only reason for detecting a media change.</p>
<p>I think it&#8217;s clear that autorun on CDs was a mistake in hindsight. (To be fair to the designers at the time, writeable CDs were not a consumer technology back then.)</p>
<div class=post>[<i>Everybody seems to assume that, in 1995, a floppy drive light turning on of its own volition would not freak out users. How soon we forget Jerusalem and Michaelangelo. And how many of you would have gone in and turned off this idiotic feature? I remember all of you guys who went in and disabled CD autodetection because it too was an idiotic feature. (And what if the feature stops working &#8211; e.g. your drive sensor is broken. Now you&#8217;re stuck with a floppy drive that would have worked <u>if only Windows&nbsp;hadn&#8217;t outsmarted itself</u>. Sometimes dumber is smarter.) People already complain about CDs that spin up randomly. And you&#8217;re suggesting that we should have added floppies to the list? -Raymond</i>]</div>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-723633">
				<div id="div-comment-723633" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">jz</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090403-00/?p=18633#comment-723633">
			April 4, 2009 at 1:54 pm</a>		</div>

		<p>Getting usb flash media to show up as a cdrom drive is easy, just write an iso9660 filesystem to it.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-723783">
				<div id="div-comment-723783" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://plastbox.org' rel='external nofollow' class='url'>Kim Helberg</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090403-00/?p=18633#comment-723783">
			April 4, 2009 at 8:02 pm</a>		</div>

		<p>I completely agree that if the problem was as simple as you stated (some drives reporting true on &quot;no disk&quot; and some reporting false) then this feature should without a smidgeon of doubt have been implemented!</p>
<p>Not for auto-run. For detecting if there is a disk in there without the buzzing and scraping and the several second wait.</p>
<p>The first time the user opens &quot;My Computer&quot; or whatever, the disk is read using the spin-up method and the correct true/false values for the other, fancy way of checking are stored in a temporary value that gets reset when the machine is shut down or rebooted.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-leo-davidson even thread-even depth-1" id="comment-723693">
				<div id="div-comment-723693" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Leo+Davidson' rel='external nofollow' class='url'>Leo Davidson</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090403-00/?p=18633#comment-723693">
			April 4, 2009 at 4:25 pm</a>		</div>

		<p>[Everybody seems to assume that, in 1995, a floppy drive light turning on of its own volition would not freak out users&#8230;]</p>
<p>The Amiga did that and it didn&#8217;t freak anyone out. You put a disk in and it spun up for a moment to read the icon and label. It was fine and people only freaked out when it *didn&#8217;t* happen.</p>
<p>Given that in Windows the opposite decisions were applied to CD-ROMs I find it hard to believe that the decision not to detect floppies was made because it seemed like a bad idea. If the idea seemed bad then it would not have been applied to CD-ROMs.</p>
<p>If it wasn&#8217;t done because it seemed too difficult to do reliably then that&#8217;s fair enough.</p>
<p>&quot;And how many of you would have gone in and turned off this idiotic feature?&quot;</p>
<p>I can&#8217;t speak for anyone else, but I would not have.</p>
<p>&quot;I remember all of you guys who went in and disabled CD autodetection because it too was an idiotic feature.&quot;</p>
<p>I don&#8217;t know anyone who disabled that on purpose. I know plenty of people who disabled it by accident when they only meant to turn off autoplay, but in those cases they&#8217;ve then been seen asking on forums why the OS no longer updates the icon and label for their CD-ROMs when the media changes. i.e. They clearly did want autodetection, they just didn&#8217;t want an exe to be run automatically. Seems fair enough to me, and nobody is arguing for autoplay on floppies.</p>
<p>Also, people&#8217;s complaints about CDs spinning up randomly are not a reason to avoid detectig CDs (or floppies). They&#8217;re a reason to make the OS cache that data better and/or proactively. If the OS knows the media hasn&#8217;t changed then it should be able to retrieve a cached icon and directory listing for it but, it seems, sometimes it can&#8217;t.</p>
<p>I suspect a large part of the complaints were also due to how CD access on earlier versions of Windows would cripple the machine&#8217;s overall performance. But if that&#8217;s a problem for floppies then it&#8217;s definitely a problem for CD-ROMs, yet CD-ROMs got the feature and floppies didn&#8217;t.</p>
<p>&quot;And what if the feature stops working &#8211; e.g. your drive sensor is broken.&quot;</p>
<p>The same thing that happens with a CD-ROM if the sensor stops working. You might be able to work around the issue (e.g. by hitting F5) or you might have to replace the drive like any other faulty piece of hardware.</p>
<p>Or do you mean that that sensor, not being part of the spec, may have been prone to behaving unexpectedly? That I can buy, but it didn&#8217;t seem to be what you were saying. (It seemed more like someone arguing against the introduction of the mouse because the optical sensors might break.)</p>
<p>As I say, I can totally accept that, given the range of hardware implementations, making the detection reliable may have been (or at least seemed to be) too difficult. If that&#8217;s why it wasn&#8217;t done then I&#8217;m fine with that. I don&#8217;t really buy the other arguments, though. They contradict the choices made by the same people at the same time regarding CD-ROMs. Some of them seem to be based on retrospective issues/complaints which nobody knew about at the time. It seems like a bunch of issues were invented/selected now to back up a choice that was made a long time ago for different reasons.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-723853">
				<div id="div-comment-723853" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Dave</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090403-00/?p=18633#comment-723853">
			April 5, 2009 at 3:34 am</a>		</div>

		<blockquote><p>
  Why is there no detect-drives-besides-floppy-in-Windows-NT-5.x-setup-when-</p>
<p>  I-want-to-install-that-freakin-SATA-driver feature?
</p></blockquote>
<p>You need this: <a rel="nofollow" target="_new" href="http://www.nliteos.com/" rel="nofollow">http://www.nliteos.com/</a>. &nbsp;Fantastic piece of software (if not the most user-friendly), you can slipstream SATA drivers as well as turning off a vast amount of crap that XP installs by default which you never need. &nbsp;I was pleasantly surprised after my last install as I started to go through my usual half-day-long post-install cleanup to find that most of the cleanup wasn&#8217;t actually necessary any more because nLite had prevented most of it from being installed in the first place.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-723873">
				<div id="div-comment-723873" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Dave</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090403-00/?p=18633#comment-723873">
			April 5, 2009 at 3:50 am</a>		</div>

		<blockquote><p>
  Any chance of actually posting the algorithm?
</p></blockquote>
<p>It wasn&#8217;t really an &quot;algorithm&quot;, it was related to the use of the WDC765 SENSE DRIVE STATUS command (which meant it was also tied to the use of a &#8216;765-compatible controller, although luckily most were). &nbsp;There were certain status bits that would work for a disk-presence check in the ST2 or ST3 result register even though they weren&#8217;t specifically designed for this, which is why there was some ambiguity over their interpretation/use.</p>
<p>Disclaimer: This was a long time ago and I&#8217;ve managed to repress most of it, so treat the above with a certain amount of scepticism.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-723913">
				<div id="div-comment-723913" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Bla</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090403-00/?p=18633#comment-723913">
			April 5, 2009 at 8:46 am</a>		</div>

		<p>Article doesn&#8217;t actually explain what pieces of hardware are responsible for the detection ?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-723923">
				<div id="div-comment-723923" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">jon</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090403-00/?p=18633#comment-723923">
			April 5, 2009 at 8:57 am</a>		</div>

		<p>&quot;Everybody seems to assume that, in 1995, a floppy drive light turning on of its own volition would not freak out users.&quot;</p>
<p>It wouldn&#8217;t have freaked users out if it was standard behaviour for floppies. The Amiga had auto-detection of floppies since 1986 and I don&#8217;t remember ever being freaked out by that. I also remember thinking how primitive Windows was when I discovered it didn&#8217;t have the same basic ability.</p>
<p>&quot;I remember all of you guys who went in and disabled CD autodetection because it too was an idiotic feature&quot;</p>
<p>No, I think you&#8217;ll find it&#8217;s Auto-Play that was the idiotic feature, and in fact still is&#8230;</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-723943">
				<div id="div-comment-723943" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Tanveer Badar</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090403-00/?p=18633#comment-723943">
			April 5, 2009 at 9:19 am</a>		</div>

		<p>It is amusing to see such a hot discussion about a feature which is out of business for 5-8 years now. Floppies belong to museums, let them be there and don&#8217;t reopen their graves.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-723843">
				<div id="div-comment-723843" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Nick</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090403-00/?p=18633#comment-723843">
			April 5, 2009 at 3:25 am</a>		</div>

		<p>@Leo</p>
<p>You wrote:</p>
<p>&quot;[Everybody seems to assume that, in 1995, a floppy drive light turning on of its own volition would not freak out users&#8230;]</p>
<p>The Amiga did that and it didn&#8217;t freak anyone out. You put a disk in and it spun up for a moment to read the icon and label. It was fine and people only freaked out when it *didn&#8217;t* happen.&quot;</p>
<p>You need to look up the word &quot;volition&quot; in a dictionary. &nbsp;Putting a disk into the computer and then having the computer react is *not* what Raymond is describing.</p>
<p>You also wrote:</p>
<p>&quot;They contradict the choices made by the same people at the same time regarding CD-ROMs.&quot;</p>
<p>Really? &nbsp;That is a big assumption. &nbsp;What thing I have learned from years of reading this blog is that Microsoft is a *big* place and Raymond and his colleagues are *not* responsible for *all* the design decisions. &nbsp;Chances are that the person who worked on this algorithm for floppy detection had nothing do with the handling of CD-ROMs, which also probably had nothing to do with the handling of floppys.</p>
<p>@Everyone</p>
<p>To all those people who reply with a &quot;so-called&quot; solution: clearly you must younger than 18-years old. &nbsp;Or, you don&#8217;t have long-term memory. &nbsp;There is no discussion here. &nbsp;The fact of the matter is this: 1) the hardware of floppy drives was anything but standardized and consistent so no algorithm could ever be 100%, 2) somebody at Microsoft decided that having the computer do things to the floppy drive *without* cause by the user (see <a rel="nofollow" target="_new" href="http://www.merriam-webster.com/dictionary/volition" rel="nofollow">http://www.merriam-webster.com/dictionary/volition</a>) would not make for a good user experience, 3) point #2 has nothing to do with the fact that perhaps someone *else* decided differently about CD-ROMS.</p>
<p>It never ceases to amaze me how people love flexing their muscle. &nbsp;But you know what, if they truly had a crack at it they would have found that it couldn&#8217;t be done to a certain level of satisifaction. &nbsp;Don&#8217;t reply with non-sense about what what Linux or other systems do *today*. &nbsp;We are talking about the early 90&#8217;s.</p>
<p>Seriously now. &nbsp;CSS and HTML are standards and browsers had quite a few releases to get them right. &nbsp;To this day I still have to wrestle to get a consistent look across the major browsers. &nbsp;You people really believe you could have done better back in the day of non-standard OEM junk for the IBM PC (the platform of non-sophisticated off-the-shelf parts)? &nbsp;Arrogance and ignorance, pure and simple.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-723863">
				<div id="div-comment-723863" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Dog</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090403-00/?p=18633#comment-723863">
			April 5, 2009 at 3:47 am</a>		</div>

		<p>Since there is one sure-fire way of knowing weather there is a disc in the drive or not (attempting to read from it, the way that PC applications have been testing for disc-presence since the XT) whats wrong with the following solution:</p>
<p>1) During boot (or initialization in the case of hot-swappable drives), run the &quot;test&quot;.</p>
<p>2) Regardless of the outcome of this test, attempt to read from the disc. Note weather it succeeded or not.</p>
<p>3) You have now &quot;calibrated&quot; the test and may use it from now on.</p>
<p>4) For added certainty, re-run this calibration occasionally when an application attempts floppy I/O.</p>
<p>Since this is during boot or HW initialization, the added &quot;click&quot; that the drive might make is not going to worry anybody (since it probably clicks several times under these circumstances anyway).</p>
<p>Since you are not storing the result, changing the drive (cold-swapping) won&#8217;t matter.</p>
<p>Due to the similicity of this proposed solution, I suspect (not in a conspiracy-implying way), that there are further complications that Raymond did not feel relevant, such a drive type &quot;B1&quot; that &quot;clicks&quot; when the &quot;test&quot; is run, or type &quot;A6&quot;, commonly used in laptops, that interprets the test as a request to keep the drive spinning if a disc is present.</p>
<p>(Note that those are hypothetical drives, I am not a floppy drive expert. I can&#8217;t believe I had to type that.)</p>
<p>Secondly, the user-expectation issue could be solved the same way that it was for CD autorun. Virtually all* CD-ROM (and DVD-ROM), instructions say something to the effect of &quot;Insert the disc and it should autorun, but if it does not &#8230;&quot;</p>
<p>(* in my experience, YMMV)</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-723983">
				<div id="div-comment-723983" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Ulric</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090403-00/?p=18633#comment-723983">
			April 5, 2009 at 10:58 am</a>		</div>

		<p>Actually, in response to all the comments that say they should have done this, Windows scanning the floppy drives or CD-ROM drivers on boot is really, really annoying and slows down booting Windows for several seconds for a feature that would be totally useless.</p>
<p>The BIOS boot already scanned the floppies on boot &#8212; we&#8217;re all thankful they stopped doing that &#8212; now Windows would have scanned then a second time, to satisfy some nerd that really wants his almost-coded feature in?</p>
<p>p.s.: no one really cares about what the Amiga did, hardly anyone had them compared to PCs. &nbsp;It was a nerds-only device. &nbsp;And optimizing floppy workflow isn&#8217;t exactly forward-looking, now is it?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-724003">
				<div id="div-comment-724003" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://boiert.eu' rel='external nofollow' class='url'>Bart</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090403-00/?p=18633#comment-724003">
			April 5, 2009 at 12:10 pm</a>		</div>

		<p>On first boot / new drive detection (PnP):</p>
<p>Step 1: spin up the drive</p>
<p>Step 2: check drive for floppy</p>
<p>Step 3: run magic code</p>
<p>Processing:</p>
<p>If at step 2 a floppy was present, and step 3 returned a 1, register type A</p>
<p>If at step 2 a floppy was present, and step 3 returned a 0, register type B</p>
<p>If at step 2 no floppy was present, and step 3 returned a 0, register type A</p>
<p>If at step 2 no floppy was present, and step 3 returned a 1, register type B</p>
<p>Requires no user interaction, can be run at any time.</p>
<p>Please integrate in Windows 7 and back port to Windows 2000 &#8211; Vista :)</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-724023">
				<div id="div-comment-724023" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">porter</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090403-00/?p=18633#comment-724023">
			April 5, 2009 at 12:57 pm</a>		</div>

		<blockquote><p>
  &gt; p.s.: no one really cares about what the Amiga did, hardly anyone had them compared to PCs.
</p></blockquote>
<p>Agreed, if you have a broken model of user interaction it is important to ignore other systems that have elegant solutions. It lets you claim there is no solution without appearing contradictory.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-724053">
				<div id="div-comment-724053" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Jeremy</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090403-00/?p=18633#comment-724053">
			April 5, 2009 at 1:35 pm</a>		</div>

		<p>I honestly do not understand why people are so worked up about this! &nbsp;I mean, Raymond posts about some cool technical topic, and there are like 10 responses. &nbsp;But post about a floppy drive issue from 15 years ago and it spans two posts with almost 200 comments! &nbsp;Come on people!</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-724063">
				<div id="div-comment-724063" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">kristof</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090403-00/?p=18633#comment-724063">
			April 5, 2009 at 1:50 pm</a>		</div>

		<p>Personally I would have tossed the feature as soon as someone came to me with the words &quot;not in the hardware spec&quot; and &quot;doesn&#8217;t work the same on all devices&quot;.</p>
<p>Imagine if this didn&#8217;t work for 0.1% of the floppy drives out there (or potentially ones that were manufactured in the future), the results would be catastrophic&#8230; not being able to access your floppy drive in those days would be a huge deal.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-724073">
				<div id="div-comment-724073" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">porter</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090403-00/?p=18633#comment-724073">
			April 5, 2009 at 1:53 pm</a>		</div>

		<blockquote><p>
  &gt; People need to be afraid of a spinning floppy drive
</p></blockquote>
<p>That&#8217;s an interesting way of making computers user friendly.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-724093">
				<div id="div-comment-724093" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Anonymous</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090403-00/?p=18633#comment-724093">
			April 5, 2009 at 2:49 pm</a>		</div>

		<p>I&#8217;m digging this blog. &nbsp;Brings back a lot of memories, good and bad, about how bad the good old days were&#8230;</p>
<p>Suggestion for a future article:</p>
<p><a rel="nofollow" target="_new" href="http://www.annoyances.org/exec/show/article07-039" rel="nofollow">http://www.annoyances.org/exec/show/article07-039</a></p>
<p>I remember losing an annoyingly copy-protected DOS floppy to this 9x &quot;feature&quot;. &nbsp;And while I understand that for the majority of cases, it was a win to automagically &quot;upgrade&quot; a DOS-style floppy to one capable of supporting long filenames, I was pretty annoye~1.txt when I got bit by the bug :)</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-724103">
				<div id="div-comment-724103" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Killer{R}</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090403-00/?p=18633#comment-724103">
			April 5, 2009 at 3:25 pm</a>		</div>

		<p>..just to contunie flame :)</p>
<ol>
<li>booting up OS</li>
<li>
<p>reading &#8216;floppy-state&#8217; code. No matter, if it is &#8216;A&#8217; or &#8216;B&#8217;, let store it as &#8216;X&#8217;.</p>
</li>
<li>
<p>checking this status every .. sec for autoplay feature. If &#8216;X&#8217; changed to something else (let it be &#8216;Y&#8217;), then something happened. Spin up drive, check if disk is there:</p>
</li>
</ol>
<p>If <em>yes</em> &#8211; then we should start autoplay, and remember &nbsp;that &#8216;Y&#8217; &#8211; means disk inserted, &#8216;X&#8217; &#8211; no disk.</p>
<p>If <em>no</em> &#8211; remember &#8216;X&#8217; &#8211; means disk was there, but &#8216;Y&#8217; &#8211; disk removed.</p>
<p>Then we can know next time whether disk was inserted or removed.</p>
<p>The only &#8216;negative&#8217; side effect for user experience &#8211; one time floppy spin up when he/she removed disk from there (if it was inserted before system boot). I think this is not problem.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-leo-davidson even thread-even depth-1" id="comment-723933">
				<div id="div-comment-723933" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Leo+Davidson' rel='external nofollow' class='url'>Leo Davidson</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090403-00/?p=18633#comment-723933">
			April 5, 2009 at 9:10 am</a>		</div>

		<p>@Nick:</p>
<p>&quot;You need to look up the word &quot;volition&quot; in a dictionary. &nbsp;Putting a disk into the computer and then having the computer react is *not* what Raymond is describing.&quot;</p>
<p>Erm, it seems like it is to me. Why else would you want the computer to detect a disk insertion if not to do something as a result of it?</p>
<p>&quot;Chances are that the person who worked on this algorithm for floppy detection had nothing do with the handling of CD-ROMs, which also probably had nothing to do with the handling of floppys.&quot;</p>
<p>Maybe, if you only think about the low-level algorithm.</p>
<p>If you think about the high-level features of the OS I cannot believe that the entire Windows team would have failed to notice the disconnect between how two different removable media types were handled and never even considered or desired to give some of the CD-ROM features to floppies, if only the hardware made it possible.</p>
<p>So maybe it was the case that the people who may have wanted the feature did not know it was possible, and the person who discovered that it might be possible did not realise the discovery was worth investigating further.</p>
<p>That doesn&#8217;t make it a valid argument that &quot;people now think autorun/autoplay sucks on CD-ROMs so it made sense that it wasn&#8217;t implemented for floppies in the early 1990s.&quot;</p>
<p>It also doesn&#8217;t invalidate the argument that it would have been nice if Windows had floppy media detection like the Amiga had it.</p>
<p>I also have to ask, why was this feature even being investigated by one person if there was no desire to use it for something?</p>
<p>As I&#8217;ve said already, I have no problem with the explanation that people felt that making it work reliably given the range of hardware was too difficult to justify the benefit. I also have no problem with the explanation that the people who wanted the feature didn&#8217;t realise it was possible.</p>
<p>What I have a problem with is explanations that say &quot;nobody wanted the feature&quot; and seem to be based on things that are not true or &nbsp;which were not known at the time.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-724113">
				<div id="div-comment-724113" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://stuartaxon.com' rel='external nofollow' class='url'>Stu</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090403-00/?p=18633#comment-724113">
			April 5, 2009 at 4:12 pm</a>		</div>

		<p>/me hopes somebody writes a custom driver that can do this :)</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-724123">
				<div id="div-comment-724123" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">ulric</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090403-00/?p=18633#comment-724123">
			April 5, 2009 at 4:30 pm</a>		</div>

		<blockquote><p>
  Windows is multitasking OS, so it could perfom</p>
<p>  this check in background, without delaying</p>
<p>  whole system boot
</p></blockquote>
<p>The way I remember it, Windows completely froze when it did anything with a floppy disk and CD Rom. Perhaps something related to interrupts.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-724133">
				<div id="div-comment-724133" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">someone else</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090403-00/?p=18633#comment-724133">
			April 5, 2009 at 5:15 pm</a>		</div>

		<p>‚ÄúThe way I remember it, Windows completely froze when it did anything with a floppy disk and CD Rom. Perhaps something related to interrupts.‚Äù</p>
<p>At least for CDs, I suspect this had something to do with the CD drive blocking the ATA channel which was simultaneously trying to access the HDD (probably for swapping).</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-723993">
				<div id="div-comment-723993" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Killer{R}</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090403-00/?p=18633#comment-723993">
			April 5, 2009 at 11:12 am</a>		</div>

		<p>/*Actually, in response to all the comments that say they should have done this, Windows scanning the floppy drives or CD-ROM drivers on boot is really, really annoying and slows down booting Windows for several seconds for a feature that would be totally useless.*/</p>
<p>Windows is multitasking OS, so it could perfom this check in background, without delaying whole system boot. And this might be neccessary only until user insert/remove floppy 1st time.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-leo-davidson odd alt thread-odd thread-alt depth-1" id="comment-724143">
				<div id="div-comment-724143" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Leo+Davidson' rel='external nofollow' class='url'>Leo Davidson</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090403-00/?p=18633#comment-724143">
			April 5, 2009 at 6:57 pm</a>		</div>

		<p>@Nick,</p>
<p>&#8220;What &#8230; does &#8230; your &#8230; uber &#8230; solution &#8230; do &#8230; when &#8230; the &#8230; user &#8230; changes &#8230; the &#8230; floppy &#8230; drive?&#8221;</p>
<p>I guess you haven&#8217;t been reading all of the comments since several people suggested the blindingly obvious solution.</p>
<p>It doesn&#8217;t matter if the drive is type A or type B. You just poll the value and check for a disk when the value changes. That works for both types of drive.</p>
<p>&#8220;Amiga and Apple do have an elegant solution. &nbsp;But they had the advantage of building both the hardware and software.&#8221;</p>
<p>Wrong. Commodore/Amiga did not control the drive hardware. There was a range of different drives in the machines themselves and it was very common for people to add third-party drives which CBM had no control over.</p>
<p>In fact, the reason the Amiga clicked by default was that it stepped between tracks 0 and 1 to trigger the disk check. It was originally going to stay on track 0 and request the drive go to track -1 to trigger the check, and that&#8217;s what all of the &#8220;NoClick&#8221; utils on the Amiga did.</p>
<p>However, it turned out that some drive hardware didn&#8217;t protect against moving the head to track -1 and slammed it into the side of the drive instead, making an even louder noise and damaging the alignment. So they had to use a method which worked with all drive types instead.</p>
<p>The method Raymond described seems like it could have been used to do silent disk detection as well, assuming the method for reading the boolean wasn&#8217;t the same one the Amiga used. If it was the same then it&#8217;d have to click to avoid hardware compatibility problems, and that is something I can understand Microsoft not wanting to add to the OS. The clicking was annoying and I imagine anyone unlucky enough to have a drive that didn&#8217;t work with &#8220;noclick&#8221; would&#8217;ve replaced the hardware rather than put up with it. :)</p>
<div class=post>[<i>Since the behavior was theoretically unspecified, there could in principle be a perfectly legitimate Style&nbsp;C drive which returned random values. None were found in practice, but such a drive was still legal. (Maybe it acted like a Style&nbsp;A drive if the most recent floppy was write-protected, but like a Style&nbsp;B drive if it was write-enabled.) Dunno if anybody&#8217;s &#8220;obvious solutions&#8221; took that into account. I find it interesting that everybody is suggesting that Microsoft should have relied on undocumented behavior. -Raymond</i>]</div>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-724013">
				<div id="div-comment-724013" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">someone else</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090403-00/?p=18633#comment-724013">
			April 5, 2009 at 12:16 pm</a>		</div>

		<p>&gt;You need this: <a rel="nofollow" target="_new" href="http://www.nliteos.com/" rel="nofollow">http://www.nliteos.com/</a>.</p>
<p>Yes, I know. Wouldn&#8217;t have been able to install my system without. Still, we are talking about systems which have *built-in* USB support, and, more importantly, came around when floppy drives rapidly fell out of fashion (thanks to USB).</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-724033">
				<div id="div-comment-724033" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Nick</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090403-00/?p=18633#comment-724033">
			April 5, 2009 at 1:04 pm</a>		</div>

		<p>Wow, some of you know-it-alls are still failing to separate the year 2009 from the year 1995. &nbsp;Your average floppy drive was *not* PnP. &nbsp;Hell, even PnP hardware wasn&#8217;t as good then as it is today.</p>
<p>I don&#8217;t know how else to spell this out since Raymond cannot do this (and I think he is an excellent writer). &nbsp;What &#8230; does &#8230; your &#8230; uber &#8230; solution &#8230; do &#8230; when &#8230; the &#8230; user &#8230; changes &#8230; the &#8230; floppy &#8230; drive? &nbsp;Do you now run your uber solution at every boot up? &nbsp;Are you comfortable with that? &nbsp;Aren&#8217;t you one of those people who bitch about boot up times because the OS is doing too many things?</p>
<p>I also remember my 386 computer. &nbsp;A disk drive without a disk inserted did make a rather disturbing noise. &nbsp;Sure, this is not a problem for us nerds, but I can understand Raymond&#8217;s argument that this could have caused concern in anyone else. &nbsp;And now you want to cause this noise to happen *twice*? &nbsp;Once from the BIOS and twice from the uber solution used during OS boot?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-724043">
				<div id="div-comment-724043" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Nick</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090403-00/?p=18633#comment-724043">
			April 5, 2009 at 1:17 pm</a>		</div>

		<p>@porter</p>
<p>In reponse to someone else&#8217;s comment you wrote:</p>
<p>&quot;if you have a broken model of user interaction it is important to ignore other systems that have elegant solutions&quot;</p>
<p>OK, fair point. &nbsp;I would say that the argument of &quot;PCs were the marjority, Amiga/Mac were the minority&quot; is a bad argument. &nbsp;Let&#8217;s look at this from another perspective.</p>
<p>Amiga and Apple do have an elegant solution. &nbsp;But they had the advantage of building both the hardware and software. &nbsp;Microsoft cannot be blamed, or at least blamed entirely, because Microsoft builds software (putting mice aside for the moment). &nbsp;They had *no* control over hardware. &nbsp;Even IBM had no control over quality, and they created the IBM-PC, which was very different for IBM because they chose to use off-the-self parts instead of building it themselves (you really think Intel chips were designed for general purpose personal computers? &nbsp;Ha, then you really don&#8217;t know your computing history).</p>
<p>What is my point? &nbsp;Point is that you can&#8217;t really say &quot;Hey, Amiga and Apple figured it out. &nbsp;Microsoft should have figured it out too&quot; because it is comparing apples to oranges.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-724173">
				<div id="div-comment-724173" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://www.levicki.net/' rel='external nofollow' class='url'>Igor Levicki</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090403-00/?p=18633#comment-724173">
			April 5, 2009 at 10:57 pm</a>		</div>

		<p>BIOS had a feature called &quot;Bootup Floppy Seek&quot; which was on by default and freaked everyone (who wasn&#8217;t a geek) out.</p>
<p>It would have been more usefull if Microsoft asked BIOS manufacturers to include a floppy type flag at some standard location in CMOS RAM so that any OS can determine whether installed floppy was type A or type B.</p>
<p>But no, that would be too much brains to ask for from everyone involved as usual.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-724193">
				<div id="div-comment-724193" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">bramster</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090403-00/?p=18633#comment-724193">
			April 5, 2009 at 11:43 pm</a>		</div>

		<p>OK. &nbsp;Here goes.</p>
<p>Having been away for a few weeks, and having done a (very) cursory scan of the &nbsp;comments on this topic. . . &nbsp;</p>
<p>Despite having paid Mick Jagger and Keith Richards a large chunk of cash, Microsoft&#8217;s implementation of Windows 95 was NOT repeat NOT an operating system. &nbsp; Windows 95 was a graphical interface laid on top of a disabled version of DOS.</p>
<p>As for the folks who had anything to do with Windows 95, 98, and ME, I day, &quot;may their children have warts, and walk backwards&quot;. &nbsp;</p>
<p>Windows 2000, restoring the functionality of DOS 6.22, with &quot;append&quot;, and W2K&#8217;s successor, XP, has kept me in the fold.</p>
<p>Vista? &nbsp;Windows 7? &nbsp;</p>
<p>Raymond, et al, you&#8217;re just offering me shorter versions of the cane I&#8217;m walking with.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-724203">
				<div id="div-comment-724203" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">John K.</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090403-00/?p=18633#comment-724203">
			April 5, 2009 at 11:52 pm</a>		</div>

		<p>The real problem is that Dad shouldn&#8217;t be getting Junior &quot;Happy Fun Ball&quot; &#8211; what Junior really wants is Log from Blammo!.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-724213">
				<div id="div-comment-724213" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Nick</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090403-00/?p=18633#comment-724213">
			April 6, 2009 at 1:29 am</a>		</div>

		<p>Oh, I&#8217;ve been reading the comments. &nbsp;But, nobody has read what Raymond has written, because they would have read that polling the drive comes at a price.</p>
<p>Nevermind, I give up. &nbsp;You people win, you are all the world&#8217;s smartest programmers and Microsoft clearly only hired idiots to write software.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-724153">
				<div id="div-comment-724153" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Jolyon Smith</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090403-00/?p=18633#comment-724153">
			April 5, 2009 at 10:01 pm</a>		</div>

		<p>&quot;Nobody wants floppy drives to spin up as soon as a disk is inserted&quot;</p>
<p>I doubt that this is true except as the hyperbolic generalisation (where &quot;Nobody&quot; = &quot;only a very very few people&quot;).</p>
<p>But this is a conflation of two separate concerns.</p>
<p>WHen I attach a USB drive to my machine I do not want it to &quot;auto-play&quot;, but I *DO* want it to show up in my list of drives and I want it to NOT show up when I unplug it.</p>
<p>With a floppy the same logic should apply.</p>
<p>Just because I insert a floppy may/may not mean I want it to spin up and do anything. &nbsp;But it would be an improvement worth having if the &quot;A:&quot; drive only showed up in explorer when there was actually a disk in that drive.</p>
<p>And all those times when an application stops and asks me to insert a disk AND then press a goddam button to let the app know that I have done so (or then again maybe I haven&#8217;t and just clicked OK by mistake, only to have to wait for the stupid machine to realise MY mistake) would be reduced to simply having to insert the disk, as I was asked to.</p>
<p>But that was then.</p>
<p>In the here and now, floppies aren&#8217;t used enough to warrant it.</p>
<p>But THEN&#8230;. things were different.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-724223">
				<div id="div-comment-724223" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">someone else</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090403-00/?p=18633#comment-724223">
			April 6, 2009 at 5:31 am</a>		</div>

		<p>@Joylon Smith:</p>
<p>‚ÄúJust because I insert a floppy may/may not mean I want it to spin up and do anything. &nbsp;But it would be an improvement worth having if the &quot;A:&quot; drive only showed up in explorer when there was actually a disk in that drive.‚Äù</p>
<p>You think so? Then you&#8217;d have to explain to granny‚Ñ¢ where her drive A: went, instead of leaving it to the computer (‚Äúplease insert a disk‚Äù).</p>
<p>@bramster:</p>
<p>‚ÄúDespite having paid Mick Jagger and Keith Richards a large chunk of cash, Microsoft&#8217;s implementation of Windows 95 was NOT repeat NOT an operating system. &nbsp; Windows 95 was a graphical interface laid on top of a disabled version of DOS.‚Äù</p>
<p>Ok. Now go back to slashdot.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-724233">
				<div id="div-comment-724233" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Gregory Kong</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090403-00/?p=18633#comment-724233">
			April 6, 2009 at 5:53 am</a>		</div>

		<p>bramster: Ever read Andrew Schulman&#8217;s Unauthorized Windows 95? If not, get yourself a copy and be enthralled, enlightened and educated. If you have, then I must confess to astonishment that you can make those statements with a straight face (or perhaps not, how can I know?)</p>
<p>Win95 and Win98 (even WinME with a bit of work) all had fully functional versions of DOS. And that fact means nothing to whether the Win9x family were real OSes or not, because all they used DOS for was a bootloader.</p>
<p>I gotta tell you, when I read some of the stuff Microsoft managed to pull off even with Win3.x + Win32s, it boggles my mind. Absolute brilliance. As for floppy detect? Eh, not something high on my list of priorities, even at the height of their popularity.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-724253">
				<div id="div-comment-724253" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Dave</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090403-00/?p=18633#comment-724253">
			April 6, 2009 at 7:21 am</a>		</div>

		<blockquote><p>
  &gt; p.s.: no one really cares about what the Amiga did, hardly anyone had</p>
<p>  &gt;them compared to PCs.
</p></blockquote>
<p>></p>
<blockquote><p>
  Agreed, if you have a broken model of user interaction it is</p>
<p>  important to ignore other systems that have elegant solutions.</p>
<p>  It lets you claim there is no solution without appearing</p>
<p>  contradictory.
</p></blockquote>
<p>Oh man, Amigahole-baiting, it&#8217;s been years since I had a chance to do this&#8230;</p>
<p>Actually I&#8217;ve avoid turning Raymond&#8217;s blog into a late-80s flamewar (although it&#8217;d be so much fun) and restrict myself to commenting that except for the software (Tripos, a partly-completed undergraduate student project) and Commodore&#8217;s handling of the hardware it wasn&#8217;t a bad machine.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-724263">
				<div id="div-comment-724263" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Dave</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090403-00/?p=18633#comment-724263">
			April 6, 2009 at 7:24 am</a>		</div>

		<blockquote><p>
  I honestly do not understand why people are so worked up about this! &nbsp;</p>
<p>  I mean, Raymond posts about some cool technical topic, and there are like</p>
<p>  10 responses. &nbsp;But post about a floppy drive issue from 15 years ago</p>
<p>  and it spans two posts with almost 200 comments! &nbsp;Come on people!
</p></blockquote>
<p>It made Slashdot, at which point the rest is a foregone conclusion. &nbsp;I mean, how many Amiga users do you think normally read this blog?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-724273">
				<div id="div-comment-724273" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Dave</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090403-00/?p=18633#comment-724273">
			April 6, 2009 at 7:27 am</a>		</div>

		<blockquote><p>
  It doesn&#8217;t matter if the drive is type A or type B. You just poll</p>
<p>  the value and check for a disk when the value changes. That works for</p>
<p>  both types of drive.
</p></blockquote>
<p>Ahh, level-triggered interrupts. &nbsp;Yup, that&#8217;ll fly.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-724283">
				<div id="div-comment-724283" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://meandmycode.com' rel='external nofollow' class='url'>Stephen</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090403-00/?p=18633#comment-724283">
			April 6, 2009 at 10:06 am</a>		</div>

		<p>Seems a shame that you don&#8217;t just check at boot time, most users expect weird checks to happen during boot because most bios&#8217;s delegate boot priority around anyway..</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-724303">
				<div id="div-comment-724303" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">640k</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090403-00/?p=18633#comment-724303">
			April 6, 2009 at 11:31 am</a>		</div>

		<p>There&#8217;s a race-condition between polling the bit and confirming by reading data from the floppy (or the other way around), the user can eject the floppy in the middle of the operation. With floppies so slow this would happen all the time with as many users windows have.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-724313">
				<div id="div-comment-724313" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">too late</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090403-00/?p=18633#comment-724313">
			April 6, 2009 at 11:35 am</a>		</div>

		<p>Why is this info released 2009? NDA recently expired? Maybe the guy who researched this is dead by now and cannot bring a lawsuit?</p>
<div class=post>[<i>You must be new here. -Raymond</i>]</div>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-724333">
				<div id="div-comment-724333" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://levicki.net/' rel='external nofollow' class='url'>Igor Levicki</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090403-00/?p=18633#comment-724333">
			April 6, 2009 at 12:05 pm</a>		</div>

		<blockquote><p>
  &gt;Tripos, a partly-completed undergraduate student project&lt;&lt;
</p></blockquote>
<p>I disagree with this statement and here is what I have to show as a proof that it isn&#8217;t correct:</p>
<p><a rel="nofollow" target="_new" href="http://img105.imageshack.us/gal.php?g=tripos01.jpg" rel="nofollow">http://img105.imageshack.us/gal.php?g=tripos01.jpg</a></p>
<p>If the gallery view doesn&#8217;t work for you check the individual scans:</p>
<p><a rel="nofollow" target="_new" href="http://img105.imageshack.us/img105/1125/tripos01.jpg" rel="nofollow">http://img105.imageshack.us/img105/1125/tripos01.jpg</a></p>
<p><a rel="nofollow" target="_new" href="http://img408.imageshack.us/img408/5352/tripos02.jpg" rel="nofollow">http://img408.imageshack.us/img408/5352/tripos02.jpg</a></p>
<p><a rel="nofollow" target="_new" href="http://img219.imageshack.us/img219/2159/tripos03.jpg" rel="nofollow">http://img219.imageshack.us/img219/2159/tripos03.jpg</a></p>
<p><a rel="nofollow" target="_new" href="http://img219.imageshack.us/img219/6457/tripos04.jpg" rel="nofollow">http://img219.imageshack.us/img219/6457/tripos04.jpg</a></p>
<p>In short, Tripos was in 1978 what Windows and other operating systems still strive to be 31 year later.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-724343">
				<div id="div-comment-724343" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">dm</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090403-00/?p=18633#comment-724343">
			April 6, 2009 at 12:34 pm</a>		</div>

		<p>That Raymond had to write a follow-up article on this topic shows that the dumbest % of readers are the heaviest commenters.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-724383">
				<div id="div-comment-724383" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">bob</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090403-00/?p=18633#comment-724383">
			April 6, 2009 at 2:11 pm</a>		</div>

		<p>&quot;That Raymond had to write a follow-up article on this topic shows that the dumbest % of readers are the heaviest commenters.&quot; &#8212; Seconded.</p>
<p>On a completely unrelated note, i remember it being the super happy fun ball; just plain happy fun ball doesn&#8217;t seem as funny. Or maybe my mind is playing tricks on me.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-724403">
				<div id="div-comment-724403" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">porter</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090403-00/?p=18633#comment-724403">
			April 6, 2009 at 2:50 pm</a>		</div>

		<blockquote><p>
  &gt; the user can eject the floppy in the middle of the operation.
</p></blockquote>
<p>Suddenly drives with no eject button look sensible. Hey, where&#8217;s my straightened paper clip?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-724473">
				<div id="div-comment-724473" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">someone else</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090403-00/?p=18633#comment-724473">
			April 6, 2009 at 6:30 pm</a>		</div>

		<p>‚ÄúSuddenly drives with no eject button look sensible. Hey, where&#8217;s my straightened paper clip?‚Äù</p>
<p>Right next to the time machine.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-724573">
				<div id="div-comment-724573" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Neil</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090403-00/?p=18633#comment-724573">
			April 7, 2009 at 10:40 am</a>		</div>

		<blockquote><p>
  I mean, how many Amiga users do you think normally read this blog?
</p></blockquote>
<p>Both of them.</p>
<p>[In reality that is of course the answer to a completely different joke.]</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-724673">
				<div id="div-comment-724673" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Dave</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090403-00/?p=18633#comment-724673">
			April 7, 2009 at 9:12 pm</a>		</div>

		<blockquote><p>
  &gt;Tripos, a partly-completed undergraduate student project
</p></blockquote>
<p>></p>
<blockquote><p>
  I disagree with this statement and here is what I have to show as a proof</p>
<p>  that it isn&#8217;t correct:
</p></blockquote>
<p>Oh great, a news/marketing story from 198-something telling us how wonderful Tripos was supposed to be. &nbsp;And I have a news story from the Uganda Monitor telling us that Idi Amin is really such a sweet guy, so it must be true. &nbsp;</p>
<p>The source of the comments on the quality of Tripos was a guy called RJ Mical, who, unless your name happens to be Haynie, knows a tad more about the whole thing than you do.</p>
<p>(For non-Commodore people, Mical was one of the people who created the Amiga, and had detailed knowledge of Tripos internals and the Amiga).</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-724683">
				<div id="div-comment-724683" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://levicki.net/' rel='external nofollow' class='url'>Igor Levicki</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090403-00/?p=18633#comment-724683">
			April 7, 2009 at 10:29 pm</a>		</div>

		<p>&gt;&gt;Oh great, a news/marketing story from 198-something telling us how wonderful Tripos was supposed to be.&lt;&lt;</p>
<p>First, Electronics &amp; Wireless World magazine wasn&#8217;t a marketing outlet &#8212; it was high-quality educational read. But obviously, you have never read anything like that.</p>
<p>Second, Tripos *was* great &#8212; it did its job tremendously well with several orders of magnitude less resources than those bloated &quot;lipstick-on-a-pig&quot; resource hogs you nowadays call operating system do.</p>
<p>Finally, the article I presented deals with facts about Tripos. If you believe some of those facts are incorrect or inaccurate feel free to dispute them (we can do it via email or MSN chat) but not without citing the source.</p>
<p>As for me and what I do or don&#8217;t know &#8212; I was lucky enough to use Amiga (and thus Tripos) and believe me, that was the best multi-tasking experience I ever had in computing to date, and judging by the current bloatware and pointless complexification trends in hardware design and programming it will obviously stay that way.</p>

		
				</div>
		</li><!-- #comment-## -->
		</ol><!-- .comment-list -->

		<div class="navigation pagination">
					</div>

	
			<p class="no-comments">Comments are closed.</p>
<!-- COMMENTS END -->
</div></td></tr></table>

</body>
</html>
<br/><div class="disclaimer">
*DISCLAIMER: I DO NOT OWN THIS CONTENT. If you are the owner and would like it removed, please
<a target="_blank" href="/contact.htm">contact me</a>.
The content herein is an archived reproduction of entries from
Raymond Chen's "Old New Thing" Blog (most recent link is <a target="_blank" href="https://devblogs.microsoft.com/oldnewthing/">here</a>).
It may have slight formatting modifications for consistency and to improve readability.
<br/><br/>
WHY DID I DUPLICATE THIS CONTENT HERE?
Let me first say this site has never had anything to sell and has never shown ads of any kind. I have nothing monetarily to gain by duplicating content here.
Because I had made my own local copy of this content throughout the years, for ease of using tools like grep, I decided to put it online after I discovered
some of the original content previously and publicly available, had disappeared approximately early to mid 2019.
At the same time, I present the content in an easily accessible theme-agnostic way.
<br/><br/>
The information provided by Raymond's blog is, for all practical purposes, more authoritative on Windows Development than Microsoft's
own MSDN documentation and should be considered supplemental reading to that documentation. The wealth of missing details
provided by this blog that Microsoft could not or did not document about Windows over the years is vital enough, many would agree an online "backup" of these details
is a necessary endeavor. Specifics include:<br/>
<ul>
    <li>
        A "redesign" after 2019 erased thousands of user's comments from previous years. As many have stated, the comments are nearly as important as the postings themselves.
        The archived copies of the postings contained here retain the original comments.
    </li>
    <li>
        The blog has changed domains many times and the urls have otherwise been under constant change since 2003.
        Even when proper redirection has been set up for those links, redirection only works for a limited period of time.
        For example, all of the internal blog links that were valid in early 2019, were broken by 2020 without proper redirection.
    </li>
    <li>
        The blog has been under constant re-design and re-theming since its inception.
        It is downright irritating to deal with a bogged-down site experience as the result of the latest visual themes designed for cell-phone browsers.
        As of this writing, it is cumbersome to navigate titles with only 10 entries per page.
        While it is nice that the official site has a search feature, searching using this index (with all titles on a single page) is much quicker (CTRL-F in most browsers).
    </li>
</ul>
</div><br/>
&lt;-- Back to <a href="index.htm">Old New Thing Archive Index</a>

