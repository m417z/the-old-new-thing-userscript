<html>
<head>
<title>Why does the elevation prompt have only the wallpaper as its background?</title>
<link rel="stylesheet" href="page.css">
</head><body>
<div class="titlediv"><h2>Why does the elevation prompt have only the wallpaper as its background?</h2></div>
<div class="hdrdiv"><table class="hdrtable" cellspacing="0" cellpadding="0">
<tr><td><b>Date:</b></td><td>January 1, 2019 / year-entry #0</td></tr>
<tr><td><b>Tags:</b></td><td>history</td></tr>
<tr><td><b>Orig Link:</b></td><td>https://blogs.msdn.microsoft.com/oldnewthing/20190101-00/?p=100605</td></tr>

<tr><td><b>Comments:&nbsp;&nbsp;&nbsp;&nbsp;</b></td><td>14</td></tr>
<tr><td valign="top"><b>Summary:</b></td><td valign="top">Caught unprepared.</td></tr>
</table></div>
<hr/>
<table class="contenttable" cellspacing="0" cellpadding="0"><tr><td><div class="contentdiv">
<!-- CONTENT START -->
<p>
One small change to the elevation interface in Windows&nbsp;8
has to do with the image behind the elevation prompt.
In earlier versions of Windows,
the image was a snapshot of your desktop,
including all your open windows.
But in Windows&nbsp;8,
it's just a picture of your wallpaper.
Why did this change?
</p>
<p>
We discovered that
when you ran an elevated application,
the screen capture performed by the elevation prompt often looked ugly
because there was a good chance it caught an animation mid-stream.
For example, when you run an application
elevated from the Windows&nbsp;8 Start page,
the tiles zoom out, your name in the upper right corner fades out,
and the entire screen cross-fades to the desktop.
As a result, the snapshot showed your tiles in some intermediate
location, a faint image of your name in the corner,
and a half-visible desktop.
</p>
<p>
Okay, so work could've been done to, say, wait for all animations
to complete before taking the screen capture.
That and other solutions were proposed and considered,
but the feature simply didn't make the cut.
There were too many other things that had to be done,
and those other things took higher priority.
</p>
<p>
Engineering is about trade-offs,
and trade-offs are rarely easy.
If you decide to do everything,
then you find yourself trying to cram two years of work
into one month of schedule,
and that rarely ends well.
You have to prioritize what is important and what is less important,
and then exercise your creativity to come up with
alternate solutions which, perhaps not ideal,
get the job done in less time and with lower risk.</p>
<!-- CONTENT END -->
</div></td></tr></table>
<hr/>
<table class="commenttable" cellspacing="0" cellpadding="0"><tr><td><div class="commentdiv"><div class="commentdivhdr">
<!-- COMMENTS START -->
Comments (14)	</div>

		<div id="respond" class="comment-respond">
		<h3 id="reply-title" class="comment-reply-title"> <small><a rel="nofollow" id="cancel-comment-reply-link" href="/oldnewthing/20190101-00/?p=100605#respond" style="display:none;">Cancel reply</a></small></h3><p class="must-log-in">You must be <a href="https://blogs.msdn.microsoft.com/oldnewthing/wp-login.php?redirect_to=https%3A%2F%2Fblogs.msdn.microsoft.com%2Foldnewthing%2F20190101-00%2F%3Fp%3D100605">logged in</a> to post a comment.</p>	</div><!-- #respond -->
	
			<div class="navigation pagination clear-both">
					</div>

		<ol class="comment-list">
					<li class="comment byuser comment-author-joshudson even thread-even depth-1 parent" id="comment-1374845">
				<div id="div-comment-1374845" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Joshua_______' rel='external nofollow' class='url'>Joshua_______</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20190101-00/?p=100605#comment-1374845">
			January 1, 2019 at 7:30 am</a>		</div>

		<p>But when there&#8217;s no wallpaper it will not show the desktop background color, but rather the system background color.</p>
<p>One of the stupider ADA accommodations I have to request is changing the setting in group policy to &#8220;User Account Control: Switch to the secure desktop when prompting for elevation&#8221;: disabled.</p>
<p>No, MS doesn&#8217;t care about this yet because of the existence of a workaround, no matter how horrifying it is to security teams.</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-login" href="https://blogs.msdn.microsoft.com/oldnewthing/wp-login.php?redirect_to=https%3A%2F%2Fblogs.msdn.microsoft.com%2Foldnewthing%2F20190101-00%2F%3Fp%3D100605">Log in to Reply</a></div>
				</div>
		<ol class="children">
		<li class="comment byuser comment-author-mzzt odd alt depth-2" id="comment-1374865">
				<div id="div-comment-1374865" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/The+MAZZTer' rel='external nofollow' class='url'>The MAZZTer</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20190101-00/?p=100605#comment-1374865">
			January 1, 2019 at 10:38 am</a>		</div>

		<p>It&#8217;s almost as if the important part&#8230; the UAC dialog on the secure desktop&#8230; works properly, and the background isn&#8217;t really that important. Hence any glitches or bugs in it would be low priority to fix.</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-login" href="https://blogs.msdn.microsoft.com/oldnewthing/wp-login.php?redirect_to=https%3A%2F%2Fblogs.msdn.microsoft.com%2Foldnewthing%2F20190101-00%2F%3Fp%3D100605">Log in to Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-geelaw even depth-2" id="comment-1374895">
				<div id="div-comment-1374895" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Gee+Law' rel='external nofollow' class='url'>Gee Law</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20190101-00/?p=100605#comment-1374895">
			January 1, 2019 at 7:20 pm</a>		</div>

		<p>The elevation prompt on secure desktop uses black background if Explorer is not running or if &#8220;Require trusted path for credential entry&#8221; policy is enabled. Otherwise, it should use a dimmed version of the user&#8217;s desktop background (color or wallpaper).</p>
<p>But I don&#8217;t understand how using black background would create an accessibility problem&#8230;?</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-login" href="https://blogs.msdn.microsoft.com/oldnewthing/wp-login.php?redirect_to=https%3A%2F%2Fblogs.msdn.microsoft.com%2Foldnewthing%2F20190101-00%2F%3Fp%3D100605">Log in to Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-warrenelven-ca odd alt depth-2 parent" id="comment-1374905">
				<div id="div-comment-1374905" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/warrens' rel='external nofollow' class='url'>warrens</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20190101-00/?p=100605#comment-1374905">
			January 1, 2019 at 9:09 pm</a>		</div>

		<p>Have you checked this recently, Joshua?  On Windows 10 1809, it shows the current user&#8217;s background colour.</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-login" href="https://blogs.msdn.microsoft.com/oldnewthing/wp-login.php?redirect_to=https%3A%2F%2Fblogs.msdn.microsoft.com%2Foldnewthing%2F20190101-00%2F%3Fp%3D100605">Log in to Reply</a></div>
				</div>
		<ol class="children">
		<li class="comment byuser comment-author-joshudson even depth-3" id="comment-1374955">
				<div id="div-comment-1374955" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Joshua_______' rel='external nofollow' class='url'>Joshua_______</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20190101-00/?p=100605#comment-1374955">
			January 2, 2019 at 6:58 am</a>		</div>

		<p>Windows 10 might. Windows Server still shows bright green. Black would be nice &#8230;</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-login" href="https://blogs.msdn.microsoft.com/oldnewthing/wp-login.php?redirect_to=https%3A%2F%2Fblogs.msdn.microsoft.com%2Foldnewthing%2F20190101-00%2F%3Fp%3D100605">Log in to Reply</a></div>
				</div>
		</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
		<li class="comment byuser comment-author-hardon odd alt thread-odd thread-alt depth-1" id="comment-1374855">
				<div id="div-comment-1374855" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/gdalsnes' rel='external nofollow' class='url'>gdalsnes</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20190101-00/?p=100605#comment-1374855">
			January 1, 2019 at 10:25 am</a>		</div>

		<p>Replacing one weird thing with another weird thing is&#8230;weird.</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-login" href="https://blogs.msdn.microsoft.com/oldnewthing/wp-login.php?redirect_to=https%3A%2F%2Fblogs.msdn.microsoft.com%2Foldnewthing%2F20190101-00%2F%3Fp%3D100605">Log in to Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-fleet-command even thread-even depth-1 parent" id="comment-1374875">
				<div id="div-comment-1374875" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Fleet+Command' rel='external nofollow' class='url'>Fleet Command</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20190101-00/?p=100605#comment-1374875">
			January 1, 2019 at 12:15 pm</a>		</div>

		<p>I always thought the reason was performance gain through simplification. I assumed the wallpaper was already in memory while the screenshot needed to be taken. Fewer things to do. Windows 8 simplified a lot of things and got rid of a lot of others.</p>
<p>But you are saying the actual reason had something to do with aesthetics? On Windows 8? 😲 O_o</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-login" href="https://blogs.msdn.microsoft.com/oldnewthing/wp-login.php?redirect_to=https%3A%2F%2Fblogs.msdn.microsoft.com%2Foldnewthing%2F20190101-00%2F%3Fp%3D100605">Log in to Reply</a></div>
				</div>
		<ol class="children">
		<li class="comment byuser comment-author-maximilien-noal odd alt depth-2" id="comment-1374935">
				<div id="div-comment-1374935" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Maximilien+Noal' rel='external nofollow' class='url'>Maximilien Noal</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20190101-00/?p=100605#comment-1374935">
			January 2, 2019 at 1:12 am</a>		</div>

		<p>HA. HA. *Slow clap*</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-login" href="https://blogs.msdn.microsoft.com/oldnewthing/wp-login.php?redirect_to=https%3A%2F%2Fblogs.msdn.microsoft.com%2Foldnewthing%2F20190101-00%2F%3Fp%3D100605">Log in to Reply</a></div>
				</div>
		</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
		<li class="comment byuser comment-author-daniel-findley even thread-odd thread-alt depth-1" id="comment-1374885">
				<div id="div-comment-1374885" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Dan+Findley' rel='external nofollow' class='url'>Dan Findley</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20190101-00/?p=100605#comment-1374885">
			January 1, 2019 at 5:11 pm</a>		</div>

		<p>I always assumed it was a security thing &#8211; the elevated prompt was deliberately naked so that no details leaked into it. Your explanation is much more pragmatic Raymond :)</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-login" href="https://blogs.msdn.microsoft.com/oldnewthing/wp-login.php?redirect_to=https%3A%2F%2Fblogs.msdn.microsoft.com%2Foldnewthing%2F20190101-00%2F%3Fp%3D100605">Log in to Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-aadsso-1live-com00037ffec4adc267 odd alt thread-even depth-1" id="comment-1374925">
				<div id="div-comment-1374925" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/MisterZu' rel='external nofollow' class='url'>MisterZu</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20190101-00/?p=100605#comment-1374925">
			January 2, 2019 at 12:20 am</a>		</div>

		<p>IMHO best solution could be just a live (but grayed) view of &#8216;underlying&#8217; desktop. DWM API must be able to implement this.</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-login" href="https://blogs.msdn.microsoft.com/oldnewthing/wp-login.php?redirect_to=https%3A%2F%2Fblogs.msdn.microsoft.com%2Foldnewthing%2F20190101-00%2F%3Fp%3D100605">Log in to Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-koldude even thread-odd thread-alt depth-1 parent" id="comment-1374945">
				<div id="div-comment-1374945" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/kantos' rel='external nofollow' class='url'>kantos</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20190101-00/?p=100605#comment-1374945">
			January 2, 2019 at 6:22 am</a>		</div>

		<p>Interesting I had always assumed the change was security related to prevent malware from faking UAC prompts.</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-login" href="https://blogs.msdn.microsoft.com/oldnewthing/wp-login.php?redirect_to=https%3A%2F%2Fblogs.msdn.microsoft.com%2Foldnewthing%2F20190101-00%2F%3Fp%3D100605">Log in to Reply</a></div>
				</div>
		<ol class="children">
		<li class="comment byuser comment-author-wndsks odd alt depth-2" id="comment-1374965">
				<div id="div-comment-1374965" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/skSdnW' rel='external nofollow' class='url'>skSdnW</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20190101-00/?p=100605#comment-1374965">
			January 2, 2019 at 8:36 am</a>		</div>

		<p>There is a win32 function that paints the wallpaper for you, it is actually less code than capturing the desktop if you wanted to create a fake elevation screen.</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-login" href="https://blogs.msdn.microsoft.com/oldnewthing/wp-login.php?redirect_to=https%3A%2F%2Fblogs.msdn.microsoft.com%2Foldnewthing%2F20190101-00%2F%3Fp%3D100605">Log in to Reply</a></div>
				</div>
		</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
		<li class="comment byuser comment-author-lucas-arona even thread-even depth-1" id="comment-1375015">
				<div id="div-comment-1375015" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Swisstone' rel='external nofollow' class='url'>Swisstone</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20190101-00/?p=100605#comment-1375015">
			January 2, 2019 at 2:40 pm</a>		</div>

		<p>I tought it was for performance reasons&#8230;<br />
Until Windows 8, the UAC took a little longer before drawing the screenshot and displaying the dialog.<br />
It is still one less operation to perform (no need to take the screenshot, just grab the background)</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-login" href="https://blogs.msdn.microsoft.com/oldnewthing/wp-login.php?redirect_to=https%3A%2F%2Fblogs.msdn.microsoft.com%2Foldnewthing%2F20190101-00%2F%3Fp%3D100605">Log in to Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-jernej-ms-live odd alt thread-odd thread-alt depth-1" id="comment-1375065">
				<div id="div-comment-1375065" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/ender9' rel='external nofollow' class='url'>ender9</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20190101-00/?p=100605#comment-1375065">
			January 3, 2019 at 5:48 am</a>		</div>

		<p>Speaking of elevation prompt, did anybody notice that at least on Vista, the window that requested elevation wasn&#8217;t as faded as the rest of the background? I always thought that was a neat effect.</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-login" href="https://blogs.msdn.microsoft.com/oldnewthing/wp-login.php?redirect_to=https%3A%2F%2Fblogs.msdn.microsoft.com%2Foldnewthing%2F20190101-00%2F%3Fp%3D100605">Log in to Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		</ol><!-- .comment-list -->

		<div class="navigation pagination">
					</div>
<!-- COMMENTS END -->
</div></td></tr></table>

</body>
</html>
<br/><div class="disclaimer">
*DISCLAIMER: I DO NOT OWN THIS CONTENT. If you are the owner and would like it removed, please
<a target="_blank" href="/contact.htm">contact me</a>.
The content herein is an archived reproduction of entries from
Raymond Chen's "Old New Thing" Blog (most recent link is <a target="_blank" href="https://devblogs.microsoft.com/oldnewthing/">here</a>).
It may have slight formatting modifications for consistency and to improve readability.
<br/><br/>
WHY DID I DUPLICATE THIS CONTENT HERE?
Let me first say this site has never had anything to sell and has never shown ads of any kind. I have nothing monetarily to gain by duplicating content here.
Because I had made my own local copy of this content throughout the years, for ease of using tools like grep, I decided to put it online after I discovered
some of the original content previously and publicly available, had disappeared approximately early to mid 2019.
At the same time, I present the content in an easily accessible theme-agnostic way.
<br/><br/>
The information provided by Raymond's blog is, for all practical purposes, more authoritative on Windows Development than Microsoft's
own MSDN documentation and should be considered supplemental reading to that documentation. The wealth of missing details
provided by this blog that Microsoft could not or did not document about Windows over the years is vital enough, many would agree an online "backup" of these details
is a necessary endeavor. Specifics include:<br/>
<ul>
    <li>
        A "redesign" after 2019 erased thousands of user's comments from previous years. As many have stated, the comments are nearly as important as the postings themselves.
        The archived copies of the postings contained here retain the original comments.
    </li>
    <li>
        The blog has changed domains many times and the urls have otherwise been under constant change since 2003.
        Even when proper redirection has been set up for those links, redirection only works for a limited period of time.
        For example, all of the internal blog links that were valid in early 2019, were broken by 2020 without proper redirection.
    </li>
    <li>
        The blog has been under constant re-design and re-theming since its inception.
        It is downright irritating to deal with a bogged-down site experience as the result of the latest visual themes designed for cell-phone browsers.
        As of this writing, it is cumbersome to navigate titles with only 10 entries per page.
        While it is nice that the official site has a search feature, searching using this index (with all titles on a single page) is much quicker (CTRL-F in most browsers).
    </li>
</ul>
</div><br/>
&lt;-- Back to <a href="index.htm">Old New Thing Archive Index</a>

