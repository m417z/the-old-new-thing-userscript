<html>
<head>
<title>Bonus chatter about that virus that is responsible for the top six Explorer crashes</title>
<link rel="stylesheet" href="page.css">
</head><body>
<div class="titlediv"><h2>Bonus chatter about that virus that is responsible for the top six Explorer crashes</h2></div>
<div class="hdrdiv"><table class="hdrtable" cellspacing="0" cellpadding="0">
<tr><td><b>Date:</b></td><td>June 5, 2009 / year-entry #165</td></tr>
<tr><td><b>Tags:</b></td><td>other</td></tr>
<tr><td><b>Orig Link:</b></td><td>https://blogs.msdn.microsoft.com/oldnewthing/20090605-00/?p=18003</td></tr>

<tr><td><b>Comments:&nbsp;&nbsp;&nbsp;&nbsp;</b></td><td>29</td></tr>
<tr><td valign="top"><b>Summary:</b></td><td valign="top">Last year, I wrote about a virus that is responsible for the top six Explorer crashes, by a wide margin. I learned later how the authors of this XYZ Virus operate, and it happens to answer a question posted by commenter SteveL as to why these virus writers are so incompetent that they crash so...</td></tr>
</table></div>
<hr/>
<table class="contenttable" cellspacing="0" cellpadding="0"><tr><td><div class="contentdiv">
<!-- CONTENT START -->
<p>Last year, I wrote about <a href="http://blogs.msdn.com/oldnewthing/archive/2008/05/21/8525411.aspx"> a virus that is responsible for the top six Explorer crashes</a>, by a wide margin.</p>
<p> I learned later how the authors of this XYZ Virus operate, and it happens to answer <a href="http://blogs.msdn.com/oldnewthing/archive/2008/05/21/8525411.aspx#8528804"> a question posted by commenter SteveL</a> as to why these virus writers are so incompetent that they crash so much. </p>
<p> First, the virus authors infect your computer and crash your system every so often <i>on purpose</i>. Meanwhile, they also set up a legitimate-looking Web site which sells anti-virus software that claims to remove this virus. You send them your money, they send you the software. </p>
<p> The kicker is that the removal software <i>doesn't work</i>. Your computer is still infected with the XYZ virus. But they don't care. <a href="http://en.wikipedia.org/w/index.php?title=Gnomes_(South_Park)&amp;oldid=212904113#The_Gnomes"> They already got your money</a>. </p>
<!-- CONTENT END -->
</div></td></tr></table>
<hr/>
<table class="commenttable" cellspacing="0" cellpadding="0"><tr><td><div class="commentdiv"><div class="commentdivhdr">
<!-- COMMENTS START -->
Comments (29)	</div>

	
			<div class="navigation pagination clear-both">
					</div>

		<ol class="comment-list">
					<li class="comment byuser comment-author-nathan_works even thread-even depth-1" id="comment-742363">
				<div id="div-comment-742363" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/nathan_works' rel='external nofollow' class='url'>nathan_works</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090605-00/?p=18003#comment-742363">
			June 5, 2009 at 10:36 am</a>		</div>

		<p>Too bad there&#8217;s not an entry for &quot;poorly written shell extensions&quot; in the original list..</p>
<p>(Hah. As I type, I check and see I made the same comment in your original article.. )</p>
<p>Might not &quot;crash&quot; explorer, but can cripple context menu usage.. That and those 5000 ms ping time network drives I have to use.. Boy, the folks in CA never seem to mind and don&#8217;t understand why I hate using it to share files.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-742373">
				<div id="div-comment-742373" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Adam V</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090605-00/?p=18003#comment-742373">
			June 5, 2009 at 10:36 am</a>		</div>

		<p>I wonder if the XYZ Antivirus company could be sued for a non-performing product by the people who bought it, as well as by the people who caught the XYZ virus and lost time/data due to Explorer crashes.</p>
<p>Then it occurs to me that Microsoft data on Explorer crashes could be used in court to show how prevalent a virus is, and a company could be forced to give up their profits to the government (since the MS data would be stripped of identifying information, the money can&#8217;t go back to the users).</p>
<p>But then I realize how stupid that is &#8211; they&#8217;d just set up shop in another country where virus-writing isn&#8217;t illegal.</p>
<p>Ah, well&#8230; here&#8217;s hoping Peter Wiggin shows up soon and creates a worldwide Hegemony.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-742383">
				<div id="div-comment-742383" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Someone You Know</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090605-00/?p=18003#comment-742383">
			June 5, 2009 at 10:44 am</a>		</div>

		<p>@Adam V</p>
<p>Selling a product that you know doesn&#8217;t do what you say it does is a crime in the United States, but it seems like you can get away with a lot using fine-print disclaimers. See, for instance, all the homeopathic remedies and the like that have something like &quot;This product is not intended to diagnose or treat any condition&quot; printed on the packaging.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-742393">
				<div id="div-comment-742393" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Alexandre Grigoriev</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090605-00/?p=18003#comment-742393">
			June 5, 2009 at 10:45 am</a>		</div>

		<p>That all begun with &quot;all users in XP are created as Administrators&quot; decision back in 2001.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-742413">
				<div id="div-comment-742413" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">John</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090605-00/?p=18003#comment-742413">
			June 5, 2009 at 10:59 am</a>		</div>

		<p>Alexandre: A non-Administrator account can still install a shell extension for itself.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-742453">
				<div id="div-comment-742453" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">ulric</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090605-00/?p=18003#comment-742453">
			June 5, 2009 at 11:22 am</a>		</div>

		<p>how can these company still be in business, given that they perform acts that are illegal, a web site you can identify, and that there is a paper trail for the money?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-742473">
				<div id="div-comment-742473" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Anonymous</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090605-00/?p=18003#comment-742473">
			June 5, 2009 at 12:19 pm</a>		</div>

		<p>Would it be worth it to consider a separate process for extensions like in ie8, that way a crash in an extension doesn&#8217;t take explorer down?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-742553">
				<div id="div-comment-742553" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">MadQ</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090605-00/?p=18003#comment-742553">
			June 5, 2009 at 2:46 pm</a>		</div>

		<p>@Anonymous: Explorer is way ahead of IE8. You can tell explorer to &quot;Launch folder windows in a separate process&quot; in the folder options. It kinda slows things down, though. All that cross-process marshalling COM has to do all of a sudden takes its toll.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-742593">
				<div id="div-comment-742593" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">KJK::Hyperion</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090605-00/?p=18003#comment-742593">
			June 5, 2009 at 4:43 pm</a>		</div>

		<p>Adam V: virus cases HAVE been successfuly taken to court by Microsoft. I recall most were in the &quot;rogue security software&quot; category</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-742603">
				<div id="div-comment-742603" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">KJK::Hyperion</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090605-00/?p=18003#comment-742603">
			June 5, 2009 at 4:46 pm</a>		</div>

		<p>Internet Explorer 8 runs <em>every single tab</em> in a separate process (running virtualized, at Low integrity level), and installs a &quot;safe mode&quot; icon that runs with all add-ons disabled</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-742633">
				<div id="div-comment-742633" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Daniel</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090605-00/?p=18003#comment-742633">
			June 5, 2009 at 6:04 pm</a>		</div>

		<p>A Wikipedia revision from May 16th, 2008, huh? It seems Raymond wrote this follow-up before the first article was even published. His huge queue never ceases to amaze me.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-742693">
				<div id="div-comment-742693" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Jonathan Wilson</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090605-00/?p=18003#comment-742693">
			June 6, 2009 at 12:12 am</a>		</div>

		<p>I would hope that a virus like this would be the sort of thing removed by the Windows Malicious Softare Removal Tool</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-742733">
				<div id="div-comment-742733" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Jules</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090605-00/?p=18003#comment-742733">
			June 6, 2009 at 6:58 am</a>		</div>

		<p>Personally, I think malware writers are simply mostly incompetent. &nbsp;Really.</p>
<p>Once, I had a Linux machine online that got compromised via a BIND exploit. &nbsp;The code the worm in question executed appended something like &quot;5136 stream tcp nowait root /bin/sh&quot; to inetd.conf and sent inetd a HUP signal. &nbsp;This failed to achieve the desired effect because there wasn&#8217;t an LF at the end of the last line in my inetd.conf.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-742743">
				<div id="div-comment-742743" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Jules</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090605-00/?p=18003#comment-742743">
			June 6, 2009 at 7:00 am</a>		</div>

		<p>Alexandre Grigoriev: &quot;That all begun with &quot;all users in XP are created as Administrators&quot; decision back in 2001.&quot;</p>
<p>Except all users in XP are <em>not</em> created as administrators. &nbsp;Whenever I set up XP, it only makes the first user admin, the rest I have to set up as administrators manually if I want them to be.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-742763">
				<div id="div-comment-742763" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Aaargh!</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090605-00/?p=18003#comment-742763">
			June 6, 2009 at 10:08 am</a>		</div>

		<p>&gt; Except all users in XP are _not_ created as administrators. (&#8230;) &nbsp;it only makes the first user admin</p>
<p>And how many home-users have multiple accounts on their system ? </p>
<p>The problem is not even that the user is an admin, the problem is that an admin user *always* has full admin rights. </p>
<p>On most other OSes an admin user means a user who is able to get full access when needed, by typing his password. Windows tries to &#8216;fix&#8217; this with UAC which IMHO is a completely insane idea. It&#8217;s security backwards.</p>
<div class=post>[<i>I thought &#8220;root&#8221; had full admin privileges all the time. -Raymond</i>]</div>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-742793">
				<div id="div-comment-742793" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Fuenby</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090605-00/?p=18003#comment-742793">
			June 6, 2009 at 5:26 pm</a>		</div>

		<p>@Aaargh! &#8211; If a malicious user has physical access to your desktop, he can do pretty much anything he wants to it. It&#8217;s not users we have to worry about, it&#8217;s applications—and UAC handles this adequately.</p>
<p>Also, looking at <a rel="nofollow" target="_new" href="http://en.wikipedia.org/wiki/User_Account_Control#Tasks_that_trigger_a_UAC_prompt" rel="nofollow">http://en.wikipedia.org/wiki/User_Account_Control#Tasks_that_trigger_a_UAC_prompt</a> , I don&#8217;t really see unnecessary privilege requirements there. (Except maybe Task Scheduler, but an average user &nbsp;wouldn&#8217;t run it that often.)</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-742773">
				<div id="div-comment-742773" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Aaargh!</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090605-00/?p=18003#comment-742773">
			June 6, 2009 at 1:45 pm</a>		</div>

		<p>&gt; I thought &quot;root&quot; had full admin privileges all the time. -Raymond</p>
<p>That is correct.</p>
<p>However, usually (taking OS X as an example here) an &#8216;administrator&#8217; user is *not* root. It&#8217;s a user with &#8216;sudo&#8217; rights, which means the user can run things as root after entering his/her password. In fact, the root account is disabled by default, you have specifically enable it (and there is no need to do that, at all)</p>
<p>In practice this means that even an administrator user runs his day-to-day stuff as a mere mortal. &nbsp;Only when doing something that requires more privileges (like e.g. changing a system-wide setting) the user needs to enter his password once. This occurs so rarely that it&#8217;s not annoying at all, unlike UAC. And it&#8217;s actually proper security (e.g. a malicious user that walks up to an unlocked desktop still can&#8217;t do any system-wide damage).</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-742803">
				<div id="div-comment-742803" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Alexandre Grigoriev</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090605-00/?p=18003#comment-742803">
			June 6, 2009 at 10:24 pm</a>		</div>

		<p>@Jules:</p>
<p>&quot;Except all users in XP are <em>not</em> created as administrators.&quot;</p>
<p>Sure. Never mind that 99% of XP Home users don&#8217;t have any idea that they&#8217;re supposed to explicitly change their user account type to Limited User. Vista, Windows 7 (and XP Home?) even encourages that by the fact the Administrator account is DISABLED. You HAVE to have one of the user&#8217;s accounts with administrative privileges.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-742813">
				<div id="div-comment-742813" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Falcon</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090605-00/?p=18003#comment-742813">
			June 6, 2009 at 10:52 pm</a>		</div>

		<p>@Jules:</p>
<p>&quot;This failed to achieve the desired effect because there wasn&#8217;t an LF at the end of the last line in my inetd.conf.&quot;</p>
<p>The crazy thing here is that they wouldn&#8217;t need to be particularly clever at all &#8211; I&#8217;m assuming that inetd allows blank lines in the conf file (a reasonable assumption), so all it would take is adding an LF to the beginning of the string!</p>
<p>Of course, in this case, the failure is desirable from an &quot;end user&#8217;s&quot; point, but it&#8217;s a WTF nonetheless&#8230;</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-742863">
				<div id="div-comment-742863" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Stefan Kanthak</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090605-00/?p=18003#comment-742863">
			June 7, 2009 at 1:08 pm</a>		</div>

		<p>@John:</p>
<blockquote><p>
  A non-Administrator account can still install a shell extension for itself.
</p></blockquote>
<p>But Explorer won&#8217;t use it unless it has been approved by an Administrator.</p>
<p>See MSKB 216384 which is turned on per default since XP SP2.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-742873">
				<div id="div-comment-742873" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">someone else</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090605-00/?p=18003#comment-742873">
			June 7, 2009 at 6:55 pm</a>		</div>

		<p>@Aaargh!</p>
<p>Quite a lot of these prompts have been fixed in Windows 7.</p>
<p>And the problem of needing to be admin for installing apps is often created by the installer, not Windows. I especially like installers that need to run as admin, but install only for the current user.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-742833">
				<div id="div-comment-742833" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Aaargh!</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090605-00/?p=18003#comment-742833">
			June 7, 2009 at 12:46 pm</a>		</div>

		<p>&gt; &nbsp;It&#8217;s not users we have to worry about, it&#8217;s applications.</p>
<p>You&#8217;re making a distinction that does not exist. Users do not interact with the Win32 API directly, they only do so through applications. An application running as a certain user doing something should be considered as that user doing it. You don&#8217;t need to ask if the user wants to allow the app to do something, the user has already made his/her intent clear by running the app in the first place.</p>
<p>The question is not if the user wants the app to do X, it&#8217;s if the user is *allowed* to do it by the administrator of the system. The user can then prove he is indeed allowed to do so by authenticating him/herself as a legit user with the correct permissions to the system. </p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-742853">
				<div id="div-comment-742853" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Aaargh!</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090605-00/?p=18003#comment-742853">
			June 7, 2009 at 1:01 pm</a>		</div>

		<p>&gt; I don&#8217;t really see unnecessary privilege requirements there.</p>
<p>I can see at least one:</p>
<p>* Installing and uninstalling applications</p>
<p>Why should installing an app be considered a privileged operation ?</p>
<p>As for the rest, those are things only administrator should be able to do, and do therefore not require additional security prompts for several reasons:</p>
<p>* You&#8217;re admin, you&#8217;re supposed to know what you&#8217;re doing</p>
<p>* You specifically logged in as an administrator to do these (potentially dangerous) tasks, you do not need to be reminded again</p>
<p>UAC is a hack to prevent malicious apps that stupid users download from wrecking the system. Instead of fixing the problem (normal users always running with full admin rights) they are fixing the symptom. </p>
<p>On an properly set up system a malicious app wouldn&#8217;t be able to do those things either, because the user running them simply won&#8217;t have the privileges to do so. The malicious app would have to trigger a &#8216;sudo&#8217; prompt, at which time the user would have to type in his/her password. A password screen is not something where you can just click on &#8216;ok&#8217; (as most users will do without thinking with UAC) and it should be such a rare occurrence that the user will immediately become suspicious.</p>
<p>UAC might prevent some malicious apps from doing too much damage, but it&#8217;s a very ugly and unnecessary hack, there are proper ways to fix this.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-742883">
				<div id="div-comment-742883" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://lambert.geek.nz/' rel='external nofollow' class='url'>Miral</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090605-00/?p=18003#comment-742883">
			June 8, 2009 at 3:11 am</a>		</div>

		<p>@Aaargh!:</p>
<p>Whether to install for a single user or for the entire machine is a choice of the application vendor. &nbsp;Most vendors will usually choose to install for the whole machine; partly because that reduces file duplication and partly because there is no standard location where per-user applications are supposed to be installed.</p>
<p>And installation and admin behaviour on Vista is now nearly identical to the equivalent on Linux. &nbsp;On Windows, you have to elevate to run installers. &nbsp;On Linux, you have to elevate to run the package manager. &nbsp;On Windows, you have to elevate to run certain admin-only tasks. &nbsp;On Linux it&#8217;s the same.</p>
<p>Essentially UAC is the same thing as Linux with sudo &#8212; user accounts in the Administrators group on Windows are the equivalent of users in the sudoers file in Linux; programs run from the shell run with low privilege by default in both; in order to run admin tasks you have to take some special action (UAC prompt for consent/credentials, run sudo) first. &nbsp;What&#8217;s the difference?</p>
<p>The only real reason why UAC has caught more flak on Windows vs. Linux is because there&#8217;s a lot more Windows software that simply assumes that it&#8217;s running as an administrator, causing more prompts than should be required. &nbsp;That has been gradually improving as vendors update software to be better behaved.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-742893">
				<div id="div-comment-742893" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Drak</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090605-00/?p=18003#comment-742893">
			June 8, 2009 at 3:29 am</a>		</div>

		<p>@Miral</p>
<p>&gt;&gt; Essentially UAC is the same thing as Linux with sudo &#8212; user accounts in the Administrators group on Windows are the equivalent of users in the sudoers file in Linux; programs run from the shell run with low privilege by default in both; in order to run admin tasks you have to take some special action (UAC prompt for consent/credentials, run sudo) first. &nbsp;What&#8217;s the difference?</p>
<p>The difference is that you need to know the users password for sudo, and you don&#8217;t for UAC. So if a user leaves his PC unattended UAC isn&#8217;t going to stop alleged abusive other user to do something bad, while sudo will require a password (unless you have one of those systems where sudo only requires a password every so often, which imho isn&#8217;t a very good choice)</p>
<p>Of course, you should always lock your PC when leaving it unatended&#8230; But that&#8217;s something even Microsoft can&#8217;t automate ;)</p>
<div class=post>[<i>I&#8217;m amused by the implied argument that unix is superior to UAC because UAC <u>isn&#8217;t annoying enough</u>. -Raymond</i>]</div>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-742913">
				<div id="div-comment-742913" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Cheong</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090605-00/?p=18003#comment-742913">
			June 8, 2009 at 4:59 am</a>		</div>

		<p>Actually, I&#8217;d wish to have something more like SELinux where even if I grant administrator right to certain process, I can still cage it to modify places that I allow it to modify.</p>
<p>For advanced level users it&#8217;ll be more effective than UAC for protecting us from attacks.</p>
<p>Just let it be disabled by default as even lots of Linux administrator seems unable to get how to make it work&#8230; and usually leave it disabled or in permissive mode. :P</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-742923">
				<div id="div-comment-742923" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Phil</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090605-00/?p=18003#comment-742923">
			June 8, 2009 at 5:55 am</a>		</div>

		<blockquote><p>
  &gt; The difference is that you need to know the users password for sudo, and you don&#8217;t for UAC. So if a user leaves his PC unattended UAC isn&#8217;t going to stop alleged abusive other user to do something bad, while sudo will require a password (unless you have one of those systems where sudo only requires a password every so often, which imho isn&#8217;t a very good choice)
</p></blockquote>
<p>Isn&#8217;t it the case where a user who isn&#8217;t in the administrators group has to enter credentials for a user who is in the administrator&#8217;s group when a UAC prompt appears?</p>
<p>Assuming my memory is correct the way to emulate sudo is to have one admin user with all other users not in the administrators group. &nbsp;Then when people need to do admin task they use the credentials for the admin user.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-743393">
				<div id="div-comment-743393" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://blog.gbraid.com' rel='external nofollow' class='url'>Gareth</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090605-00/?p=18003#comment-743393">
			June 9, 2009 at 1:35 am</a>		</div>

		<blockquote><p>
  &gt;The difference is that you need to know the users password for sudo, and you don&#8217;t for UAC.
</p></blockquote>
<p>This is a setting. It defaults to not annoying people, but can be set the same as Un*x if required (and often is in corporate environments).</p>
<p>I believe the genesis of this setting is the desire not to annoy people into turning UAC off &#8211; but to ask them to approve actions. &nbsp;Where in a corporate setting you can annoy them as much as you like :-)</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-744793">
				<div id="div-comment-744793" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">mbghtri</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090605-00/?p=18003#comment-744793">
			June 11, 2009 at 12:12 pm</a>		</div>

		<p>Chen&#8217;s Law: On any blog post about Vista, Windows 7, or IE, the comments will eventually degenerate into an off-topic UAC rant.</p>
<p>Corollary: At least one comment will include the obligatory &quot;M$&quot; abbreviation.</p>

		
				</div>
		</li><!-- #comment-## -->
		</ol><!-- .comment-list -->

		<div class="navigation pagination">
					</div>

	
			<p class="no-comments">Comments are closed.</p>
<!-- COMMENTS END -->
</div></td></tr></table>

</body>
</html>
<br/><div class="disclaimer">
*DISCLAIMER: I DO NOT OWN THIS CONTENT. If you are the owner and would like it removed, please
<a target="_blank" href="/contact.htm">contact me</a>.
The content herein is an archived reproduction of entries from
Raymond Chen's "Old New Thing" Blog (most recent link is <a target="_blank" href="https://devblogs.microsoft.com/oldnewthing/">here</a>).
It may have slight formatting modifications for consistency and to improve readability.
<br/><br/>
WHY DID I DUPLICATE THIS CONTENT HERE?
Let me first say this site has never had anything to sell and has never shown ads of any kind. I have nothing monetarily to gain by duplicating content here.
Because I had made my own local copy of this content throughout the years, for ease of using tools like grep, I decided to put it online after I discovered
some of the original content previously and publicly available, had disappeared approximately early to mid 2019.
At the same time, I present the content in an easily accessible theme-agnostic way.
<br/><br/>
The information provided by Raymond's blog is, for all practical purposes, more authoritative on Windows Development than Microsoft's
own MSDN documentation and should be considered supplemental reading to that documentation. The wealth of missing details
provided by this blog that Microsoft could not or did not document about Windows over the years is vital enough, many would agree an online "backup" of these details
is a necessary endeavor. Specifics include:<br/>
<ul>
    <li>
        A "redesign" after 2019 erased thousands of user's comments from previous years. As many have stated, the comments are nearly as important as the postings themselves.
        The archived copies of the postings contained here retain the original comments.
    </li>
    <li>
        The blog has changed domains many times and the urls have otherwise been under constant change since 2003.
        Even when proper redirection has been set up for those links, redirection only works for a limited period of time.
        For example, all of the internal blog links that were valid in early 2019, were broken by 2020 without proper redirection.
    </li>
    <li>
        The blog has been under constant re-design and re-theming since its inception.
        It is downright irritating to deal with a bogged-down site experience as the result of the latest visual themes designed for cell-phone browsers.
        As of this writing, it is cumbersome to navigate titles with only 10 entries per page.
        While it is nice that the official site has a search feature, searching using this index (with all titles on a single page) is much quicker (CTRL-F in most browsers).
    </li>
</ul>
</div><br/>
&lt;-- Back to <a href="index.htm">Old New Thing Archive Index</a>

