<html>
<head>
<title>Why does ICE16 complain about product names longer than 63 characters?</title>
<link rel="stylesheet" href="page.css">
</head><body>
<div class="titlediv"><h2>Why does ICE16 complain about product names longer than 63 characters?</h2></div>
<div class="hdrdiv"><table class="hdrtable" cellspacing="0" cellpadding="0">
<tr><td><b>Date:</b></td><td>October 9, 2007 / year-entry #371</td></tr>
<tr><td><b>Tags:</b></td><td>tipssupport</td></tr>
<tr><td><b>Orig Link:</b></td><td>https://blogs.msdn.microsoft.com/oldnewthing/20071009-00/?p=24853</td></tr>

<tr><td><b>Comments:&nbsp;&nbsp;&nbsp;&nbsp;</b></td><td>19</td></tr>
<tr><td valign="top"><b>Summary:</b></td><td valign="top">If you merge in the Internal Consistency Evaluators into your MSI package, you may run into error ICE16, complaining that the product name is longer than 63 characters. Why is this so bad? Well, it isn't really, at least not any more. The original Windows 95 version of the Add/Remove Programs control panel did limit product...</td></tr>
</table></div>
<hr/>
<table class="contenttable" cellspacing="0" cellpadding="0"><tr><td><div class="contentdiv">
<!-- CONTENT START -->
<p>If you merge in the <a href="http://msdn2.microsoft.com/en-us/library/aa369554.aspx"> Internal Consistency Evaluators</a> into your MSI package, you may run into <a href="http://msdn2.microsoft.com/en-us/library/aa368940.aspx"> error ICE16</a>, complaining that the product name is longer than 63 characters. Why is this so bad?</p>
<p> Well, it isn't really, at least not any more. The original Windows&nbsp;95 version of the Add/Remove Programs control panel did limit product names to 63 characters. (If you had a longer name, it didn't show up at all because the call to <code>RegQueryValueEx</code> failed with <code>ERROR_MORE_DATA</code>.) This limit was raised to around 259 characters starting with Windows&nbsp;2000, the version that introduced the fancy list with <a href="http://blogs.msdn.com/oldnewthing/archive/2005/05/26/422076.aspx"> icons</a> and <a href="http://blogs.msdn.com/oldnewthing/archive/2004/07/09/178342.aspx"> sizes</a>. However, ICE rule&nbsp;16 still checks against the old limitation because it doesn't know whether or not your program was designed to run on versions of Windows prior to Windows&nbsp;2000. </p>
<p> If your program doesn't install on those older versions of Windows, then you can disregard the 63-character limit; the new limit is approximately 259 characters. </p>
<!-- CONTENT END -->
</div></td></tr></table>
<hr/>
<table class="commenttable" cellspacing="0" cellpadding="0"><tr><td><div class="commentdiv"><div class="commentdivhdr">
<!-- COMMENTS START -->
Comments (19)	</div>

	
			<div class="navigation pagination clear-both">
					</div>

		<ol class="comment-list">
					<li class="comment even thread-even depth-1" id="comment-557483">
				<div id="div-comment-557483" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Erzengel</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20071009-00/?p=24853#comment-557483">
			October 9, 2007 at 11:06 am</a>		</div>

		<p>A product name more than 63 characters? Are they including the entire company mission statement or something? Eeesh.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-557493">
				<div id="div-comment-557493" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">pcooper</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20071009-00/?p=24853#comment-557493">
			October 9, 2007 at 11:16 am</a>		</div>

		<p>Do you say &#8220;approximately 259&#8221; because you&#8217;re not sure, or because it varies based on something?</p>
<div class="post">[<i>Because I don&#8217;t care. -Raymond</i>]</div>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-557503">
				<div id="div-comment-557503" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Sp</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20071009-00/?p=24853#comment-557503">
			October 9, 2007 at 11:22 am</a>		</div>

		<blockquote><p>
  &gt; A product name more than 63 characters? Are they including the entire company mission statement or something? Eeesh.
</p></blockquote>
<p>microsoft windows server 2003 small business server service pack 2</p>
<p>66 characters.</p>
<p>But we know, 640K.. err! 63 characters is enough for everyone.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-557513">
				<div id="div-comment-557513" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">benjamin</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20071009-00/?p=24853#comment-557513">
			October 9, 2007 at 11:37 am</a>		</div>

		<p>I kind of wish that this was still enforced, actually.</p>
<p>I get tired of seeing programs that display as &quot;Broderbund Presents a Maxis Program by Berkeley Systems: Kid Pix 2008.&quot; This goes double for programs that use the same text in the folder they create as part of the Start Menu registration, causing that lovely effect where your Programs menu becomes the width of a widescreen monitor.</p>
<p>Obviously this isn&#8217;t Microsoft&#8217;s fault, so I guess I&#8217;m just ranting.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-557523">
				<div id="div-comment-557523" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">John</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20071009-00/?p=24853#comment-557523">
			October 9, 2007 at 11:45 am</a>		</div>

		<p>The longest entry under &quot;Add/Remove Programs&quot; on my computer (XP Pro SP2) is &quot;Security Update for Microsoft Visual Studio 2005 Team Edition for Software Developers &#8211; ENU (KB937061)&quot; at 102 characters. &nbsp;Do I win a prize?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-557533">
				<div id="div-comment-557533" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">John</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20071009-00/?p=24853#comment-557533">
			October 9, 2007 at 11:50 am</a>		</div>

		<p>I&#8217;m also unsure about the 259 limit. &nbsp;From my understanding, MAX_PATH is 260 to account for drive specification (i.e. &quot;C:\&quot;) and a path of 256 characters (including a NULL terminator). &nbsp;256 would make more sense than 260 (why would you worry about drive specification in product name?), but I guess everybody uses MAX_PATH size buffers for everything so why not use it for this as well.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-557543">
				<div id="div-comment-557543" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Erzengel</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20071009-00/?p=24853#comment-557543">
			October 9, 2007 at 11:51 am</a>		</div>

		<blockquote><p>
  &gt;&gt;microsoft windows server 2003 small business server service pack 2</p>
<p>  &gt;&gt;66 characters.
</p></blockquote>
<p>That sounds pretty close to a &quot;mission statement&quot; to me&#8230; Do you really need the &quot;Small Business&quot;? It&#8217;s not like you&#8217;re going to have Small Business and Corporate installed at the same time. Do you really need to say &quot;Service Pack 2&quot; when you could say &quot;SP2&quot;? This is almost like one of those developer &quot;taxes&quot; that needs to be paid&#8211;stop with the ultra-long names. I don&#8217;t want to have to read all of that, and when a user sees such a long name they&#8217;ll briefly be confused (see that book which says you can only hold 5 things in your head at once).</p>
<blockquote><p>
  &gt;&gt;But we know, 640K.. err! 63 characters is enough for everyone
</p></blockquote>
<p>The line has to be drawn somewhere. Personally I prefer the line to be drawn just before where the storage can&#8217;t hold it, like 255 so you can store the length in a byte, or 65535 so you can store it in an 4-byte int (which is why CIL allows for for way too many arguments&#8211;when are you going to have more than 255 arguments being passed into a function? If I&#8217;m a developer on your SDK and I need to pass 1000 arguments to your function, I&#8217;ll be &quot;a little bit annoyed&quot;.)</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-557553">
				<div id="div-comment-557553" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Jonathan O'Connor</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20071009-00/?p=24853#comment-557553">
			October 9, 2007 at 11:57 am</a>		</div>

		<p>Why 259? That&#8217;s a weird number. Are you sure the 9 is the right way up :-)</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-557583">
				<div id="div-comment-557583" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Thoe</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20071009-00/?p=24853#comment-557583">
			October 9, 2007 at 12:54 pm</a>		</div>

		<p>Bigger, ehh longer isnt always better &#8211; a product name should IMHO be able to fit 63-characters, my advice would if you get this warning: Try to make the name shorter!</p>
<p>ie. &#8220;Microsoft Windows Server 2003 SMB &#8211; SP2&#8221; is just fine&#8230;</p>
<p>This whole topic remind of another post:</p>
<p>&#8220;The most important choice in writing is not what you say, it&#8217;s what you don&#8217;t say&#8221;</p>
<div class="post">[<i>Writing clarity sometimes loses to legal issues such as trademark law. -Raymond</i>]</div>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-557623">
				<div id="div-comment-557623" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://wendyhome.com' rel='external nofollow' class='url'>::Wendy::</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20071009-00/?p=24853#comment-557623">
			October 9, 2007 at 3:50 pm</a>		</div>

		<p>I think John should get a prize.</p>
<p>My longest (on Vista) string scraped in at the old-style 63 characters from a company who&#8217;s legal team are necessarily heavy influencers the design procese:</p>
<p>Microsoft Save as PDF Add-in for 2007 Microsoft Office programs</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-557663">
				<div id="div-comment-557663" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://www.levicki.net/' rel='external nofollow' class='url'>Igor</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20071009-00/?p=24853#comment-557663">
			October 9, 2007 at 5:57 pm</a>		</div>

		<p>How about:</p>
<p>Intel(R) Integrated Performance Primitives 5.2 for Windows* on IA-32 Intel(R) Architecture</p>
<p>Btw, Raymond, is it 259 bytes or 259 (unicode) characters? :)</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-557673">
				<div id="div-comment-557673" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Stewart</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20071009-00/?p=24853#comment-557673">
			October 9, 2007 at 6:29 pm</a>		</div>

		<p>Just guessing, but IIRC MAX_PATH is 260, WCHAR programNameBuf[MAX_PATH] would give you 259 characters plus a   terminator &#8211; hence the old limit being 63, i.e. WCHAR programNameBuf[64]</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-rosyna even thread-even depth-1" id="comment-557693">
				<div id="div-comment-557693" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Rosyna</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20071009-00/?p=24853#comment-557693">
			October 9, 2007 at 6:52 pm</a>		</div>

		<p>is it 63/259 characters or bytes or name/sizeof(UTF-16 char)==63/259?</p>
<p>I&#8217;m trying to think of the Korean children.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-557703">
				<div id="div-comment-557703" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Anon</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20071009-00/?p=24853#comment-557703">
			October 10, 2007 at 3:47 am</a>		</div>

		<p>I think MAX_PATH is 260 so you can have</p>
<p>C:&lt;256 chars&gt;&lt;NUL&gt;</p>
<p>Mind you 260 is multiple of 13, and there are 13 UC2-2 chars in a long filename in VFAT. So if you can do 256 you can also do 260. Maybe it dates back to Windows 98.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-557713">
				<div id="div-comment-557713" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Anon</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20071009-00/?p=24853#comment-557713">
			October 10, 2007 at 4:12 am</a>		</div>

		<p>Ooh, I know!</p>
<p>260 was considered a very lucky number by the long lived and peaceful Yn&#8217;Gon*Que aliens. They formed a short lived colony on Earth back in Jurassic Period (at spacetime coordinates 260,260,260,260,260) but they ran out of food, fought a terrible civil war, got hit by an asteroid shower and then decimated by a plague from Earth based bacteria.</p>
<p>They were eventually wiped out when the endless waves of giant carnivorous (and almost completely blaster proof) dinosaurs that had attacked their compound day and night since they arrived finally overwhelmed and ate their few living defenders.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-557723">
				<div id="div-comment-557723" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Anon</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20071009-00/?p=24853#comment-557723">
			October 10, 2007 at 4:14 am</a>		</div>

		<p>Ooh, I know!</p>
<p>260 was considered a very lucky number by the long lived and peaceful Yn&#8217;Gon*Que aliens. They formed a short lived colony on Earth back in Jurassic Period (at spacetime coordinates 260,260,260,260,260) but they ran out of food, fought a terrible civil war, got hit by an asteroid shower and then decimated by a plague from Earth based bacteria.</p>
<p>They were eventually wiped out when the endless waves of giant carnivorous (and almost completely blaster proof) dinosaurs that had attacked their compound day and night since they arrived finally overwhelmed and ate their few living defenders.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-557733">
				<div id="div-comment-557733" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Gedoe</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20071009-00/?p=24853#comment-557733">
			October 10, 2007 at 6:42 am</a>		</div>

		<p>@Anon :) but don&#8217;t post it another 258 times :P</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-557793">
				<div id="div-comment-557793" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">LFN</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20071009-00/?p=24853#comment-557793">
			October 10, 2007 at 11:44 am</a>		</div>

		<p>&quot;Microsoft RAW Image Thumbnailer and Viewer for Windows XP Version 1.0 (Build 50)&quot; is the longest I got.</p>
<p>It&#8217;s installed in &quot;C:Program FilesPro Imaging PowertoysMicrosoft RAW Image Thumbnailer and Viewer for Windows XP&quot;.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-558083">
				<div id="div-comment-558083" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">SR</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20071009-00/?p=24853#comment-558083">
			October 11, 2007 at 11:02 am</a>		</div>

		<p>How about only putting the program name in the &quot;program name&quot;.</p>
<p>eg: The program name is just &quot;Word&quot;, Microsoft is the publisher, Office is the suite of programs and 2003 is the version. They are all important pieces of information, but they are NOT part of the program name. The program&#8217;s window title and icon should read just &quot;Word&quot; &#8211; the user has no need for the other stuff.</p>

		
				</div>
		</li><!-- #comment-## -->
		</ol><!-- .comment-list -->

		<div class="navigation pagination">
					</div>

	
			<p class="no-comments">Comments are closed.</p>
<!-- COMMENTS END -->
</div></td></tr></table>

</body>
</html>
<br/><div class="disclaimer">
*DISCLAIMER: I DO NOT OWN THIS CONTENT. If you are the owner and would like it removed, please
<a target="_blank" href="/contact.htm">contact me</a>.
The content herein is an archived reproduction of entries from
Raymond Chen's "Old New Thing" Blog (most recent link is <a target="_blank" href="https://devblogs.microsoft.com/oldnewthing/">here</a>).
It may have slight formatting modifications for consistency and to improve readability.
<br/><br/>
WHY DID I DUPLICATE THIS CONTENT HERE?
Let me first say this site has never had anything to sell and has never shown ads of any kind. I have nothing monetarily to gain by duplicating content here.
Because I had made my own local copy of this content throughout the years, for ease of using tools like grep, I decided to put it online after I discovered
some of the original content previously and publicly available, had disappeared approximately early to mid 2019.
At the same time, I present the content in an easily accessible theme-agnostic way.
<br/><br/>
The information provided by Raymond's blog is, for all practical purposes, more authoritative on Windows Development than Microsoft's
own MSDN documentation and should be considered supplemental reading to that documentation. The wealth of missing details
provided by this blog that Microsoft could not or did not document about Windows over the years is vital enough, many would agree an online "backup" of these details
is a necessary endeavor. Specifics include:<br/>
<ul>
    <li>
        A "redesign" after 2019 erased thousands of user's comments from previous years. As many have stated, the comments are nearly as important as the postings themselves.
        The archived copies of the postings contained here retain the original comments.
    </li>
    <li>
        The blog has changed domains many times and the urls have otherwise been under constant change since 2003.
        Even when proper redirection has been set up for those links, redirection only works for a limited period of time.
        For example, all of the internal blog links that were valid in early 2019, were broken by 2020 without proper redirection.
    </li>
    <li>
        The blog has been under constant re-design and re-theming since its inception.
        It is downright irritating to deal with a bogged-down site experience as the result of the latest visual themes designed for cell-phone browsers.
        As of this writing, it is cumbersome to navigate titles with only 10 entries per page.
        While it is nice that the official site has a search feature, searching using this index (with all titles on a single page) is much quicker (CTRL-F in most browsers).
    </li>
</ul>
</div><br/>
&lt;-- Back to <a href="index.htm">Old New Thing Archive Index</a>

