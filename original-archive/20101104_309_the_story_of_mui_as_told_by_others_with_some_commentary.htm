<html>
<head>
<title>The story of MUI, as told by others (with some commentary)</title>
<link rel="stylesheet" href="page.css">
</head><body>
<div class="titlediv"><h2>The story of MUI, as told by others (with some commentary)</h2></div>
<div class="hdrdiv"><table class="hdrtable" cellspacing="0" cellpadding="0">
<tr><td><b>Date:</b></td><td>November 4, 2010 / year-entry #310</td></tr>
<tr><td><b>Tags:</b></td><td>other</td></tr>
<tr><td><b>Orig Link:</b></td><td>https://blogs.msdn.microsoft.com/oldnewthing/20101104-00/?p=12353</td></tr>

<tr><td><b>Comments:&nbsp;&nbsp;&nbsp;&nbsp;</b></td><td>33</td></tr>
<tr><td valign="top"><b>Summary:</b></td><td valign="top">First, the story as told by others: Information about Windows Vista Multilingual User Interface (MUI) What the %$#& is up with localized paths in Vista? Here is what's up with localized paths in Vista (and in Windows!) If you had gotten there first, you might have staked your claim too! Making things better out from...</td></tr>
</table></div>
<hr/>
<table class="contenttable" cellspacing="0" cellpadding="0"><tr><td><div class="contentdiv">
<!-- CONTENT START -->
<p>First, the story as told by others:</p>
<ul>
<li>     <a href="http://blogs.msdn.com/astebner/archive/2007/01/13/information-about-windows-vista-multilingual-user-interface-mui.aspx">     Information about Windows Vista Multilingual User Interface (MUI)</a> </li>
<li>     <a href="http://blogs.msdn.com/michkap/archive/2007/01/18/1487464.aspx">     What the %$#&amp; is up with localized paths in Vista?</a> </li>
<li>     <a href="http://blogs.msdn.com/michkap/archive/2007/02/21/1736611.aspx">     Here is what's up with localized paths in Vista (and in Windows!)</a> </li>
<li>     <a href="http://blogs.msdn.com/michkap/archive/2007/09/21/5025885.aspx">     If you had gotten there first, you might have staked your claim too!</a> </li>
<li>     <a href="http://blogs.msdn.com/michkap/archive/2007/10/31/5790802.aspx">     Making things better out from under people: the story of MUI</a> </li>
<li>     <a href="http://blogs.msdn.com/cjacks/archive/2008/01/07/why-can-t-i-rename-a-copy-of-my-documents-folder-on-windows-vista.aspx">     Why Can't I Rename a Copy of My "Documents" Folder on Windows Vista?</a> </li>
</ul>
<p> Now the question you're all going to ask so I may as well answer it: Why is this information kept in a <code>desktop.ini</code> file instead of being attached to the file itself (say, in an alternate stream)? If it were in an alternate stream, then it would track the file when it was moved or copied. </p>
<p> First answer: Because alternate streams require NTFS. Localized names were introduced in Windows&nbsp;2000, and Windows&nbsp;2000 gave you the option of formatting your drive as FAT or NTFS. (It wasn't until Windows&nbsp;Vista that NTFS became mandatory.) Therefore the mechanism for localized names needed to work when your drive was formatted as FAT. </p>
<p> Okay, fine, maybe you tell people, "Sorry, this feature requires NTFS." All those multinational corporations who use FAT-formatted drives in the year 2000 are screwed. </p>
<p> Well, placing the information in an alternate data stream means that each file would have to be accessed <i>just to get its name</i>. Remember, <a href="http://blogs.msdn.com/oldnewthing/archive/2006/04/06/569873.aspx"> it's more efficient when you buy in bulk</a>. Consider a directory with 500 files. A simple directory listing like one provided by <code>cmd.exe</code> takes, say, seven I/O requests (open directory, five "give me the next 100 files", close directory). If each file had to be opened in order to probe for an alternate stream, you now have 507 I/O requests: open directory, five "give me the next 100 files", close directory; and then 500 "open alternate stream on this file" calls that fail. And that was the optimistic case where the localized name doesn't exist. For the pessimistic case where every file has a localized name, the I/O count balloons to 1507: open directory, five "give me the next 100 files", close directory; and then 500&nbsp;&times; (open alternate stream, read localized name, close alternate stream). </p>
<p> You increased the number of I/O requests by a factor of over 200. And when you are looking at files on a slow network (hello, multinational company with servers all over the world), that factor can be deadly. Suppose the ping time to the server is 500ms. The <code>cmd.exe</code> program gets you the directory listing in three and a half seconds. The alternate data stream localized name version takes <i>twelve minutes</i>. </p>
<p> On the other hand, if all the localized names are placed in a single file, then the I/O count is only 10: open directory, five "give me the next 100 files", close directory; open <code>desktop.ini</code>, read contents, close <code>desktop.ini</code>. We're down to five seconds. Not as good as three and a half seconds, but way better than twelve minutes. And if, in the common case, the directory contains no localized names, the  <i>open <code>desktop.ini</code></i> step fails, and we save two I/O's, bringing our time down to four seconds. And then you can be clever and say, "Wait a second, I already have the directory listing; I can just look at the results to see if <code>desktop.ini</code> is on the list. If not, then I don't even have to bother trying to open it!" Now you are back to three and a half seconds. </p>
<p> Okay, maybe you tell people, "Sorry, this feature requires a high-speed network." All those multinational corporations with servers around the world are screwed. The theoretically highest-speed network connection between New York and Tokyo has a 72ms ping time because that's how fast it takes light itself to travel that distance and back. Your 500-file directory takes nearly two minutes to display. </p>
<p> Seeing as multinational corporations were the initial target audience for the MUI feature (since they're the ones who are most likely to have users with different language preferences), designing your feature so that your target audience can't use it seems like a pretty bad execution plan. </p>
<p> A file's name is traditionally considered metadata, and traditionally, metadata is visible without requiring access to the file. A file can show up in a directory listing even though you don't have access to it. But if the file's localized name is stored in the file itself, you now have the situation where you don't even know the name of the file because you can't access it. This is even worse than <a href="http://blogs.msdn.com/oldnewthing/archive/2009/05/28/9645162.aspx"> <i>I'm sorry, you don't have permission to know where this shortcut file should show up in the Explorer window</i></a>. This would be <i>I'm sorry, you don't have permission to know the name of the file in this directory listing</i>. </p>
<p> Remember that reading from an alternate data stream <a href="http://blogs.msdn.com/oldnewthing/archive/2007/01/09/1436685.aspx"> triggers a recall</a> if the file had been archived to tape. You don't want to have to restore an entire directory from tape just because somebody opened the folder in Explorer. </p>
<p> And finally, alternate data streams are very fragile. Any tool that processes a file has a decent chance of inadvertently destroying the alternate data streams. (And good luck if your backup program doesn't preserve the alternate data streams.) </p>
<!-- CONTENT END -->
</div></td></tr></table>
<hr/>
<table class="commenttable" cellspacing="0" cellpadding="0"><tr><td><div class="commentdiv"><div class="commentdivhdr">
<!-- COMMENTS START -->
Comments (33)	</div>

	
			<div class="navigation pagination clear-both">
					</div>

		<ol class="comment-list">
					<li class="comment even thread-even depth-1" id="comment-871443">
				<div id="div-comment-871443" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Vilx-</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20101104-00/?p=12353#comment-871443">
			November 4, 2010 at 7:57 am</a>		</div>

		<p>So&#8230; why not add enhancements to FAT and NTFS and contain the localization info in the metadata? :)</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-871453">
				<div id="div-comment-871453" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Joshua Ganes</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20101104-00/?p=12353#comment-871453">
			November 4, 2010 at 8:01 am</a>		</div>

		<p>@Vilx-</p>
<p>That was my basic thought too. I&#39;m not familiar with these formats, but I imagine that at this point it would be an unholy nightmare to try to add to these long-established specifications. It might be nice to add this in the next incarnation of Windows, however.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-871463">
				<div id="div-comment-871463" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">asf</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20101104-00/?p=12353#comment-871463">
			November 4, 2010 at 8:01 am</a>		</div>

		<p>As far as the rename a copy issue goes, IIRC desktop.ini&#39;s have a DeleteOnCopy section that would have stripped the name if some tool other than robocopy had been used I&#39;m guessing</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-871473">
				<div id="div-comment-871473" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Alex Grigoriev</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20101104-00/?p=12353#comment-871473">
			November 4, 2010 at 8:03 am</a>		</div>

		<p>I remember reading on TDWTF about those IT bosses who seriously thought FAT is more secure/stable than NTFS.</p>
<p>And archived files. Seriously, why this marginal feature even deserves mentioning. Last I heard, it&#39;s phased out. The whole tape support is being phased out. Good riddance.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-871483">
				<div id="div-comment-871483" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">frymaster</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20101104-00/?p=12353#comment-871483">
			November 4, 2010 at 8:28 am</a>		</div>

		<p>&quot;Seriously, why this marginal feature even deserves mentioning. Last I heard, it&#39;s phased out&quot;</p>
<p>The situation in the year 2000, however, was probably different</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-871493">
				<div id="div-comment-871493" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Adam Rosenfield</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20101104-00/?p=12353#comment-871493">
			November 4, 2010 at 8:48 am</a>		</div>

		<p>I&#39;m really curious as to how many people have ever used a file archived to tape. &nbsp;I&#39;d never even heard of that feature until I started reading this blog.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-871503">
				<div id="div-comment-871503" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">dave</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20101104-00/?p=12353#comment-871503">
			November 4, 2010 at 8:48 am</a>		</div>

		<blockquote><p>
  Why not add enhancements to NTFS &#8230;
</p></blockquote>
<p>Because, quite frankly, applications should solve application problems in application code, not go running to the file system team for everything they want to do.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-871513">
				<div id="div-comment-871513" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Frode Aarebrot</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20101104-00/?p=12353#comment-871513">
			November 4, 2010 at 10:23 am</a>		</div>

		<p>@Adam Rosenfield: My client site archives all the network drives to tape every day. Restore from tape isn&#39;t common, and it&#39;s usually single files that need to be restored. But there have been cases of several GB of data being requested from archives because someone deleted an entire folder and nobody noticed for 4 months. Tapes are a lot cheaper to purchase compared to hard drives. Our tapes aren&#39;t going anywhere anytime soon.</p>
<p>That said, the tapes aren&#39;t available as a network drive though. As far as I know they&#39;re stored in a box somewhere with a date written in sharpie on the outside. Data is required to be kept for something like 7 years. Somewhere there&#39;s a big room full of boxes.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-871523">
				<div id="div-comment-871523" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Yuri Khan</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20101104-00/?p=12353#comment-871523">
			November 4, 2010 at 11:18 am</a>		</div>

		<p>I have another solution: Leave file names English-only and teach users accordingly. Deep down below, the files are still named in English (or in the first language that was installed, which is worse), no matter what desktop.ini says; and sooner or later this fact will manifest itself to the user, in the most inconveniencing way if the user is not prepared.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-871533">
				<div id="div-comment-871533" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Silverhalide</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20101104-00/?p=12353#comment-871533">
			November 4, 2010 at 11:21 am</a>		</div>

		<p>Not withstanding the NTFS vs. FAT argument, couldn&#39;t a lot of the arguments about alternative streams be dealt with by putting the localized names in an alternate stream of the directory itself? Now, you have two reads (directory in English, directory in localized language), instead of the 500 or whatever number Raymond uses. Further, it seems like a logical extension &#8212; the name of the file is kept in the directory, the localized name of the file is kept in (the localization stream of) the directory.</p>
<p>@Adam Rosenfield: Yes, many of our customers archive hundreds of gigabytes of medical images to tape.</p>
<div class="post">[<i>Yes, basically you need to keep it somewhere outside the file. Desktop.ini, or an alternate stream on the directory. Desktop.ini has the advantages of (1) working on all file systems, (2) being something that backup/restore programs know how to back up and restore, (3) having its own ACL, if you want the access to the stream to be different from the access to the directory. (I admire using the &quot;if you ignore the NTFS requirement&quot; clause, it&#39;s like opening with &quot;Notwithstanding that we&#39;re on the wrong side of the airtight hatchway.&quot;) -Raymond</i>]</div>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-871543">
				<div id="div-comment-871543" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">mh</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20101104-00/?p=12353#comment-871543">
			November 4, 2010 at 1:03 pm</a>		</div>

		<blockquote><p>
  My client site archives all the network drives to tape every day. Restore from tape isn&#39;t common, and it&#39;s usually single files that need to be restored. But there have been cases of several GB of data being requested from archives because someone deleted an entire folder and nobody noticed for 4 months. Tapes are a lot cheaper to purchase compared to hard drives. Our tapes aren&#39;t going anywhere anytime soon.
</p></blockquote>
<p>That&#39;s not archive, it&#39;s backup. &nbsp;Tape is still very suitable for backup in a lot of cases, but what&#39;s being talked about here is a HSM solution where older data gets pushed off to slower secondary media.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-871553">
				<div id="div-comment-871553" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Me</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20101104-00/?p=12353#comment-871553">
			November 4, 2010 at 1:06 pm</a>		</div>

		<p>What I still don&#39;t get (after skimming the articles) about the localized dir names is the following:</p>
<p>On German Vista/7 explorer shows &quot;C:Programme&quot; while cmd shows &quot;C:Program Files&quot;. So far so good.</p>
<p>Editing the text in the explorer bar (i.e. going from bread crumb to edit) shows the english names again. But here comes the catch: The autocompletion after entering e.g. &quot;C:Pro&quot; only suggests the German name and then <em>does not work</em>. Explorer fails to accept its suggested input of &quot;C:Programme&quot;.</p>
<p>Is this a PEBKAC situation, a bug or a &quot;feature&quot; by design?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-871563">
				<div id="div-comment-871563" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">kog999</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20101104-00/?p=12353#comment-871563">
			November 4, 2010 at 1:26 pm</a>		</div>

		<p>&quot;I have another solution: Leave file names English-only and teach users accordingly&quot;</p>
<p>Seriously? I&#39;m an English-only speaker so that would work for me, but if you were to change that sentence to say &quot;Leave file names Japanese-only and teach users accordingly&quot; I would be quite upset at windows. imagine seeing a bunch of strange Japanese characters trying to remember which series of wingdings within the list of 500 my report is in.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-871573">
				<div id="div-comment-871573" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">JonPotter</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20101104-00/?p=12353#comment-871573">
			November 4, 2010 at 1:44 pm</a>		</div>

		<p>@Me: I&#39;d say it&#39;s a bug. Explorer doesn&#39;t recognise it if you type in the translated name &#8211; looks like they &quot;forgot&quot; about that particular case.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-871583">
				<div id="div-comment-871583" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">@Joshua Ganes</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20101104-00/?p=12353#comment-871583">
			November 4, 2010 at 4:26 pm</a>		</div>

		<p>@Joshua Ganes &quot;It might be nice to add this in the next incarnation of Windows, however.&quot; The F/OSS Conspiracy theorists would have a field day with something like that. I can just see the headlines now &quot;Microsoft takes another victim in its EEE strategy&quot;.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-871593">
				<div id="div-comment-871593" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Miral</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20101104-00/?p=12353#comment-871593">
			November 4, 2010 at 7:18 pm</a>		</div>

		<p>@Me, @JonPotter: I think it&#39;s mostly intentional, actually, albeit a little confusing.</p>
<p>In XP, localisation was done by physically changing the folder names (so a German installation of Windows would actually have C:Programme on disk, and there would be no C:Program Files). &nbsp;One of the problems with this is that if you switched UI languages then the folder names wouldn&#39;t change, which would confuse people using the same PC with multiple users, each running their own language (admittedly, not common, but as Raymond said, this is intended for those big multinational companies &#8212; think about remote login servers for a moment). &nbsp;The other problem with it is that stupid software didn&#39;t think to check the folder name and assumed it would always be called C:Program Files, and thus broke horribly on localised PCs. &nbsp;(And again, some would say &quot;and they deserve to&quot;, but the big companies wouldn&#39;t look favourably on an OS upgrade that stopped their old and crusty LOB apps from working.)</p>
<p>In Vista/7, it was changed so that the name on disk is fixed, but the displayed name varies according to whatever the current name at the moment is. &nbsp;This fixes both of the problems from before, but introduces an odd disconnect &#8212; pathnames (which is what you&#39;re editing if you click into the address bar and start typing) use the on-disk paths, but the breadcrumbs themselves (and the folder view) shows the localised name. &nbsp;Windows doesn&#39;t actually have a way to represent a path using the localised names &#8212; paths are always physical.</p>
<p>An interesting quirk of this is that if you navigate through to some folder under a localised location (eg. the breadcrumb bar shows C: &gt; Programme &gt; Some App), and then click into the bar to switch to path editing, then the display will change to the physical path (eg. C:Program FilesSome App). &nbsp;Then when you click out again it&#39;ll change back.</p>
<p>Yes, it&#39;s a bit weird. &nbsp;But if you think about it, you&#39;ll see why the autocomplete won&#39;t work on the localised names &#8212; and it&#39;s the same reason as discussed in this post.</p>
<p>[Disclaimer: I have no connection to MS, so I don&#39;t know if this is the &quot;real&quot; reason or not. &nbsp;But it makes sense to me.]</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-871603">
				<div id="div-comment-871603" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">JonPotter</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20101104-00/?p=12353#comment-871603">
			November 4, 2010 at 9:08 pm</a>		</div>

		<p>@Miral: I agree, in part, but if you re-read Me&#39;s original post you&#39;ll see that the main problem is that the autocomplete actually completes the <em>localised</em> names. If you type C:Prog on a German system, it will auto-complete as in C:Programme, NOT c:Program Files. So if nothing else I would say that definitely is a bug &#8211; what&#39;s the point of auto-completing a path that won&#39;t be recognised when you press return?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-871613">
				<div id="div-comment-871613" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Alex Grigoriev</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20101104-00/?p=12353#comment-871613">
			November 4, 2010 at 10:08 pm</a>		</div>

		<p>@Frode Aarebrot:</p>
<p>Those are backups, not offline files. In 2010 it&#39;s time to get with the program already and use &quot;snapshots&quot; (or &quot;previous versions&quot;) feature of NTFS. Available like since 2005 or so.</p>
<p>And I don&#39;t think it&#39;s possible to buy 2TB of uncompressed tape space for $150.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-871633">
				<div id="div-comment-871633" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">ender</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20101104-00/?p=12353#comment-871633">
			November 5, 2010 at 2:03 am</a>		</div>

		<p>The English names on disk, localized names in (most) UI is really confusing &#8211; I&#39;ve had several users complain that my (pre-Vista) program showed different paths than Explorer, and once this was fixed that the directory listing shows one thing, but the text box requires something else (this even confused me for a when I first encountered it).</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-871643">
				<div id="div-comment-871643" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Steve</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20101104-00/?p=12353#comment-871643">
			November 5, 2010 at 5:19 am</a>		</div>

		<p>Yes, in 2010 people do still use archive to tape solutions. If you don&#39;t think so, just write an enterprise indexing solution that doesn&#39;t respect the archive bit and see how fast those hot fix request start popping in as you drag hundreds of thousands of files back off of tape.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-871683">
				<div id="div-comment-871683" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Florian K.</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20101104-00/?p=12353#comment-871683">
			November 5, 2010 at 7:53 am</a>		</div>

		<p>&quot;Editing the text in the explorer bar (i.e. going from bread crumb to edit) shows the english names again. But here comes the catch: The autocompletion after entering e.g. &quot;C:Pro&quot; only suggests the German name and then <em>does not work</em>. Explorer fails to accept its suggested input of &quot;C:Programme&quot;.&quot;</p>
<p>Actually, I just tried on German Windows 7 x64. Entering &quot;C:Pro&quot; suggests both &quot;C:Programme&quot; and &quot;C:Program Files&quot; (and the corresponding x86 versions) and all of them work. Entering &quot;C:Ben&quot; also suggests &quot;C:Benutzer&quot;, which leads to &quot;C:Users&quot;. So on my system it works like it should (with one exception: For some stupid reason, I have a real &quot;C:Programme&quot; folder, so entering that into the bar will lead to this one, not to &quot;C:Program Files&quot;).</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-871763">
				<div id="div-comment-871763" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Jules</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20101104-00/?p=12353#comment-871763">
			November 5, 2010 at 8:37 am</a>		</div>

		<p>@Alex Grigoriev</p>
<p><a rel="nofollow" target="_new" href="http://www.ukofficedirect.co.uk/sony-800-1600gb-lto-4-prd_368794.aspx" rel="nofollow">http://www.ukofficedirect.co.uk/sony-800-1600gb-lto-4-prd_368794.aspx</a></p>
<p>800GB uncompressed for about Â£30 == about $50, so 2.4TB for the $150 you suggested. &nbsp;Admittedly not a big saving over disks, but probably more reliable for long term storage situations.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-871843">
				<div id="div-comment-871843" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Vilx-</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20101104-00/?p=12353#comment-871843">
			November 5, 2010 at 10:53 am</a>		</div>

		<p>Is it not so that this feature has created more problems than it has solved?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-871883">
				<div id="div-comment-871883" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Bill</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20101104-00/?p=12353#comment-871883">
			November 5, 2010 at 12:42 pm</a>		</div>

		<p>@Vilx: Yes, it is not so.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-871913">
				<div id="div-comment-871913" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">jader3rd</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20101104-00/?p=12353#comment-871913">
			November 5, 2010 at 2:15 pm</a>		</div>

		<p>Everytime I have a new account on a Vista/Win 7 machine the first thing I do is go through all of the directories under %UserProfile% and delete the LocalizedResourceName line from all of the Desktop.ini files.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-871803">
				<div id="div-comment-871803" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Medinoc</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20101104-00/?p=12353#comment-871803">
			November 5, 2010 at 9:10 am</a>		</div>

		<p>If I understand correctly,</p>
<p>* for directories, the localized name is in the directory itself&#39;s Desktop.ini file,</p>
<p>* while for files, the localized name is in the parent directory&#39;s Desktop.ini file?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-brunopitrus even thread-even depth-1" id="comment-872163">
				<div id="div-comment-872163" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/kinokijuf' rel='external nofollow' class='url'>kinokijuf</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20101104-00/?p=12353#comment-872163">
			November 8, 2010 at 9:31 am</a>		</div>

		<p>Is there a registry hack to disable showing localized names?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-872383">
				<div id="div-comment-872383" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">nobugz</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20101104-00/?p=12353#comment-872383">
			November 8, 2010 at 5:07 pm</a>		</div>

		<p>Makes sense. &nbsp;Taking a guess: this is what killed WinFS?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-dwalker-wk even thread-even depth-1" id="comment-872573">
				<div id="div-comment-872573" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/DWalker' rel='external nofollow' class='url'>DWalker</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20101104-00/?p=12353#comment-872573">
			November 9, 2010 at 8:27 am</a>		</div>

		<p>@Frode Aarebrot:</p>
<p>I agree with Alex: &nbsp;Hard drives are cheaper than tapes nowadays, on a cost per byte basis.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-dwalker-wk odd alt thread-odd thread-alt depth-1" id="comment-872593">
				<div id="div-comment-872593" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/DWalker' rel='external nofollow' class='url'>DWalker</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20101104-00/?p=12353#comment-872593">
			November 9, 2010 at 8:32 am</a>		</div>

		<p>@Frode Aarebrot:</p>
<p>Well, that link shows tape at a 50% discount, so if you compare suggested retail price, disk is cheaper.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-872713">
				<div id="div-comment-872713" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Mark Wooding</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20101104-00/?p=12353#comment-872713">
			November 9, 2010 at 12:01 pm</a>		</div>

		<p>Two things: Firstly (and less importantly), I&#39;d have thought that dynamically translating folder names made it harder to give users reliable instructions. &nbsp;I can&#39;t tell people to look in `Program Files&#39;, for example, because that folder might have a different name for the reader &#8212; even (now) that we actually use the same machine. &nbsp;Given that Microsoft doesn&#39;t do these sorts of things lightly, does anyone know what the costs of this problem actually are relative to the obvious benefits of having things in users&#39; preferred languages? &nbsp;(The Unix approach is simply for the main system directories to have runic names which are more or less incomprehensible to everyone.)</p>
<p>Secondly, I&#39;ll dispute Raymond&#39;s analysis of the network server case: he makes a classic confusion of latency versus throughput. &nbsp;I&#39;m sure that CIFS is capable of pipelining requests, so we should be counting only necessary round trips: one for the directory contents and two (open and read, respectively concurrent!) for each of the files&#39; alternate name streams. &nbsp;Raymond&#39;s other reasons seem sound, though.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-873333">
				<div id="div-comment-873333" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">640k</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20101104-00/?p=12353#comment-873333">
			November 10, 2010 at 4:07 pm</a>		</div>

		<blockquote><p>
  I can&#39;t tell people to look in `Program Files&#39;
</p></blockquote>
<p>Tell them to look in C:PROGRA~1 then :)</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-873373">
				<div id="div-comment-873373" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">When will it stop?</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20101104-00/?p=12353#comment-873373">
			November 10, 2010 at 6:16 pm</a>		</div>

		<p>Are there 3 different names for Program Files?</p>
<p>Progra~1, Program Files, and localized. Insane!</p>
<p>Why not store the non-localized LFN at the same place as the localized LFN?</p>
<div class="post">[<i>See &quot;reason one&quot; above. -Raymond</i>]</div>

		
				</div>
		</li><!-- #comment-## -->
		</ol><!-- .comment-list -->

		<div class="navigation pagination">
					</div>

	
			<p class="no-comments">Comments are closed.</p>
<!-- COMMENTS END -->
</div></td></tr></table>

</body>
</html>
<br/><div class="disclaimer">
*DISCLAIMER: I DO NOT OWN THIS CONTENT. If you are the owner and would like it removed, please
<a target="_blank" href="/contact.htm">contact me</a>.
The content herein is an archived reproduction of entries from
Raymond Chen's "Old New Thing" Blog (most recent link is <a target="_blank" href="https://devblogs.microsoft.com/oldnewthing/">here</a>).
It may have slight formatting modifications for consistency and to improve readability.
<br/><br/>
WHY DID I DUPLICATE THIS CONTENT HERE?
Let me first say this site has never had anything to sell and has never shown ads of any kind. I have nothing monetarily to gain by duplicating content here.
Because I had made my own local copy of this content throughout the years, for ease of using tools like grep, I decided to put it online after I discovered
some of the original content previously and publicly available, had disappeared approximately early to mid 2019.
At the same time, I present the content in an easily accessible theme-agnostic way.
<br/><br/>
The information provided by Raymond's blog is, for all practical purposes, more authoritative on Windows Development than Microsoft's
own MSDN documentation and should be considered supplemental reading to that documentation. The wealth of missing details
provided by this blog that Microsoft could not or did not document about Windows over the years is vital enough, many would agree an online "backup" of these details
is a necessary endeavor. Specifics include:<br/>
<ul>
    <li>
        A "redesign" after 2019 erased thousands of user's comments from previous years. As many have stated, the comments are nearly as important as the postings themselves.
        The archived copies of the postings contained here retain the original comments.
    </li>
    <li>
        The blog has changed domains many times and the urls have otherwise been under constant change since 2003.
        Even when proper redirection has been set up for those links, redirection only works for a limited period of time.
        For example, all of the internal blog links that were valid in early 2019, were broken by 2020 without proper redirection.
    </li>
    <li>
        The blog has been under constant re-design and re-theming since its inception.
        It is downright irritating to deal with a bogged-down site experience as the result of the latest visual themes designed for cell-phone browsers.
        As of this writing, it is cumbersome to navigate titles with only 10 entries per page.
        While it is nice that the official site has a search feature, searching using this index (with all titles on a single page) is much quicker (CTRL-F in most browsers).
    </li>
</ul>
</div><br/>
&lt;-- Back to <a href="index.htm">Old New Thing Archive Index</a>

