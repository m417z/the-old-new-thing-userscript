<html>
<head>
<title>Why are dialog boxes initially created hidden?</title>
<link rel="stylesheet" href="page.css">
</head><body>
<div class="titlediv"><h2>Why are dialog boxes initially created hidden?</h2></div>
<div class="hdrdiv"><table class="hdrtable" cellspacing="0" cellpadding="0">
<tr><td><b>Date:</b></td><td>March 11, 2004 / year-entry #93</td></tr>
<tr><td><b>Tags:</b></td><td>history</td></tr>
<tr><td><b>Orig Link:</b></td><td>https://blogs.msdn.microsoft.com/oldnewthing/20040311-00/?p=40303</td></tr>

<tr><td><b>Comments:&nbsp;&nbsp;&nbsp;&nbsp;</b></td><td>17</td></tr>
<tr><td valign="top"><b>Summary:</b></td><td valign="top">You may not have noticed it until you looked closely, but dialog boxes are actually created hidden initially, even if you specify WS_VISIBLE in the template. The reason for this is historical. Rewind back to the old days (we're talking Windows 1.0), graphics cards are slow and CPUs are slow and memory is slow. You...</td></tr>
</table></div>
<hr/>
<table class="contenttable" cellspacing="0" cellpadding="0"><tr><td><div class="contentdiv">
<!-- CONTENT START -->
<p>You may not have noticed it until you looked closely,  but dialog boxes are actually created hidden initially,  even if you specify WS_VISIBLE in the template.  The reason for this is historical.</p>
<p>  Rewind back to the old days (we're talking Windows 1.0),  graphics cards are slow and  CPUs are slow and memory is slow. You can  pick a menu option that displays a dialog and  wait a second or two for the dialog to get loaded  off the floppy disk. (Hard drives are for the rich  kids.) And then you have to wait for the dialog box  to paint.  </p>
<p>  To save valuable seconds, dialog boxes are created  initially hidden and all typeahead is processed while  the dialog stays hidden.  Only after the typeahead  is finished is the dialog box finally shown.  And if you typed far ahead enough and hit Enter,  you might even have been able to finish the entire dialog  box without it ever being shown!  Now that's efficiency.  </p>
<p>  Of course, nowadays, programs are stored on hard drives  and you can't (normally) out-type a hard drive, so this optimization  is largely wasted, but the behavior remains for compatibility  reasons.  </p>
<p>  Actually this behavior still serves a useful purpose:  If the dialog were initially created visible, then the  user would be able to see all the controls being created  into it, and watch as WM_INITDIALOG ran (changing default  values, hiding and showing controls, moving  controls around...)  This is both ugly and distracting.  ("How come the box comes up checked, then suddenly unchecks  itself before I can click on it?")  </p>
<!-- CONTENT END -->
</div></td></tr></table>
<hr/>
<table class="commenttable" cellspacing="0" cellpadding="0"><tr><td><div class="commentdiv"><div class="commentdivhdr">
<!-- COMMENTS START -->
Comments (17)	</div>

	
			<div class="navigation pagination clear-both">
					</div>

		<ol class="comment-list">
					<li class="comment even thread-even depth-1" id="comment-153373">
				<div id="div-comment-153373" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Moi</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040311-00/?p=40303#comment-153373">
			March 11, 2004 at 7:09 am</a>		</div>

		<p>I must confess I had always thought the reason in the last paragraph was behind it all. History&#8217;s fascinating.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-153503">
				<div id="div-comment-153503" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Marty Fried</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040311-00/?p=40303#comment-153503">
			March 11, 2004 at 1:16 pm</a>		</div>

		<p>Interesting, but the part about hard disks can&#8217;t be true.  I don&#8217;t think anybody ran Windows from floppy disk; installed from floppy, yes, but run?  I don&#8217;t think so.  I know I had a hard disk then, and I wasn&#8217;t rich. I had a whopping 30 meg at that time.<br /></p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-153513">
				<div id="div-comment-153513" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Jordan Russell</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040311-00/?p=40303#comment-153513">
			March 11, 2004 at 1:30 pm</a>		</div>

		<p>&quot;To save valuable seconds, dialog boxes are created initially hidden and all typeahead is processed while the dialog stays hidden.&quot;</p>
<p>What happens if a second, nested dialog box is displayed as a result of a certain typed-ahead key? Does the first dialog box stay hidden while the second dialog box is displayed?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-153523">
				<div id="div-comment-153523" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Jordan Russell</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040311-00/?p=40303#comment-153523">
			March 11, 2004 at 1:42 pm</a>		</div>

		<p>Answer to my own question: The first dialog stays hidden. Eek!</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-153563">
				<div id="div-comment-153563" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Catatonic</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040311-00/?p=40303#comment-153563">
			March 11, 2004 at 2:09 pm</a>		</div>

		<p>This article (<a target="_new" href="http://www.joelonsoftware.com/printerFriendly/articles/Platforms.html" rel="nofollow">http://www.joelonsoftware.com/printerFriendly/articles/Platforms.html</a>) says that Windows used to have a runtime you could bundle with your app, so the user did not need to have Windows installed. I could easily see someone in 1986 running an app like that directly from a floppy.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-153613">
				<div id="div-comment-153613" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">asdf</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040311-00/?p=40303#comment-153613">
			March 11, 2004 at 4:47 pm</a>		</div>

		<p>What I want to know is how did dialog boxes work in a window manager that didn&#8217;t allow overlapping windows?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-153623">
				<div id="div-comment-153623" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://weblogs.asp.net/oldnewthing/' rel='external nofollow' class='url'>Raymond Chen</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040311-00/?p=40303#comment-153623">
			March 11, 2004 at 5:00 pm</a>		</div>

		<p>Windows 1.0 did support overlapping windows, as long as they were dialog boxes. You couldn&#8217;t overlap your frame window. (Not for any technical reason; was just the way they wanted to &quot;look&quot;.)</p>
<p><a target="_new" href="http://www.schools.ash.org.au/mcpcompdept/worksamples/winhistory/windows1.gif" rel="nofollow">http://www.schools.ash.org.au/mcpcompdept/worksamples/winhistory/windows1.gif</a></p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-153663">
				<div id="div-comment-153663" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Matthew Lock</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040311-00/?p=40303#comment-153663">
			March 11, 2004 at 6:52 pm</a>		</div>

		<p>Can anyone remember any applications that were created for Windows 1.0?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-153693">
				<div id="div-comment-153693" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Norman Diamond</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040311-00/?p=40303#comment-153693">
			March 11, 2004 at 7:52 pm</a>		</div>

		<blockquote><p>
  and you can&#8217;t (normally) out-type a hard<br />
  <br />&gt; drive</p>
<p>But you can frequently out-type the combination of a hard drive, Windows XP SP1, and Outlook Express SP1.  Ctrl-Shift-E, type the name of the new subfolder, Enter, Ctrl-Shift-V, Enter, wait for the current message to disappear from the current folder, and you might never see the two dialog boxes.</p>
<p>Crusoe 600 MHz with 304 MB of RAM (really 320 but the Crusoe grabs 16 for code morphing), and msimn.exe occupies around 90% of the CPU during this time.</p>
<p>Meanwhile, ordinarily:</p>
<p>&gt; Actually this behavior still serves a useful<br />
  <br />&gt; purpose</p>
<p>I agree with you and moi.
</p></blockquote>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-153773">
				<div id="div-comment-153773" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://weblogs.asp.net/oldnewthing/' rel='external nofollow' class='url'>Raymond Chen</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040311-00/?p=40303#comment-153773">
			March 11, 2004 at 9:49 pm</a>		</div>

		<p>The &quot;killer app&quot; for Windows 1.0 was Adobe PageMaker. Excel came shortly thereafter.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-153673">
				<div id="div-comment-153673" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://weblogs.asp.net/dbrowning/archive/2004/03/11/88337.aspx' rel='external nofollow' class='url'>.NET Brain Droppings</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040311-00/?p=40303#comment-153673">
			March 11, 2004 at 10:09 pm</a>		</div>

		
		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-153783">
				<div id="div-comment-153783" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Larry Osterman</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040311-00/?p=40303#comment-153783">
			March 11, 2004 at 10:13 pm</a>		</div>

		<p>Actually Pagemaker and Excel were the killer app for the MacIntosh.  They were later ported to Windows.</p>
<p>IIRC, there really was no &quot;killer app&quot; for Windows.  Windows 1.0 and 1.1 sold a modest couple of thousand units a month.  Windows 386 (Windows 2.0) helped sales because they added the ability to run multiple DOS applications simultaneously (the functionality to run multiple old applications was there but it only worked well enough to run multiple GWBasic applications simultaneously), but it wasn&#8217;t enough to make a dent.</p>
<p>But the world changed when Windows 3.0 shipped.</p>
<p>Windows 3.0 added two major features:<br />
<br />    1) Support for 286 protected mode.  This meant that applications suddenly were able to take advantage of more than 640K of memory (ok, with LIM Expanded memory they could limp using more but protected mode busted things wide open).<br />
<br />    2) Support for more than 16 color displays.</p>
<p>I remember wandering over to ask Aaron Reynolds some questions about Windows 2.0 for some Lan Manager 2.0 stuff I was working on and he, David Weise and Ralph Lipe gave me a quick demo of the stuff they were working on for Windows 3.0.  My only comment to them after seeing this was &quot;Steve&#8217;s going to kill you guys, you know that, right?&quot;.</p>
<p>Remember, at the time Microsoft and IBM were focused like laser&#8217;s on OS/2.  ALL of our operating systems efforts were going into OS/2 (there was another side project called NT OS/2 in the works but it wasn&#8217;t significant at the time).  Windows (and DOS) were complete and total afterthoughts.</p>
<p>And here were these guys working on a version of Windows that was going to totally blow everyone away.  Steve was going to have a total cow when he heard that they had an OS/2 killer in the works.  And pretty much, that&#8217;s exactly what happened once they shipped (I don&#8217;t know about the Steve having a cow, but I do know about the OS/2 killer).</p>
<p>All of a sudden, Windows stopped being a toy and became an honest-to-goodness viable system.  Without any new applications for it, sales suddenly spiked into the millions of units per month (for some reason the number ten million units a month sticks in my mind).</p>
<p>&quot;And the rest was history&quot;&#8230;.</p>
<p></p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-153803">
				<div id="div-comment-153803" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">J. Edward Sanchez</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040311-00/?p=40303#comment-153803">
			March 12, 2004 at 12:32 am</a>		</div>

		<p>PageMaker was actually called Aldus PageMaker in those days, because it was developed by a company named Aldus.</p>
<p>When Adobe acquired Aldus in 1994 (near the end of the Windows 3.x era), they rebranded the current version (5.0) as Adobe PageMaker. The first version of PageMaker released exclusively under the Adobe name was 6.0.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-156453">
				<div id="div-comment-156453" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://weblogs.asp.net/ptorr/' rel='external nofollow' class='url'>Peter Torr</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040311-00/?p=40303#comment-156453">
			March 19, 2004 at 9:35 pm</a>		</div>

		<p>I used to run Word 1.x which came bundled with a runtime version of Windows. Windows 3.1 rocked because it had TrueType support and you could run DOS boxes in a window!</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-162233">
				<div id="div-comment-162233" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Will</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040311-00/?p=40303#comment-162233">
			April 10, 2004 at 8:42 pm</a>		</div>

		<p>Yeah, I can remember Pagemaker seemingly including a runtime of Windows/286.  IIRC it took up 1-2 floppy disks, and was required for Pagemaker to run.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-268703">
				<div id="div-comment-268703" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://blogs.msdn.com/oldnewthing/archive/2005/03/31/404108.aspx' rel='external nofollow' class='url'>The Old New Thing</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040311-00/?p=40303#comment-268703">
			March 31, 2005 at 9:03 am</a>		</div>

		<p>Walk the template items and do what they say.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-422913">
				<div id="div-comment-422913" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://blogs.msdn.com/oldnewthing/archive/2006/09/22/766168.aspx' rel='external nofollow' class='url'>The Old New Thing</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040311-00/?p=40303#comment-422913">
			September 22, 2006 at 10:00 am</a>		</div>

		<p>Posting a message isn&#8217;t good enough.</p>

		
				</div>
		</li><!-- #comment-## -->
		</ol><!-- .comment-list -->

		<div class="navigation pagination">
					</div>

	
			<p class="no-comments">Comments are closed.</p>
<!-- COMMENTS END -->
</div></td></tr></table>

</body>
</html>
<br/><div class="disclaimer">
*DISCLAIMER: I DO NOT OWN THIS CONTENT. If you are the owner and would like it removed, please
<a target="_blank" href="/contact.htm">contact me</a>.
The content herein is an archived reproduction of entries from
Raymond Chen's "Old New Thing" Blog (most recent link is <a target="_blank" href="https://devblogs.microsoft.com/oldnewthing/">here</a>).
It may have slight formatting modifications for consistency and to improve readability.
<br/><br/>
WHY DID I DUPLICATE THIS CONTENT HERE?
Let me first say this site has never had anything to sell and has never shown ads of any kind. I have nothing monetarily to gain by duplicating content here.
Because I had made my own local copy of this content throughout the years, for ease of using tools like grep, I decided to put it online after I discovered
some of the original content previously and publicly available, had disappeared approximately early to mid 2019.
At the same time, I present the content in an easily accessible theme-agnostic way.
<br/><br/>
The information provided by Raymond's blog is, for all practical purposes, more authoritative on Windows Development than Microsoft's
own MSDN documentation and should be considered supplemental reading to that documentation. The wealth of missing details
provided by this blog that Microsoft could not or did not document about Windows over the years is vital enough, many would agree an online "backup" of these details
is a necessary endeavor. Specifics include:<br/>
<ul>
    <li>
        A "redesign" after 2019 erased thousands of user's comments from previous years. As many have stated, the comments are nearly as important as the postings themselves.
        The archived copies of the postings contained here retain the original comments.
    </li>
    <li>
        The blog has changed domains many times and the urls have otherwise been under constant change since 2003.
        Even when proper redirection has been set up for those links, redirection only works for a limited period of time.
        For example, all of the internal blog links that were valid in early 2019, were broken by 2020 without proper redirection.
    </li>
    <li>
        The blog has been under constant re-design and re-theming since its inception.
        It is downright irritating to deal with a bogged-down site experience as the result of the latest visual themes designed for cell-phone browsers.
        As of this writing, it is cumbersome to navigate titles with only 10 entries per page.
        While it is nice that the official site has a search feature, searching using this index (with all titles on a single page) is much quicker (CTRL-F in most browsers).
    </li>
</ul>
</div><br/>
&lt;-- Back to <a href="index.htm">Old New Thing Archive Index</a>

