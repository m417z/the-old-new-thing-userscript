<table class="commenttable" cellspacing="0" cellpadding="0"><tr><td><div class="commentdiv"><div class="commentdivhdr">
<!-- COMMENTS START -->
Comments (40)	</div>

	
			<div class="navigation pagination clear-both">
					</div>

		<ol class="comment-list">
					<li class="comment even thread-even depth-1" id="comment-392313">
				<div id="div-comment-392313" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">BradC</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20060616-09/?p=30843#comment-392313">
			June 16, 2006 at 10:24 am</a>		</div>

		<p>&quot;Remember that 0.99999&#8230; = 1, and therefore the values </p>
<p>6192069.999999991<br />
<br />6192069.999999999&#8230; </p>
<p>agree to fifteen significant digits, as promised.&quot;</p>
<p>No, you are saying that &quot;0.9&#8230;&quot; is the same as 0.1, which is not true. Its equivalent to 1.0. You&#8217;re off by a decimal place.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-392323">
				<div id="div-comment-392323" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">BryanK</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20060616-09/?p=30843#comment-392323">
			June 16, 2006 at 10:37 am</a>		</div>

		<p>Well, at least whoever posted that question wasn&#8217;t blaming Windows. &nbsp;(I hope, anyway.) &nbsp;That result comes directly from the processor&#8217;s floating-point computation instructions (specifically, FMUL), and the fact that the fractional part of a number is stored as a base-2 value, not a base-10 like it&#8217;s written (IEEE-754).</p>
<p>(In other words, you get a similar result when you represent 1/3 in writing by 0.33333333, multiply it by 3, get 0.99999999, and then claim you should get 1. &nbsp;You don&#8217;t get 1 because 1/3 is not exactly 0.33333333, and you don&#8217;t get 6192070 because 0.6192070 is not exactly whatever bit pattern the system used for it.)</p>
<p>BradC: No, he&#8217;s saying that 0.9&#8230; is the same as 1. &nbsp;Adding 0.9&#8230; to 6192069 gives 6192070, which is the result the user expected.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-392333">
				<div id="div-comment-392333" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Thomee</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20060616-09/?p=30843#comment-392333">
			June 16, 2006 at 10:42 am</a>		</div>

		<blockquote><p>
  No, you are saying that &quot;0.9&#8230;&quot; is the same as 0.1, which is not true. Its equivalent to 1.0. You&#8217;re off by a decimal place.</p>
<p>The &quot;expected answer&quot; is 6192070.0, which he is claiming is equivalent to 6192069.9999&#8230; &nbsp;This is the same claim as claiming 1.0 is equivalent to 0.9999&#8230; &nbsp;The returned result only varies from this at the 16th digit. &nbsp;He&#8217;s not claiming that the trailing 1 in the final result is equivalent to the repeating 9s in the expected result, just that the inaccuracy is below the 15th significant digit.
</p></blockquote>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-392343">
				<div id="div-comment-392343" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://jasonhaley.com/blog/archive/2006/06/16/136670.aspx' rel='external nofollow' class='url'>Jason Haley</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20060616-09/?p=30843#comment-392343">
			June 16, 2006 at 10:46 am</a>		</div>

		
		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-392353">
				<div id="div-comment-392353" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Miles Archer</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20060616-09/?p=30843#comment-392353">
			June 16, 2006 at 10:48 am</a>		</div>

		<p>It&#8217;s Microsoft&#8217;s fault for choosing to base windows on buggy processors.</p>
<p>;-)</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-392363">
				<div id="div-comment-392363" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Anon</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20060616-09/?p=30843#comment-392363">
			June 16, 2006 at 11:47 am</a>		</div>

		<p>This effect has nothing to do with significant digits and everything to do with the binary representation of floating point numbers. BryanK has it right. </p>
<div CLASS=post>[<i>You would have the same problem with significant digits even if you used decimal. &#8220;I compute 1.0000 / 3.0000 * 3.0000 and get 0.9999 back. But I did the computation to five significant digits, and this has none!&#8221; -Raymond</i>]</div>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-392373">
				<div id="div-comment-392373" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">josh</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20060616-09/?p=30843#comment-392373">
			June 16, 2006 at 11:57 am</a>		</div>

		<p>I get 6192069.999999999 in ghci&#8230; &nbsp;Maybe inaccuracies in the code to covert to decimal? &nbsp;A double should actually have almost 16 digits (53 bits) over most of its range.</p>
<p>Of course, you have to understand that operations will eat away at that. &nbsp;1 + 2^-53 &#8211; 1 has zero correct digits.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-392383">
				<div id="div-comment-392383" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">BradC</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20060616-09/?p=30843#comment-392383">
			June 16, 2006 at 12:21 pm</a>		</div>

		<p>I agree that <br />6192069.99999999 1 <br />6192069.99999999 9&#8230; <br />agree to fifteen significant digits (simply because the first fifteen places are identical) </p>
<p>BUT this has nothing to do with 0.99999&#8230; = 1. It appears that in the article he&#8217;s saying that <br />(ignore these digits)999999&#8230; <br />is mathematically the same as <br />(ignore these digits)100000 </p>
<p>which is rubbish. I apologize if that&#8217;s not what you&#8217;re trying to say, Raymond. To expose the error, lets show one of those hidden digits, shall we? </p>
<p>(ignore)699999&#8230; <br />(ignore)610000 <br />WRONG </p>
<p>(ignore)699999&#8230; <br />(ignore)700000 <br />CORRECT</p>
<div CLASS=post>[<i>I&#8217;m saying that<br />
6192070.000000000&#8230; and<br />
6192069.999999999&#8230; are equal. Since<br />
6192069.999999991 and<br />
6192069.999999999 agree to fifteen significant digits, then you have to admit that<br />
6192069.999999991 and<br />
6192070.000000000 also agree to fifteen significant digits. -Raymond</i>]</div>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-392403">
				<div id="div-comment-392403" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Reinder</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20060616-09/?p=30843#comment-392403">
			June 16, 2006 at 1:23 pm</a>		</div>

		<p>&quot;Now, if you&#8217;re a hyperliteralist and refuse to accept that 0.99999&#8230; = 1, then you are forced to accept that the only possible numbers of significant digits are zero and infinity. Consider a computation whose result is the value 1 exactly, and that the computation is performed to N significant digits (with N &gt; 0)&quot;</p>
<p>1) A real hyperrealist will refuse to accept any computation that does any rounding<br />
<br />2) That &quot;(with N &gt; 0)&quot; is a bit superfluous. It would take a surrealist to perform computations rounding to N ≤ 0 digits.<br /></p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-392413">
				<div id="div-comment-392413" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Ray Trent</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20060616-09/?p=30843#comment-392413">
			June 16, 2006 at 1:24 pm</a>		</div>

		<p>I have the same chance of winning as someone that actually purchases a lottery ticket&#8230; to 8 significant digits.<br /></p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-392423">
				<div id="div-comment-392423" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">JamesK</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20060616-09/?p=30843#comment-392423">
			June 16, 2006 at 1:32 pm</a>		</div>

		<p>I believe that there is a basic problem with all of this discussion. &nbsp;The word &quot;significant&quot; is being confused with &quot;precision.&quot; &nbsp;In the original question:</p>
<p> &nbsp; I multiplied 0.619207 by 10,000,000 &#8230;</p>
<p>there are to my eyes 7 significant digits (6 from the first number a one from the second). &nbsp;This is easier to see when converted to scientific notation:</p>
<p> &nbsp; 6.19207 x 10^-1 * 1.0 x 10^7</p>
<p>Now these 7 significant digits are multiplied using 15 digits of precision (based on the double type) which gives:</p>
<p> &nbsp; &#8230; 6192069.999999991 &#8230;</p>
<p>which when rounded to 7 significant digits gives us 6192070.0 (or 6.19207 x 10^6) which is the expected result. We should not confuse the precision of the computation with the significance of the numbers.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-392433">
				<div id="div-comment-392433" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://www.vibrant3d.com' rel='external nofollow' class='url'>Mark Mullin</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20060616-09/?p=30843#comment-392433">
			June 16, 2006 at 1:49 pm</a>		</div>

		<p>Oh, the joy of discrete numbers in a continous world &#8211; &nbsp;I certainly have no argument with what you present, but you&#8217;ve left some of the neccessary formalisms (that I hazily remember) out. (I think)</p>
<p>Where you declare that X − ε == X for any sufficiently small ε, don&#8217;t you have to constrain the relation to being non-transitive ? &nbsp;If I define ε2 as being 1/2 ε, I could then state that X − ε2 == X + ε2 for some precision that is a function of ε. &nbsp;I can also state that Y − ε2 == Y + ε2 &nbsp;, and then I can state that Y == X + ε2, or (rewritten) X + ε2 == X + 2ε2.</p>
<p>So I can now rewrite all of this as<br />
<br />X &#8211; ε2 == X + ε2 == X + 2e2, but this is wrong because X &#8211; ε2 != X + 2e2.</p>
<p>I remember this from courses a looooonnnnnnggg time ago &#8211; I&#8217;ve used it in practice in some cases where very slow moving inputs to a system were being incorrectly integrated (the theoretical sum of an infinite number of infintessimally small quantities is not zero!)</p>
<p>But I can&#8217;t remember the formalism that wraps around this &#8211; &nbsp;I know its entangled with the discrete nature of the problem and the fact that the (effectively continous) set of results isn&#8217;t transitive, but since you&#8217;ve wandered down this thorny garden path&#8230;&#8230; &nbsp;wanna go a little further&#8230;.. ?????? &nbsp;In short, dealing with single instances of the discrete/continous space conundrum is pretty simple (I think) but its possible to get seriously messed up when dealing with sums and powers &#8211; &nbsp;I once had a client insist that .Net was junk, because iteratively adding a penny to a sum 100B times did not produce 1B &nbsp;:-) &nbsp;</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-392443">
				<div id="div-comment-392443" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">s_tec</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20060616-09/?p=30843#comment-392443">
			June 16, 2006 at 1:56 pm</a>		</div>

		<p>Significant digits just give an &quot;error margin,&quot; which I find easier to understand than counting digits. Say you want 619207 to 15 significant digits. What you are really saying is that the answer should be 619270 plus or minus 0.000000005. Put another way, the 15th digit could be off by half either way. Some possibilities include:</p>
<p>6192069.999999995 = 619207 &#8211; 0.000000005<br />
<br />6192069.999999997 = 619207 &#8211; 0.000000003<br />
<br />6192067.000000000 = 619207 &#8211; 0.000000000<br />
<br />6192067.000000002 = 619207 + 0.000000002<br />
<br />6192067.000000005 = 619207 + 0.000000005</p>
<p>This implies that a number with N significant digits is completely correct when <em>rounded</em> to N digits. There is no guarantee that the first N digits will be correct before the rounding takes place.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-392463">
				<div id="div-comment-392463" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">David Walker</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20060616-09/?p=30843#comment-392463">
			June 16, 2006 at 3:30 pm</a>		</div>

		<p>Using terminals connected to an IBM mainframe, many moons ago, the Rexx language natively did what I think they called &quot;pure arithmetic&quot;. &nbsp;I amused myself by asking for something like 52! (52 factorial) which has about 67 digits, and Rexx displayed them all. &nbsp;</p>
<p>I assumed the answer was correct since it didn&#8217;t end with a string of zeros.</p>
<p>(Rexx was used for scripts and such&#8230; what we use DOS and vbscript/wscript for these days.)</p>
<p>Rexx would also calculate and display all of the digits for 150! (about 260 digits) and I was impressed.<br /></p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-392473">
				<div id="div-comment-392473" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">BryanK</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20060616-09/?p=30843#comment-392473">
			June 16, 2006 at 3:40 pm</a>		</div>

		<p>But, uh&#8230; 52-factorial does end in a string of zeros. &nbsp;You have to multiply by 50, by 40, by 30, by 20, and by 10 (and, since those give an even number, you have to add a zero for each of the multiplications by 45, 35, 25, 15, and 5). &nbsp;That&#8217;s at least ten zeros, perhaps more. &nbsp;:-P</p>
<p>(Lisp also does bignum (they call it &quot;arbitrary-precision&quot;) math, BTW. &nbsp;So do bc and dc, IIRC.)</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-maurits odd alt thread-odd thread-alt depth-1" id="comment-392483">
				<div id="div-comment-392483" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Maurits+%5BMSFT%5D' rel='external nofollow' class='url'>Maurits [MSFT]</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20060616-09/?p=30843#comment-392483">
			June 16, 2006 at 3:57 pm</a>		</div>

		<p>The .999999&#8230;. = 1.0 argument comes up in higher math, too&#8230; and the same skeptics emerge.</p>
<p>Cantor&#8217;s diagonalization proof of the uncountability of [0,1] doesn&#8217;t work so well in base two, because you have to worry about things like 0b0.011111&#8230; == 0b0.1 (one-half)</p>
<p>The usual avoidance technique is to<br />
<br />1) use a higher order base than binary (like ten, which most people are familiar with :P)<br />
<br />2) stay away from the first digit (0) and the last digit (9)</p>
<p>For example, it suffices to prove the uncountability of decimal digits that match the regex:<br />
<br />0.[38]+</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-maurits even thread-even depth-1" id="comment-392493">
				<div id="div-comment-392493" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Maurits+%5BMSFT%5D' rel='external nofollow' class='url'>Maurits [MSFT]</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20060616-09/?p=30843#comment-392493">
			June 16, 2006 at 4:00 pm</a>		</div>

		<blockquote><p>
  52-factorial &#8230; at least ten zeros</p>
<p>The number of zeros in a number can be calculated exactly by looking at the number of factors of five, and the number of factors of two&#8230; whichever is less (not considering the literal number 0)</p>
<p>For factorials, there&#8217;s always more powers of two, so you just count powers of five:</p>
<p>5 (one)<br />
  <br />10 (one)<br />
  <br />15 (one)<br />
  <br />20 (one)<br />
  <br />25 (two)<br />
  <br />30 (one)<br />
  <br />35 (one)<br />
  <br />40 (one)<br />
  <br />45 (one)<br />
  <br />50 (two)</p>
<p>So there&#8217;s twelve zeroes exactly.
</p></blockquote>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-maurits odd alt thread-odd thread-alt depth-1" id="comment-392503">
				<div id="div-comment-392503" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Maurits+%5BMSFT%5D' rel='external nofollow' class='url'>Maurits [MSFT]</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20060616-09/?p=30843#comment-392503">
			June 16, 2006 at 4:10 pm</a>		</div>

		<p>Pedantic corrections:</p>
<p>&gt; 0.[38]+</p>
<p>^0.[38]+$</p>
<p>&gt; The number of zeros in a number</p>
<p>That is, the number of TRAILING zeroes. &nbsp;There&#8217;s no easy way to count interior zeros like the first zero in 60660000 AFAIK.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-392513">
				<div id="div-comment-392513" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">David Walker</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20060616-09/?p=30843#comment-392513">
			June 16, 2006 at 4:16 pm</a>		</div>

		<p>By &quot;didn&#8217;t end wit a bunch of zeros&quot;, I meant that the answer Rexx gave for 52! didn&#8217;t start with 15 or 20 digits of precision and end with the remaining 45 or 50 digits all being zero. &nbsp;And the result of 150! didn&#8217;t end with 250 zeros. </p>
<p>Interesting stuff, though.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-maurits odd alt thread-odd thread-alt depth-1" id="comment-392523">
				<div id="div-comment-392523" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Maurits+%5BMSFT%5D' rel='external nofollow' class='url'>Maurits [MSFT]</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20060616-09/?p=30843#comment-392523">
			June 16, 2006 at 4:22 pm</a>		</div>

		<blockquote><p>
  It would take a surrealist to perform computations rounding to N ≤ 0 digits</p>
<p>&#8230; well&#8230; sometimes astronomers calculate numbers with an error tolerance of an order of magnitude or two. &nbsp;This is a refinement of significant digits, and by an abuse of convention could in principle be called &quot;negative significant digits.&quot;
</p></blockquote>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-392563">
				<div id="div-comment-392563" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Mark Sowul</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20060616-09/?p=30843#comment-392563">
			June 16, 2006 at 6:31 pm</a>		</div>

		<p>Obligatory: 2+2=5 for sufficiently large values of 2</p>
<p><a rel="nofollow" target="_new" href="http://en.wikipedia.org/wiki/Two_plus_two_make_five" rel="nofollow">http://en.wikipedia.org/wiki/Two_plus_two_make_five</a></p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-392573">
				<div id="div-comment-392573" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://jenk.livejournal.com' rel='external nofollow' class='url'>JenK</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20060616-09/?p=30843#comment-392573">
			June 16, 2006 at 7:01 pm</a>		</div>

		<p>[sarcastic] Wouldn&#8217;t it be easier to just convert all measurements &amp; monetary values used by everyone in the world to base 2? [/sarcastic]</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-maurits even thread-even depth-1" id="comment-392583">
				<div id="div-comment-392583" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Maurits+%5BMSFT%5D' rel='external nofollow' class='url'>Maurits [MSFT]</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20060616-09/?p=30843#comment-392583">
			June 16, 2006 at 7:07 pm</a>		</div>

		<p>Base eight, maybe. &nbsp;Most of us have eight fingers, after all.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-392593">
				<div id="div-comment-392593" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Gabe</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20060616-09/?p=30843#comment-392593">
			June 16, 2006 at 8:03 pm</a>		</div>

		<p>Mark Mullin, did you tell your friend that he should be using the Decimal type? It would allow him to add .01 about 10^28 times before losing precision. Anybody doing arithmetic with monetary figures should be using it.</p>
<p>Indeed, if the original questioner performed 0.619207m * 10000000m with .Net, they would have gotten 6192070 as they expected.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-392393">
				<div id="div-comment-392393" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">BradC</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20060616-09/?p=30843#comment-392393">
			June 16, 2006 at 1:12 pm</a>		</div>

		<p>Ah &nbsp; *ding* &nbsp; &lt;&#8211; light bulb going on</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-392613">
				<div id="div-comment-392613" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Mats Gefvert</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20060616-09/?p=30843#comment-392613">
			June 17, 2006 at 2:34 am</a>		</div>

		<p>I propose that we build a processor that works natively with fractions. :)</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-392623">
				<div id="div-comment-392623" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Rhomboid</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20060616-09/?p=30843#comment-392623">
			June 17, 2006 at 3:17 am</a>		</div>

		<p>I&#8217;m surprised nobody has linked to the classic David Goldberg paper, &quot;What Every Computer Scientist Should Know About Floating-Point Arithmetic&quot;.</p>
<p><a rel="nofollow" target="_new" href="http://docs.sun.com/source/806-3568/ncg_goldberg.html" rel="nofollow">http://docs.sun.com/source/806-3568/ncg_goldberg.html</a></p>
<p>It is sadly true that many people these days don&#8217;t really know how floating point actually works.<br /></p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-392633">
				<div id="div-comment-392633" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://about:blank' rel='external nofollow' class='url'>Kristof</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20060616-09/?p=30843#comment-392633">
			June 17, 2006 at 3:23 am</a>		</div>

		<p>I guess the number-&gt;string function is between a rock and a hard place: if it only shows 15 digits, then you could potentially print out two numbers that have the same string representation, but differ in a numeric comparison (since the 16th digit is partially significant). </p>
<p>So you can either confuse people by printing out extra slightly off digits, or you can confuse people by violating a=b IFF str(a)=str(b). But then again, making exact comparisons of floating point values is kind of stupid anyway&#8230;</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-392643">
				<div id="div-comment-392643" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">steveg</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20060616-09/?p=30843#comment-392643">
			June 17, 2006 at 4:07 am</a>		</div>

		<blockquote><p>
  Maurits: base 8</p>
<p>Nope, you want base 12, superior to base 2, 8, 10 &amp; 16 (IMO). Divides in half, quarters and thirds. Months, hours, minutes, seconds, degrees divisible by 12. </p>
<p>You have 12 segments on each hand, easy to count to 144 [100 base 12] (left hand use thumb to count 1-12 [10 base 12] on your segments of the same hand (3 per finger) and use your right thumb to track the &quot;10s&quot; column. </p>
<p><a rel="nofollow" target="_new" href="http://en.wikipedia.org/wiki/Base_12" rel="nofollow">http://en.wikipedia.org/wiki/Base_12</a></p>
<p>I was amazed a years ago when I thought I was onto something new to discover it&#8217;s been going for decades:<br />
  <br />Dozenal Society of America: <a rel="nofollow" target="_new" href="http://www.dozens.org/" rel="nofollow">http://www.dozens.org/</a><br />
  <br />Dozenal Society of Great Britain: <a rel="nofollow" target="_new" href="http://www.dozenalsociety.org.uk/" rel="nofollow">http://www.dozenalsociety.org.uk/</a>
</p></blockquote>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-392653">
				<div id="div-comment-392653" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://ilyabirman.ru' rel='external nofollow' class='url'>Ilya Birman</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20060616-09/?p=30843#comment-392653">
			June 17, 2006 at 7:36 am</a>		</div>

		<p>&quot;Now, if you&#8217;re a hyperliteralist and refuse to accept that 0.99999&#8230; = 1&quot;</p>
<p>If one refuses to accept that 0.(9) = 1, he is not hyperliteralist. He just dosn&#8217;t know maths ;-) 0.(9) = 9/9, and it IS 1, no matter if you accept it or not.</p>
<p>However, the resoning for the &quot;hyperliteralists&quot; is just sweet, enjoyed it!</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-392663">
				<div id="div-comment-392663" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://wendyhome.com' rel='external nofollow' class='url'>::wendy::</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20060616-09/?p=30843#comment-392663">
			June 17, 2006 at 9:06 am</a>		</div>

		<p>nice entry. &nbsp;What the numbers represent is much more significant to me than the decimal point placing. &nbsp;For example if we are counting people the 0.619207 is not a good operationalisation (does that mean people without limbs, &nbsp;any specific limb are they alive?) &nbsp;where-as the 10,000,000 makes sense. &nbsp;If ever you see decimal points used in research about humans&#8230;. &#8230;trace how that decimal point arrived and what it means. &nbsp;apologies for going slightly off topic, &nbsp;I have &#8216;issues&#8217; with decimal point usage in the human sciences&#8230;. &nbsp;</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-392673">
				<div id="div-comment-392673" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://rolfhub.de' rel='external nofollow' class='url'>rolfhub</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20060616-09/?p=30843#comment-392673">
			June 17, 2006 at 10:58 am</a>		</div>

		<p>@::wendy::<br />
<br />Yes, of course, you always have to keep in mind what the numbers represent, and what makes sense. If you just use any mathematical method you know, without thinking about the usefulness of the results, bogus results are guaranteed.<br />
<br />I&#8217;ve found a great blog entry about it:<br />
<br /><a rel="nofollow" target="_new" href="http://blogs.msdn.com/ericlippert/archive/2004/02/05/68174.aspx" rel="nofollow">http://blogs.msdn.com/ericlippert/archive/2004/02/05/68174.aspx</a></p>
<p>Also, you have to always keep in mind, that just cutting of the decimal point and anything after it is seldom sensible when converting a floating point val to an int. Nearly every time, proper rounding solves the issues you would otherwise have.</p>
<p>@steveg<br />
<br />Thank you for the interesting links, i always thought, the only numeric bases used <em>today</em> were 2, 8, 10, 16, but now i know better :-)</p>
<p>@David Walker<br />
<br />If Rexx impresses you, you should really try out bc (bash calculator) &#8211; &quot;An arbitrary precision calculator language&quot;. For all your precision needs &#8230;</p>
<p>@Maurits<br />
<br />&quot;Most of us have eight fingers, after all.&quot; &#8211; do you live in a Matt Groening cartoon? ;-)<br /></p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-maurits even thread-even depth-1" id="comment-392683">
				<div id="div-comment-392683" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Maurits+%5BMSFT%5D' rel='external nofollow' class='url'>Maurits [MSFT]</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20060616-09/?p=30843#comment-392683">
			June 17, 2006 at 1:12 pm</a>		</div>

		<p>@steveg: that&#8217;s why there are 60 minutes in an hour, too. :)</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-392693">
				<div id="div-comment-392693" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Roger</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20060616-09/?p=30843#comment-392693">
			June 18, 2006 at 1:29 am</a>		</div>

		<blockquote><p>
  I have the same chance of winning as someone that actually purchases a lottery ticket&#8230; to 8 significant digits. </p>
<p>Actually, no. The chances of winning a lottery ticket (for the sake of argument) is 1/14million, which is 0.000000071&#8230;, the chances of winning without one is 0.</p>
<p>Significant digits starts on the first non-zero digit. In this case 7, so your chances are actually the same up to 0 significant digits.</p>
<p>Coming from a Physics background, nobody uses significant digits because it&#8217;s misleading. (i.e. does 230 have 2 or 3 sig.fig?) Everyone uses &#177; (+-) to indicate degree of certainty. It works out much less ambiguous &#8211; now if only everyone start using it&#8230; (And then built into the processor&#8230;)</p>
<p>[I have a 1.537 &#177; 0.003 GHz processor!]<br />
  
</p></blockquote>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-392703">
				<div id="div-comment-392703" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://deadnode.org/sw/' rel='external nofollow' class='url'>James</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20060616-09/?p=30843#comment-392703">
			June 18, 2006 at 5:10 am</a>		</div>

		<p>David is at risk of falling into the decimal vs binary trap there: just because the number doesn&#8217;t end in a string of zeros in decimal form, does not mean it hasn&#8217;t lost a load of bits from the binary. (To take a trivial example, round 1024 off to three bits of precision, and you still have 1024.)</p>
<p>A small company once fell foul of this: their customer database stored credit card numbers as &#8216;numbers&#8217; &#8211; in this case, *floating point* numbers. Slightly over 15 digits of precision, 16 digit numbers &#8211; so all their credit card numbers were rounded off, losing the last couple of bits! Worst of all, the error wasn&#8217;t immediately visible: by rounding to the nearest multiple of 8 or 16, they weren&#8217;t getting exact multiples of 10 (all the credit card numbers ending in 0 would have made the problem obvious much sooner).</p>
<p>It had a happy ending, though: thanks to the first-step checksum on card numbers, apparently their IT guy was able to &#8216;repair&#8217; all the numbers for them.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-392753">
				<div id="div-comment-392753" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Norman Diamond</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20060616-09/?p=30843#comment-392753">
			June 18, 2006 at 10:56 pm</a>		</div>

		<p>Sunday, June 18, 2006 1:29 AM by Roger<br />
<br />&gt;&gt; I have the same chance of winning as<br />
<br />&gt;&gt; someone that actually purchases a lottery<br />
<br />&gt;&gt; ticket&#8230; to 8 significant digits.<br />
<br />&gt;<br />
<br />&gt; Actually, no.</p>
<p>Roger beat me to it, but I can still add the example I was planning for Ray Trent:<br />
<br />000000012345<br />
<br />and<br />
<br />000000012346<br />
<br />are not equal to 11 significant digits, they&#8217;re only equal to 4 significant digits. &nbsp;(I&#8217;m not an expert on numerical analysis and mostly only know when it&#8217;s time to get help from an expert, but this case seems to be an exception. &nbsp;In exchange, Mr. Trent owes me one correction on device drivers, some year ^<em>^)</p>
<p>Friday, June 16, 2006 1:49 PM by Mark Mullin<br />
<br />&gt; Oh, the joy of discrete numbers in a<br />
<br />&gt; continous world</p>
<p>Quantum physicists disagree ^</em>^</p>
<p>&gt; Where you declare that X − ε == X for any<br />
<br />&gt; sufficiently small ε, don&#8217;t you have to<br />
<br />&gt; constrain the relation to being<br />
<br />&gt; non-transitive ?</p>
<p>Yes. &nbsp;Computational equality doesn&#8217;t equal mathematical equality. &nbsp;In fact, it&#8217;s less equal than you thought it was.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-392853">
				<div id="div-comment-392853" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">AC</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20060616-09/?p=30843#comment-392853">
			June 19, 2006 at 10:49 am</a>		</div>

		<p>IBM works on standardizing the base 10 floating point numbers</p>
<p><a rel="nofollow" target="_new" href="http://www2.hursley.ibm.com/decimal/" rel="nofollow">http://www2.hursley.ibm.com/decimal/</a></p>
<p>for a lot of non-physics calculations (e.g. money) it&#8217;s much more convenient.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-392783">
				<div id="div-comment-392783" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">James</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20060616-09/?p=30843#comment-392783">
			June 19, 2006 at 3:53 am</a>		</div>

		<p>It means that someone is handwaving.</p>
<p>Double precision IEEE floating point has 52 significant bits&#8211;and plays a trick to give 53 for normalized numbers. 53 * log10(2) is between 16 and 17, but that doesn&#8217;t mean any number (in range) with 16 significant decimal digits can be exactly represented. In fact, very few can. Only those which, if expressed as a fraction in lowest terms, have a denominator that&#8217;s a power of two can be&#8230; and since 10 = 5 * 2, most of the time you&#8217;re out of luck.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-393033">
				<div id="div-comment-393033" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">David Walker</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20060616-09/?p=30843#comment-393033">
			June 19, 2006 at 1:06 pm</a>		</div>

		<p>James: You&#8217;re right, of course, but I knew from research that Rexx does &quot;pure arithmetic&quot; and isn&#8217;t limited to 15 siginificant digits.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-409993">
				<div id="div-comment-409993" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://blogs.ipona.com/dan/archive/2006/08/17/6260.aspx' rel='external nofollow' class='url'>Dan's Archive</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20060616-09/?p=30843#comment-409993">
			August 17, 2006 at 10:59 am</a>		</div>

		
		
				</div>
		</li><!-- #comment-## -->
		</ol><!-- .comment-list -->

		<div class="navigation pagination">
					</div>

	
			<p class="no-comments">Comments are closed.</p>
<!-- COMMENTS END -->
</div></td></tr></table>