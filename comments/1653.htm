<table class="commenttable" cellspacing="0" cellpadding="0"><tr><td><div class="commentdiv"><div class="commentdivhdr">
<!-- COMMENTS START -->
Comments (18)	</div>

	
			<div class="navigation pagination clear-both">
					</div>

		<ol class="comment-list">
					<li class="comment even thread-even depth-1" id="comment-1109233">
				<div id="div-comment-1109233" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Anon</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140226-00/?p=1653#comment-1109233">
			February 26, 2014 at 7:12 am</a>		</div>

		<p>I think the real question here was &quot;Why are they being substituted in the first place?&quot; What context could cause SOME of the digits to be substituted?</p>
<div class="post">[<em>I added some bonus chatter for you. -Raymond</em>]</div>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1109243">
				<div id="div-comment-1109243" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Adam Rosenfield</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140226-00/?p=1653#comment-1109243">
			February 26, 2014 at 7:55 am</a>		</div>

		<p>The Unicode standard says that U+206A through U+206F are deprecated and that their use is strongly discouraged. &nbsp;That&#39;s consistent with &quot;As a last resort&quot;, so the other 3 methods should definitely be preferred.</p>
<p>What sorts of text are these substitutions made on? &nbsp;Any text in a standard Windows control like a STATIC or BUTTON? &nbsp;Any text rendered with TextOut()? &nbsp;Something different?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1109253">
				<div id="div-comment-1109253" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Adam Rosenfield</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140226-00/?p=1653#comment-1109253">
			February 26, 2014 at 7:59 am</a>		</div>

		<p>(Answer: Any text rendered using the Uniscribe, GDI, or DirectWrite APIs mentioned in the MSDN article Raymond linked to, which I ashamedly didn&#39;t read before posting that; that includes ExtTextOut() for GDI)</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-dwalker-wk odd alt thread-odd thread-alt depth-1" id="comment-1109273">
				<div id="div-comment-1109273" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/DWalker' rel='external nofollow' class='url'>DWalker</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140226-00/?p=1653#comment-1109273">
			February 26, 2014 at 10:49 am</a>		</div>

		<p>The bonus chatter doesn&#39;t address why any number that is longer than a couple of digits doesn&#39;t get ENTIRELY left alone. That is, it&#39;s fine to convert a single digit, but for a longer string, is it that hard to leave the entire string in &quot;European digits&quot;?</p>
<div class="post">[<em>&quot;there are 314159 items remaining&quot; presumably should also use Arabic-Indic digits. -Raymond</em>]</div>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1109283">
				<div id="div-comment-1109283" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Anon</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140226-00/?p=1653#comment-1109283">
			February 26, 2014 at 11:30 am</a>		</div>

		<p>@Raymond</p>
<p>Thanks for the bonus chatter! That explains it perfectly.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1109293">
				<div id="div-comment-1109293" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Myria</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140226-00/?p=1653#comment-1109293">
			February 26, 2014 at 12:16 pm</a>		</div>

		<p>Is there such a thing as rendering hexadecimal numbers in national digits? =)</p>
<p>If Marco Polo had remembered that they write in the opposite direction and flipped the significance order when importing the system to Europe, maybe people wouldn&#39;t be so terribly confused by little-endian computer systems today. &nbsp;Little-endian really is more natural.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-bboorman even thread-even depth-1" id="comment-1109303">
				<div id="div-comment-1109303" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Brian_EE' rel='external nofollow' class='url'>Brian_EE</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140226-00/?p=1653#comment-1109303">
			February 26, 2014 at 2:25 pm</a>		</div>

		<p>@Myria: Marco Polo was too busy hiding from his blind-folded friends in the swimming pool to think about that&#8230;.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1109323">
				<div id="div-comment-1109323" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Ben</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140226-00/?p=1653#comment-1109323">
			February 26, 2014 at 6:17 pm</a>		</div>

		<p>I&#39;m surprised no one has pointed out that apparently the conversion subtracts 1 from each digit&#8230;</p>
<div class="post">[<em>Heh. Nice one. -Raymond</em>]</div>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-fleet-command even thread-even depth-1" id="comment-1109333">
				<div id="div-comment-1109333" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Fleet+Command' rel='external nofollow' class='url'>Fleet Command</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140226-00/?p=1653#comment-1109333">
			February 26, 2014 at 6:20 pm</a>		</div>

		<p>Yes, it is possible to programmatically suppress this behavior. Word and OneNote do that. Word is okay but OneNote is a pain in the abdomen with its stupidity. </p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1109343">
				<div id="div-comment-1109343" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Lev</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140226-00/?p=1653#comment-1109343">
			February 26, 2014 at 8:50 pm</a>		</div>

		<p>I think any alteration of the string while rendering it violates the principle of least surprise. It would be more proper to require each string to be generated with the proper digits. To this end, there could either be an extra flag for %d, something like %Ld, or %d could work in the current locale by default.</p>
<p>This way, </p>
<p>&quot;there are %d items&quot;, 3 -&gt; &quot;there are ٣ items&quot;</p>
<p>&quot;This is a %s&quot;, &quot;BMW 350&quot; -&gt; &quot;This is a BMW 350&quot;</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1109363">
				<div id="div-comment-1109363" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Daniel</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140226-00/?p=1653#comment-1109363">
			February 27, 2014 at 12:30 am</a>		</div>

		<p>Didn&#39;t you mean &quot;BMW350&quot;? because I honestly don&#39;t see how a computer can distinguish between &quot;This is a BMW 350&quot; and &quot;You have to add 350&quot;</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1109313">
				<div id="div-comment-1109313" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Jim</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140226-00/?p=1653#comment-1109313">
			February 26, 2014 at 4:45 pm</a>		</div>

		<p>@Myria I don&#39;t usually write at a low enough level for endianness to matter at all, so I&#39;m shooting in the dark a bit here, but I can see at least why reason why little endian is worse than big endian. If you interpret a little-endian number at a memory location but with the wrong size (e.g. cast to a int32_t* instead of a int64_t*), then for small positive numbers you will read the correct result. Many numeric values are almost always small positive numbers, so this bug might slip through testing.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1109373">
				<div id="div-comment-1109373" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Sam</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140226-00/?p=1653#comment-1109373">
			February 27, 2014 at 1:18 am</a>		</div>

		<p>@ Daniel: Imagine his string was &quot;這是一個 BMW 350&quot; and &quot;有3樣東西&quot;</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1109383">
				<div id="div-comment-1109383" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Daniel</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140226-00/?p=1653#comment-1109383">
			February 27, 2014 at 1:51 am</a>		</div>

		<p>@Sam: What I&#39;m talking about is the space between BMW and 350. As I understand, if there is a space before the number, local digits are used but if the number is directly appended to other characters the original digits are used.</p>
<p>The point is, that in his example, there is no difference between the 350 and the 3 (&#8211;&gt; So either it&#39;s a mistake in the example, or I didn&#39;t get the point)</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1109393">
				<div id="div-comment-1109393" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Marcel</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140226-00/?p=1653#comment-1109393">
			February 27, 2014 at 2:32 am</a>		</div>

		<p>@Daniel: you understood wrong, it has nothing to do with spaces. Local digits are used when preceded by local script, &quot;European&quot; digits if preceded by latin characters. Look again at Sam&#39;s example to see how this looks when not written in English (so you can understand the sentences), but with a different script.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1109403">
				<div id="div-comment-1109403" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Daniel</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140226-00/?p=1653#comment-1109403">
			February 27, 2014 at 3:12 am</a>		</div>

		<p>Thanks for the clarification. I think I&#39;ve got it now (e.g. Use the same Alphabet as the previous character. If at the start of the text: use local digits)</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1109463">
				<div id="div-comment-1109463" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Matt</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140226-00/?p=1653#comment-1109463">
			February 27, 2014 at 11:01 am</a>		</div>

		<p>I think the first glyph in the ٠١٢٣٤ABCDE67890 is actually an arabic 0 (i.e. what you have is 01234ABCDE67890). The 5 is ٥‎, so it should be ١٢٣٤٥‎AVCDE67890.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-alexcohn odd alt thread-odd thread-alt depth-1" id="comment-1109833">
				<div id="div-comment-1109833" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Alex+Cohn' rel='external nofollow' class='url'>Alex Cohn</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140226-00/?p=1653#comment-1109833">
			February 28, 2014 at 12:43 pm</a>		</div>

		<p>Another last resort to prevent automatic substitution: use the U+FF1x characters instead of U+003x</p>

		
				</div>
		</li><!-- #comment-## -->
		</ol><!-- .comment-list -->

		<div class="navigation pagination">
					</div>

	
			<p class="no-comments">Comments are closed.</p>
<!-- COMMENTS END -->
</div></td></tr></table>