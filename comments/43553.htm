<table class="commenttable" cellspacing="0" cellpadding="0"><tr><td><div class="commentdiv"><div class="commentdivhdr">
<!-- COMMENTS START -->
Comments (25)	</div>

	
			<div class="navigation pagination clear-both">
					</div>

		<ol class="comment-list">
					<li class="comment even thread-even depth-1" id="comment-1163453">
				<div id="div-comment-1163453" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">ಠ_ಠ</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20141124-00/?p=43553#comment-1163453">
			November 24, 2014 at 8:14 am</a>		</div>

		<p>ಠ_ಠ</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1163463">
				<div id="div-comment-1163463" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Joshua</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20141124-00/?p=43553#comment-1163463">
			November 24, 2014 at 8:51 am</a>		</div>

		<p>Looks vaguely like my downmapper from Windows-1252 to ASCII-7 (I forget why I needed it). Oh, and that trailing mark in the article looks like an owl&#39;s eyes.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1163473">
				<div id="div-comment-1163473" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Mark</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20141124-00/?p=43553#comment-1163473">
			November 24, 2014 at 8:53 am</a>		</div>

		<p>Joshua: you need to spend more time on the internet.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-alegrigoriev odd alt thread-odd thread-alt depth-1" id="comment-1163483">
				<div id="div-comment-1163483" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/alegr1' rel='external nofollow' class='url'>alegr1</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20141124-00/?p=43553#comment-1163483">
			November 24, 2014 at 8:54 am</a>		</div>

		<p>But how about &quot;coöperation&quot;. Does it get converted to &quot;cooperation&quot;?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1163493">
				<div id="div-comment-1163493" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">poizan42</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20141124-00/?p=43553#comment-1163493">
			November 24, 2014 at 8:59 am</a>		</div>

		<p>The categories for &#39;Ø&#39; seems to be a bug in Windows. Here is the entry from UnicodeData.txt:</p>
<p>00D8;LATIN CAPITAL LETTER O WITH STROKE;Lu;0;L;;;;;N;LATIN CAPITAL LETTER O SLASH;;;00F8;</p>
<p>That is U+00D8:</p>
<p>1 Name: LATIN CAPITAL LETTER O WITH STROKE</p>
<p>2 General_Category: Lu (Uppercase_Letter)</p>
<p>3 Canonical_Combining_Class: 0</p>
<p>4 Bidi_Class: L (Left_To_Right)</p>
<p>5 Decomposition_Type/Decomposition_Mapping: (none)</p>
<p>6,7,8 Numeric_Type/Numeric_Value: (none)</p>
<p>9 Bidi_Mirrored: N (No)</p>
<p>10 Unicode_1_Name: LATIN CAPITAL LETTER O SLASH</p>
<p>11 ISO_Comment: (none)</p>
<p>12 Simple_Uppercase_Mapping: (none)</p>
<p>13 Simple_Lowercase_Mapping: U+00F8 (&#39;ø&#39;)</p>
<p>14 Simple_Titlecase_Mapping: (none)</p>
<p>I don&#39;t think The Unicode Consortium has ever claimed that &#39;Ø&#39; was nonspacing nor a diacritic.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1163503">
				<div id="div-comment-1163503" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Macrosofter</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20141124-00/?p=43553#comment-1163503">
			November 24, 2014 at 9:00 am</a>		</div>

		<p>Or as more general sledgehammer approach you could use any good language detection library and reject texts in undetected or unknown to you languages. Of course you will find out that most of such libraries are based on Bayesian filtering which you plan to use for further spam rejection anyway, so language detection becomes sort of redundant. </p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1163513">
				<div id="div-comment-1163513" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Nick</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20141124-00/?p=43553#comment-1163513">
			November 24, 2014 at 9:12 am</a>		</div>

		<p>&quot;&#8230; C-ization of the C# code&#8230;&quot; would that be &quot;flattening,&quot; to remove the sharp-ness? I&#39;d go with &quot;dulling&quot; but the source of &quot;Sharp&quot; is music notation.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1163523">
				<div id="div-comment-1163523" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Katie</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20141124-00/?p=43553#comment-1163523">
			November 24, 2014 at 9:39 am</a>		</div>

		<p>@Nick, &quot;naturalization&quot; would be a good word for it too. Or maybe C is just the result of stripping the diacritic from C#.</p>
<div class="post">[<em>+1 for &quot;naturalization.&quot; It&#39;s a nice double-pun. -Raymond</em>]</div>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-alegrigoriev even thread-even depth-1" id="comment-1163533">
				<div id="div-comment-1163533" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/alegr1' rel='external nofollow' class='url'>alegr1</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20141124-00/?p=43553#comment-1163533">
			November 24, 2014 at 10:41 am</a>		</div>

		<p>&quot;&#8230; C-ization of the C# code&#8230;&quot;</p>
<p>That&#39;s melodic D-major scale for you.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1163543">
				<div id="div-comment-1163543" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">j b</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20141124-00/?p=43553#comment-1163543">
			November 24, 2014 at 11:24 am</a>		</div>

		<p>Re that Norwegian ø:</p>
<p>There has been, since the days of ISO 646, a Norwegian standard for converting ISO 646-60 to iSO 646 IRV (aka ASCII), saying to convert Æ to E, Ø to O and Å to A. (There is another standardard for context allowing a change in string length, with the conversions AE, OE and AA.)</p>
<p>First time I encountered this conversion was when a colleague reportet from an interational conference where only English keyboars where available (we didn&#39;t have personal portables at that time), tellig &quot;Jeg horer på en dame &#8230;.&quot;. The bad thing is that &quot;hore&quot; means &quot;whore&quot; in Norwegian, while &quot;høre&quot; means &quot;listen&quot;. So rather than telling &quot;I am listening to a lady&#8230;&quot; he told us &quot;I am whoring on a lady&#8230;&quot;. </p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1163553">
				<div id="div-comment-1163553" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Jonathan</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20141124-00/?p=43553#comment-1163553">
			November 24, 2014 at 11:47 am</a>		</div>

		<p>In Hebrew, diacritics are optional, so removing them actually does make sense. I think Arabic is the same.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-julioiglesiasphotmail-com odd alt thread-odd thread-alt depth-1" id="comment-1163563">
				<div id="div-comment-1163563" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Julio+Iglesias+P%C3%A9rez' rel='external nofollow' class='url'>Julio Iglesias Pérez</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20141124-00/?p=43553#comment-1163563">
			November 24, 2014 at 12:23 pm</a>		</div>

		<p>Useful and interesting, thanks!</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-iboyd even thread-even depth-1" id="comment-1163573">
				<div id="div-comment-1163573" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/IanBoyd' rel='external nofollow' class='url'>IanBoyd</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20141124-00/?p=43553#comment-1163573">
			November 24, 2014 at 1:10 pm</a>		</div>

		<p>I recently had the fortune to write this function (`RemoveDiacritics(str)`). I used an initial similar step:</p>
<p>&#8211; Normalize string into Decomposed (D) form: &quot;Unicode normalization form D, canonical decomposition. Transforms each precomposed character to its canonical decomposed equivalent. For example, Ä becomes A + ¨&quot;</p>
<p>I then also iterated every code point. But instead i checked if the WCHAR was in the unicode block Combining Diacritical Marks (U+0300..U+036F).</p>
<p>Of the four Unicode normalization forms:</p>
<p>&#8211; NormalizationC = 1; //canonical composition. For example, A + ¨ becomes Ä &nbsp;</p>
<p>&#8211; NormalizationD = 2; //canonical decomposition. For example, Ä becomes A + ¨ &nbsp;</p>
<p>&#8211; NormalizationKC = 5; //compatibility composition. For example, A + ¨ + ﬁ + n becomes Ä + f + i + n &nbsp;</p>
<p>&#8211; NormalizationKD = 6; //compatibility decomposition. For example, Ä + ﬁ + n becomes A + ¨ + f + i + n &nbsp;</p>
<p>i chose the &quot;Canonical Decomposition&quot;, as i didn&#39;t need ligatures decomposed.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1163583">
				<div id="div-comment-1163583" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Spelling Nat'l Socialist</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20141124-00/?p=43553#comment-1163583">
			November 24, 2014 at 1:47 pm</a>		</div>

		<p>Fetus wasn&#39;t the best example because it was never correctly spelled using the œ character; that was a mistake introduced sometime between 600 and 1600 AD. I don&#39;t know if it was corrected intentionally or due to Webster&#39;s Americanization efforts, but thankfully the medical world got back to the correct form of the word. Meant more as a fun fact than an actual nitpick.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1163593">
				<div id="div-comment-1163593" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">mikeb</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20141124-00/?p=43553#comment-1163593">
			November 24, 2014 at 2:18 pm</a>		</div>

		<p>Interesting, but I hope to never have to be responsible for dealing with this kind of functionality. It seems much harder than having to deal correctly with floating point, and I&#39;ve long since given up on that (about once a year I&#39;ll make an attempt to answer what appears to be an easy floating point question on Stackoverflow, and I always end up regretting that decision).</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1163613">
				<div id="div-comment-1163613" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Kevin</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20141124-00/?p=43553#comment-1163613">
			November 24, 2014 at 4:36 pm</a>		</div>

		<p>@mikeb: Floating point logic is easy: Everything is always wrong unless you&#39;ve conclusively proved it correct or used an arbitrary-precision library throughout the entire computation.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1163623">
				<div id="div-comment-1163623" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">SomeGuyOnTheInternet</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20141124-00/?p=43553#comment-1163623">
			November 24, 2014 at 4:44 pm</a>		</div>

		<p>Could you please write a Little Program to remove smart quotes from every computer everywhere? I am sick of my customers searching for O&#39;Brien and not finding O’Brien.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1163633">
				<div id="div-comment-1163633" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Beldantazar</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20141124-00/?p=43553#comment-1163633">
			November 24, 2014 at 5:10 pm</a>		</div>

		<p>@ SomeGuyOnTheInternet &nbsp;How about instead you fix your search system to actually work correctly and understand unicode apostrophes.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1163653">
				<div id="div-comment-1163653" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Boris</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20141124-00/?p=43553#comment-1163653">
			November 25, 2014 at 1:44 am</a>		</div>

		<p>But I don&#39;t see the need to blunt any code, seeing as you&#39;ve been adding more and more C# examples in what started out as &quot;not actually a .NET blog&quot;.</p>
<div class="post">[<em>This was a case of parallel evolution. After I wrote the program, I realized that Michael Kaplan already wrote it. -Raymond</em>]</div>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1163673">
				<div id="div-comment-1163673" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">morlamweb</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20141124-00/?p=43553#comment-1163673">
			November 25, 2014 at 7:07 am</a>		</div>

		<p>@Beldantazar: smart quotes have other problems not related to search. &nbsp;See Raymond&#39;s post on the topic: <a rel="nofollow" target="_new" href="http://blogs.msdn.com/b/oldnewthing/archive/2009/02/25/9443404.aspx">blogs.msdn.com/&#8230;/9443404.aspx</a></p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1163693">
				<div id="div-comment-1163693" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Viila</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20141124-00/?p=43553#comment-1163693">
			November 25, 2014 at 9:02 am</a>		</div>

		<p>&quot;But how about &quot;coöperation&quot;. Does it get converted to &quot;cooperation&quot;?&quot;</p>
<p>That&#39;s a good question. What should it convert into? In English ¨ is a diacritic that only modifies the pronunciation, but in Finnish and Swedish Ö and Ä are non-decomposable letters, just like Å. Either way, you&#39;re going to make somebody angry.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1163813">
				<div id="div-comment-1163813" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">SomeGuyOnTheInternet</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20141124-00/?p=43553#comment-1163813">
			November 25, 2014 at 4:59 pm</a>		</div>

		<p>@Beldantazar &#8211; you&#39;re assuming I have source code access to every system the user interacts with. I don&#39;t. The user presses the U+0027 key on the keyboard but does not get a U+0027 character. In fact, user presses the U+0027 key on the keyboard and will get one of three different characters! The user has typed the same sequence of keystrokes in two different apps and gets a different series of characters each time. </p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1163853">
				<div id="div-comment-1163853" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Boris</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20141124-00/?p=43553#comment-1163853">
			November 25, 2014 at 11:26 pm</a>		</div>

		<p>Coöperation simplifies down to co-erperation, obviously.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1163893">
				<div id="div-comment-1163893" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Marek</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20141124-00/?p=43553#comment-1163893">
			November 26, 2014 at 4:35 am</a>		</div>

		<p>Yeah, it can be fun with unicode: <a rel="nofollow" target="_new" href="https://twitter.com/aprilarcus/status/367557195186970624">twitter.com/&#8230;/367557195186970624</a></p>
<p>                        .</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1164003">
				<div id="div-comment-1164003" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Chris</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20141124-00/?p=43553#comment-1164003">
			November 26, 2014 at 9:33 am</a>		</div>

		<p>I am fully of the opinion that this was written simply to be able to end it with that smiley.</p>

		
				</div>
		</li><!-- #comment-## -->
		</ol><!-- .comment-list -->

		<div class="navigation pagination">
					</div>

	
			<p class="no-comments">Comments are closed.</p>
<!-- COMMENTS END -->
</div></td></tr></table>