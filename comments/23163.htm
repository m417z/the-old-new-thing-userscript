<table class="commenttable" cellspacing="0" cellpadding="0"><tr><td><div class="commentdiv"><div class="commentdivhdr">
<!-- COMMENTS START -->
Comments (62)	</div>

	
			<div class="navigation pagination clear-both">
					</div>

		<ol class="comment-list">
					<li class="comment even thread-even depth-1" id="comment-608453">
				<div id="div-comment-608453" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Messiant R</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20080310-00/?p=23163#comment-608453">
			March 10, 2008 at 12:36 pm</a>		</div>

		<p>I would&#8217;ve expected the answer to be &quot;how would you like the float to show up in its textual representation&quot; .. but the reason you described makes more sense.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-608493">
				<div id="div-comment-608493" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">stosb</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20080310-00/?p=23163#comment-608493">
			March 10, 2008 at 1:15 pm</a>		</div>

		<p>If Intel had their way, the GetDlgItemFloat function would return 0.9999999 for an item that says &quot;1&quot;.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-608503">
				<div id="div-comment-608503" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Nawak</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20080310-00/?p=23163#comment-608503">
			March 10, 2008 at 1:15 pm</a>		</div>

		<blockquote><p>
  Why are legacy burden like this not get deprecated
</p></blockquote>
<p>Wait, I may have misunderstood &quot;noone&quot;&#8217;s comment, as it seems he wants to get rid of some API functions just to free 0.001% of memory and break backwards compatibility.</p>
<p>The legacy burden may also apply to the &quot;not creation of new functions for floats&quot;, but really I can&#8217;t be sure because of the formulation.</p>
<p>In either case, Igor Levicki will answer:</p>
<ul>
<li>
<p>Why did MS spend so much time creating these useless functions instead of making Vista stable?</p>
</li>
<li>
<p>Why did MS remove these functions? SuperCoolSoft 2000 doesn&#8217;t work under Vista!!! What a piece of crap!</p>
</li>
</ul>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-608513">
				<div id="div-comment-608513" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Pierre B.</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20080310-00/?p=23163#comment-608513">
			March 10, 2008 at 1:17 pm</a>		</div>

		<p>Sitting here, sipping Pepsi-free in front of my C=64, reading your posting on Fidonet, I&#8217;ve got to say that makes a lot of sense.</p>
<p>Jonathan Wilson must be happy to know his question got somehow warped back to 1984.</p>
<p>Give people an OS and a SDK, and they&#8217;ll ask for minimal reusable functionality.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-608533">
				<div id="div-comment-608533" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">xorl</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20080310-00/?p=23163#comment-608533">
			March 10, 2008 at 1:26 pm</a>		</div>

		<p>@noone in particular: Because it would just cost more to deprecate the function, document it, handle complaints, then remove it and handle more complaints and support requests. Meanwhile ISV&#8217;s using the function would all have to write their own GetDlgItemInt.</p>
<p>Besides, &quot;in times of Quadcores with inbuilt Physics-engines and 4 GB default Mem&quot; you shouldn&#8217;t have to worry about a function as small GetDlgItemFloat sitting next to other small (useless/useful) functions in a single memory page. Your desktop wallpaper probably needs a few orders of magnitude more.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-608543">
				<div id="div-comment-608543" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Gabe</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20080310-00/?p=23163#comment-608543">
			March 10, 2008 at 1:30 pm</a>		</div>

		<p>I&#8217;m surprised nobody has yet announced that they didn&#8217;t have to include a whole FP library because division by 10 is the only non-integer operation required to in atof. Actually, I&#8217;m almost surprised that Igor hasn&#8217;t yet told us how trivially few bytes of optimized 8086 assembler it would take.</p>
<p>Of course maybe that&#8217;s because it still leaves the point that the few people who want such a function can write it themselves by calling atof.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-608553">
				<div id="div-comment-608553" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Erzengel</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20080310-00/?p=23163#comment-608553">
			March 10, 2008 at 1:30 pm</a>		</div>

		<blockquote><p>
  Jonathan Wilson must be happy to know his question got somehow warped back to 1984.</p>
<p>  Give people an OS and a SDK, and they&#8217;ll ask for minimal reusable functionality.
</p></blockquote>
<p>Basically Raymond&#8217;s post reads: &quot;When these particular functions were written, providing a float version was a Bad Ideaâ„¢. No one has since had a need to go back and revise it. When someone working on windows components needs a float version and makes one, then you&#8217;ll get that function. Until then, you&#8217;ll have to make your own. Feel free to distribute your own library.&quot;</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-mike-dimmick odd alt thread-odd thread-alt depth-1" id="comment-608563">
				<div id="div-comment-608563" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Mike+Dimmick' rel='external nofollow' class='url'>Mike Dimmick</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20080310-00/?p=23163#comment-608563">
			March 10, 2008 at 1:33 pm</a>		</div>

		<p>Most computer programs that use floating point should probably be using scaled integer arithmetic anyway. I&#8217;ve lost count of the number of times I&#8217;ve had to explain that there are only four values for the first two decimal places that can be accurately represented in floating point (and they are .00, .25, .50, and .75). Everything else is an approximation, which is what makes floating point so terrible for manipulating currency amounts.</p>
<p>Games still use a fair amount of floating point, I think. Quake was the first game I can recall that required the FPU. Any graphics computation in 2D ends up being clipped to pixels anyway, although GDI+ does all its text sizing in floating point.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-608573">
				<div id="div-comment-608573" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Thomas Maeder</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20080310-00/?p=23163#comment-608573">
			March 10, 2008 at 1:42 pm</a>		</div>

		<p>Actually, GetDlgItemInt() does communicate the success of the attempted conversion, which atoi() doesn&#8217;t.</p>
<p>But GetDlgItemInt doesn&#8217;t do anything you couldn&#8217;t already do with GetDlgItemText and strtol().</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-608583">
				<div id="div-comment-608583" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Nathan_works</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20080310-00/?p=23163#comment-608583">
			March 10, 2008 at 1:54 pm</a>		</div>

		<p>I wonder if that&#8217;s how atof() really works. I wrote a dumb parser doing just that, and the accumulated round off errors were hugely apparent after the thousandths place. A&#8217;La the Intel comment about 0.999999, only worse.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-608593">
				<div id="div-comment-608593" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">noone in particular</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20080310-00/?p=23163#comment-608593">
			March 10, 2008 at 1:55 pm</a>		</div>

		<p>Mike Dimmick:</p>
<blockquote><p>
  as it seems he wants to get rid of some API functions just to free 0.001% of memory and break backwards compatibility
</p></blockquote>
<p>Sure. But currency is only one small (in the number of applications, not the number of people doing it) part of programming.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-608613">
				<div id="div-comment-608613" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">noone in particular</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20080310-00/?p=23163#comment-608613">
			March 10, 2008 at 2:13 pm</a>		</div>

		<p>@alex.r.:</p>
<p>Yes, deprecating the *Int version as it is a two-liner to make it, or either get a decent API done, able to handle doubles as well as ints.</p>
<p>@Nawak:</p>
<p>I wouldn&#8217;t think deprecating an API as old as some of its programmers breaking compatibility.</p>
<p>They dumped the MSDOS-API and that was a good thing.</p>
<p>No they better had dumped Win16 as well.</p>
<p>And prepare us to dump Win32 in a few years and switch to .NET</p>
<p>@xorl:</p>
<p>Everyone needing GetDlgItemInt could roll their own in two lines of code. (When doing MFC, I always prefered DDX)</p>
<p>And I am worried more about, say, API hygiene than actual memory usage of some DLL, which is loaded once and then mapped.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-608623">
				<div id="div-comment-608623" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">pingpong</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20080310-00/?p=23163#comment-608623">
			March 10, 2008 at 2:24 pm</a>		</div>

		<p>@Noone in particular:</p>
<p>What about SendDlgItemMessage? Do you also want it deprecated?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-608643">
				<div id="div-comment-608643" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">alex.r.</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20080310-00/?p=23163#comment-608643">
			March 10, 2008 at 2:26 pm</a>		</div>

		<p>Noone in particular:</p>
<p>OK, well it may have symbolic value to deprecate it but since this was a public API, it would still have to be supported for a fair number of years before it can be removed.</p>
<p>&#8230; but ultimately, what would be the end goal? Having everyone write their own version of the function in the name of &#8216;API purity&#8217;?</p>
<p>I guess I don&#8217;t see the value in doing that.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-608653">
				<div id="div-comment-608653" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Xepol</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20080310-00/?p=23163#comment-608653">
			March 10, 2008 at 2:29 pm</a>		</div>

		<p>I smell flimsy rationalizations.</p>
<p>Translate this article as &quot;MS didn&#8217;t need it, you didn&#8217;t get it, because ultimately, MS didn&#8217;t get it&quot;</p>
<p>And apparently, some as MS still don&#8217;t. &nbsp;</p>
<p>A dark shadow in what is normally a bright ray of light. &nbsp;Sad, really.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-608663">
				<div id="div-comment-608663" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Aaron</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20080310-00/?p=23163#comment-608663">
			March 10, 2008 at 2:39 pm</a>		</div>

		<p>It&#8217;s mind-boggling how many words some people can spew out through their keyboards without managing to express a single coherent thought.</p>
<p>&quot;Get a decent API done?&quot; &nbsp;Okay Mr. Disgruntled Anonymous Nobody Posting on a Microsoft Employee&#8217;s Personal Blog, I&#8217;m sure all you&#8217;d have to do is e-mail your resume to Steve Balmer along with a copy of your comments here, and he&#8217;d be more than happy to sign you onto the payroll to lecture their Windows designers on how to design a &quot;decent&quot; API. &nbsp;Why not give it a try?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-608673">
				<div id="div-comment-608673" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Tim Smith</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20080310-00/?p=23163#comment-608673">
			March 10, 2008 at 2:53 pm</a>		</div>

		<p>It makes me sad to think of all these people who&#8217;s software failed to ship because MS didn&#8217;t supply a GetDlgItemFloat. &nbsp;</p>
<p>If that is the biggest problem holding up your software, then find another profession and do us all a favor.</p>
<p>(In response to another post, not Raymond) Most games use a HUGE amount of floating point.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-608683">
				<div id="div-comment-608683" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">David Walker</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20080310-00/?p=23163#comment-608683">
			March 10, 2008 at 3:30 pm</a>		</div>

		<p>I would have guessed that all font scaling for display purposes (as in every invocation of Microsoft Word, when it draws your text in some font or other, to the screen) and all screen drawing code would need floating point calculations. &nbsp;But I could easily be wrong. &nbsp;</p>
<p>:-)</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-608723">
				<div id="div-comment-608723" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Gabe</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20080310-00/?p=23163#comment-608723">
			March 10, 2008 at 5:22 pm</a>		</div>

		<p>I would guess that a significant number of programs that use FP nowadays would have used integer math (fixed-point or BCD) 20 years ago. Pretty much all 2D graphics algorithms actually use fixed-point math instead of FP.</p>
<p>FP used to be a huge performance penalty that you would only pay if you had to. Now that almost all CPUs come with fast integrated FP units, there&#8217;s no longer any penalty associated with FP and so programmers can use them without remorse.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-608733">
				<div id="div-comment-608733" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">irql</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20080310-00/?p=23163#comment-608733">
			March 10, 2008 at 5:30 pm</a>		</div>

		<p>@Triangle: but that makes it look like if Microsoft can always come up with better code then others. Hah. Hahahahaha. I don&#8217;t agree with Igor but c&#8217;mon&#8230;</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-608743">
				<div id="div-comment-608743" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Triangle</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20080310-00/?p=23163#comment-608743">
			March 10, 2008 at 5:59 pm</a>		</div>

		<p>I was actually reffering to things like this <a rel="nofollow" target="_new" href="http://blogs.msdn.com/oldnewthing/archive/2006/06/13/629451.aspx" rel="nofollow">http://blogs.msdn.com/oldnewthing/archive/2006/06/13/629451.aspx</a></p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-608763">
				<div id="div-comment-608763" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">MS</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20080310-00/?p=23163#comment-608763">
			March 10, 2008 at 6:36 pm</a>		</div>

		<p>Maybe it is just me, but I do not understand why people are going nuts over such a small thing. &nbsp;And trying to summarize about all of Windows development from this one thing.</p>
<p>There isn&#8217;t a float version! &nbsp;The world IS GOING TO END! &nbsp;Or rather, MSFT doesn&#8217;t get it because I said so.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-madq42 even thread-even depth-1" id="comment-608773">
				<div id="div-comment-608773" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/MadQ1' rel='external nofollow' class='url'>MadQ1</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20080310-00/?p=23163#comment-608773">
			March 10, 2008 at 6:43 pm</a>		</div>

		<p>I had something interesting to say, but it&#8217;s too hard to type with bruised swollen fingers.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-608783">
				<div id="div-comment-608783" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Nawak</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20080310-00/?p=23163#comment-608783">
			March 10, 2008 at 7:26 pm</a>		</div>

		<p>Gabe</p>
<blockquote><p>
  there&#8217;s no longer any penalty associated with FP
</p></blockquote>
<p>For most application, the penalty isn&#8217;t noticeable, true, but there may still be one.</p>
<p>I say &#8216;may&#8217; because I don&#8217;t really know how an OS handles FP context on x86, but on powerpc, the OS can disable FP, and then skip the save/restore of the FP registers to lessen the context-switch time.</p>
<p>When an application use FP math, the OS handles the associated exception, activates the FPU for this task and does the save/restore thing.</p>
<p>Context-switch times are really important for some applications. Of course, my comment was mostly &quot;FYI&quot;, as you must have meant &quot;noticeable&quot; when talking about the penalty and in this regard, you are right, for user-driven application, the penalty isn&#8217;t noticeable.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-608463">
				<div id="div-comment-608463" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">noone in particular</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20080310-00/?p=23163#comment-608463">
			March 10, 2008 at 12:49 pm</a>		</div>

		<p>&gt; Most computer programs don&#8217;t use floating point anyway.</p>
<p>Actually, there are only a few, mostly trivial, programs *not* using float (double, for that matter). Working in technical computing, my own software maybe does not count. It is completely about floating point math.</p>
<p>But almost any SW I use on a day to day basis does use floats (or has at least have some in the GUI, even if using fixed-point math internally).</p>
<p>But the main point is: Why are legacy burden like this not get deprecated in, say, WindowsME and phased out in XP? What seemed to be a good idea in times of the 8086 is stupid and API-clutter in times of Quadcores with inbuilt Physics-engines and 4 GB default Mem.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-608483">
				<div id="div-comment-608483" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">alex.r.</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20080310-00/?p=23163#comment-608483">
			March 10, 2008 at 1:01 pm</a>		</div>

		<p>noone in particular:</p>
<p>What clutter? Wasn&#8217;t the point that there is *no* function? </p>
<p>Deprecating is something, making something new is something else.</p>
<p>Or do you suggest deprecating the *Int versions?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-608793">
				<div id="div-comment-608793" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">bd_</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20080310-00/?p=23163#comment-608793">
			March 10, 2008 at 8:19 pm</a>		</div>

		<p>@nearly everyone,</p>
<p>The reason MS put the function in in the first place was to deal with memory limitations in very early versions of windows. After that, they couldn&#8217;t remove it, because even if you deprecate it, there will be some, new, &#8216;enterprise&#8217;, &#8216;mission-critical&#8217; application using it, because it was built off of older examples, without reading docs or deprecation release notes. As others have said, it hardly costs anything to /keep/ at this point, so it&#8217;s not worth pushing the issue and breaking all those applications.</p>
<p>@Nawak</p>
<p>I don&#8217;t know how the Windows kernel handles FP, but Linux at least does exactly this technique. It would seem likely that windows would as well. Note that on Linux at least it will skip FP restore/save whenever the application spends a time slice (or at least time between schedules, if it yields earlier) without doing FP, so even applications which do /some/ FP get the benefit when they&#8217;re in an integer math only path.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-608523">
				<div id="div-comment-608523" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">sickofthisshit</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20080310-00/?p=23163#comment-608523">
			March 10, 2008 at 1:24 pm</a>		</div>

		<p>The idea that you need a 8087 co-processor to process floating point numbers is just idiotic. You need it to *speed up* processing of things like transcendental functions, and to use the co-processor opcodes, but, guess what?, the 8087 doesn&#8217;t have a &quot;convert text to FP format&quot; instruction. That code is written in plain-old x86 code *even if* you have a coprocessor.</p>
<p>GWBasic does just fine interpreting floating point text and numbers without an 8087 or an 8087 emulator library.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-608603">
				<div id="div-comment-608603" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">J</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20080310-00/?p=23163#comment-608603">
			March 10, 2008 at 2:10 pm</a>		</div>

		<p>&quot;That code is written in plain-old x86 code *even if* you have a coprocessor.&quot;</p>
<p>Duh, which was why Raymond said, &quot;as well as atof (which is not an easy function to write).&quot; &nbsp;Since nobody needed floating point support in the Window manager or whatever, there&#8217;s no purpose of even providing atof for GetDlgItemFloat.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-608633">
				<div id="div-comment-608633" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">mikeb</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20080310-00/?p=23163#comment-608633">
			March 10, 2008 at 2:24 pm</a>		</div>

		<p>Wow &#8211; I can&#8217;t believe the number of people who seem upset that the Win32 API doesn&#8217;t contain GetDlgItemFloat() or that seem upset that it *does* contain GetDlgItemInt().</p>
<p>Let&#8217;s get on to the important stuff though &#8211; where&#8217;s my ten dollars (look &#8211; I&#8217;ll settle for the five)? &nbsp;I left my wallet at home today, and I need to buy lunch!</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-608803">
				<div id="div-comment-608803" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Anon</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20080310-00/?p=23163#comment-608803">
			March 10, 2008 at 9:43 pm</a>		</div>

		<p>It&#8217;s not there&#8230;..</p>
<p>I didn&#8217;t miss it.</p>
<p>HTH</p>
<p>:)</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-madq42 odd alt thread-odd thread-alt depth-1" id="comment-608813">
				<div id="div-comment-608813" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/MadQ1' rel='external nofollow' class='url'>MadQ1</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20080310-00/?p=23163#comment-608813">
			March 10, 2008 at 9:55 pm</a>		</div>

		<p>On x86, the OS sets the TS bit of control register zero during a task switch. The CPU then generates interrupt 7 (device not ready) when it encounters an instruction that uses the FPU registers, at which point the FPU or MMX state is saved.</p>
<p>Whoops! Sorry if was premature, Raymond!</p>
<p>P.S. Ow!</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-608823">
				<div id="div-comment-608823" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Yuhong Bao</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20080310-00/?p=23163#comment-608823">
			March 10, 2008 at 10:24 pm</a>		</div>

		<p>&quot;So why stop there? Why not also do floating point? Well, the 8086 processor doesn&#8217;t have floating point support. If you wanted hardware floating point support, you had to shell out the extra bucks for an 8087 coprocessor.&quot;</p>
<p>And that was true until the 486, where there was a DX version that had a FPU, and there was a SX version that did not had a FPU. BTW, the &quot;487SX&quot; was really a 486DX that was modified with an extra pin to fit into a FPU socket on the 486 motherboard, and was designed to disable the 486SX. That FPU socket later became the OverDrive socket and later called &quot;Socket 1&quot;, and the OverDrives that were supposed to plug into it disabled the 486SX in the same way as the 487SX.</p>
<p>&quot;Quake was the first game I can recall that required the FPU. &quot;</p>
<p>Which is why it made the 486 obsolete and is one of the programs which did benefit from a Pentium OverDrive.</p>
<p>BTW, Intel made the RapidCAD for a similar reason to this.</p>
<p>Triangle: Each version of Windows have some new features that don&#8217;t require much resources to implement.</p>
<p>For example, Windows XP have support for SYSENTER and SYSCALL, which could benefit some Pentium Pros (not all, because of bugs), even if they can&#8217;t run XP well. And Vista have CancelSynchronousIo and IsThreadAFiber, both of which don&#8217;t require much resource to implement. BTW, have anyone trimmed Vista to the extent that it runs on older hardware well, while still having this kind of new APIs.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-608713">
				<div id="div-comment-608713" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Triangle</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20080310-00/?p=23163#comment-608713">
			March 10, 2008 at 4:57 pm</a>		</div>

		<p>This seems to be a reccuring theme in the Windows world.</p>
<p>Win32 developer: Why is there no API to do X ?</p>
<p>Microsoft: X is sooo easy, do it yourself.</p>
<p>Win32 developer: *Stumbles around for awhile on the MSDN, Google, forums, what have you. Eventually creates a solution that seems to work as if by magic.</p>
<p>&lt;A few years pass&gt;</p>
<p>Microsoft: Try out Windows N! It&#8217;s got all these new features and frameworks and APIs!</p>
<p>Big name magazine: Program K doesn&#8217;t work on Windows N! Windows N is the worst software product in the history of mankind.</p>
<p>&lt;Microsoft disassembles program K&gt;</p>
<p>Microsoft: *censored*</p>
<p>&lt;few more years pass&gt;</p>
<p>Raymond Chen: A few years ago, I ran into an interesting compatibility where a program (Let&#8217;s call it program K) did F: &#8230;</p>
<p>Software is so interesting :)</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-608833">
				<div id="div-comment-608833" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Igor Levicki</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20080310-00/?p=23163#comment-608833">
			March 11, 2008 at 12:16 am</a>		</div>

		<blockquote><p>
  &gt;Of course maybe that&#8217;s because it still leaves the point that the few people who want such a function can write it themselves by calling atof.&lt;&lt;
</p></blockquote>
<p>Surely you can call atof() but what if you want &quot;live&quot; edit box? What if you want to perform some calculation and display the result in a static control or in another edit box each time user enters a new digit into the edit field?</p>
<p>That is not just atof() anymore but validating each character on WM_CHAR, watching out for &quot;.&quot;, &quot;-&quot; and eventually &quot;e&quot;, making sure they are in right place and that the number is in a valid range, etc. To do that and pass the control keys to the parent dialog you have to SetWindowSubclass() on the edit control. Even better if you wrap it up in a neat C++ class where each object takes care of itself and you just pick the pieces together.</p>
<p>In my opinion, that is the kind of functionality we are missing in Windows API and which we are doomed to reinvent, not GetDlgItemFloat().</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-608853">
				<div id="div-comment-608853" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Igor Levicki</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20080310-00/?p=23163#comment-608853">
			March 11, 2008 at 12:31 am</a>		</div>

		<p>Just so you people know, Raymond Chen is censoring some of my comments, particulary those where I question lack of innovation and performance improvements in Microsoft&#8217;s software products.</p>
<p>While I am trying to be objective, he is trying to ridicule me with those pre-emptive comments.</p>
<p>I&#8217;ll miss some of you whose comments were sometimes more interesting than Raymond&#8217;s posts.</p>
<p>Raymond, I&#8217;d rather censor myself at this point, thank you. So&#8230; goodbye everyone, and thanks for all the fish!</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-608863">
				<div id="div-comment-608863" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Yuhong Bao</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20080310-00/?p=23163#comment-608863">
			March 11, 2008 at 12:40 am</a>		</div>

		<blockquote><p>
  Just so you people know, Raymond Chen is censoring some of my comments, particulary those where I question lack of innovation and performance improvements in Microsoft&#8217;s software products.
</p></blockquote>
<p>Well, that is OK for me. I would not go as far as Igor would go in terms of Microsoft.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-608873">
				<div id="div-comment-608873" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Yuhong Bao</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20080310-00/?p=23163#comment-608873">
			March 11, 2008 at 12:41 am</a>		</div>

		<blockquote><p>
  particulary those where I question lack of innovation and performance improvements in Microsoft&#8217;s software products.
</p></blockquote>
<p>Not the place for this, Igor.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-608883">
				<div id="div-comment-608883" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Ulric</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20080310-00/?p=23163#comment-608883">
			March 11, 2008 at 1:05 am</a>		</div>

		<p>I remember noticing the lack of a Get/SetDlgItemFloat in the 90s.</p>
<p>The GetDlgItemFloat might have work, but then you have the problem of the SetDlgItemFloat. &nbsp;Most of the time of us who need this prefer handling the formatting ourselves anyway. &nbsp;</p>
<p>At what point did floating point emulation come with Windows? &nbsp;I remember loving that I didn&#8217;t have to worry about floating point emulation in Windows 3.x. &nbsp;Before that, we had to chose to support the co-processor or not at compile time. &nbsp;</p>
<p>One thing before I go: an example of a common use of floating point in a dialog is for measurement, for example for paper size in a print dialog.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-dean-harding odd alt thread-odd thread-alt depth-1" id="comment-608893">
				<div id="div-comment-608893" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Dean+Harding' rel='external nofollow' class='url'>Dean Harding</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20080310-00/?p=23163#comment-608893">
			March 11, 2008 at 1:14 am</a>		</div>

		<p>&quot;Just so you people know, Raymond Chen is censoring some of my comments&quot;</p>
<p>Is that a problem? You&#8217;ve got your own blog&#8230; if it&#8217;s really that important that you get your message out, Raymond can&#8217;t touch you over there.</p>
<p>Oh right, the traffic on Raymond&#8217;s blog is much higher than you own. Well, maybe that&#8217;s because nobody cares what you have to say?</p>
<p>&quot;So&#8230; goodbye everyone, and thanks for all the fish!&quot;</p>
<p>Seriously, I don&#8217;t think you&#8217;re going to be missed.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-608913">
				<div id="div-comment-608913" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Anon</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20080310-00/?p=23163#comment-608913">
			March 11, 2008 at 2:21 am</a>		</div>

		<p>@Ulric</p>
<p>&quot;At what point did floating point emulation come with Windows? &nbsp;I remember loving that I didn&#8217;t have to worry about floating point emulation in Windows 3.x. &nbsp;Before that, we had to chose to support the co-processor or not at compile time. &quot;</p>
<p>I found some fascinating information on that &#8211;</p>
<p>&quot;Win16 applications</p>
<p>Win16 applications are typically compiled to have fixup records in their object code that contain floating-point instructions and calls to the 16-bit floating-point emulator, WIN87EM. If the computer&#8217;s processor supports floating-point instructions, or if a coprocessor is present, the loader resolves the fixups to the floating-point instructions, and the instructions will be executed. If floating-point hardware is not detected, the loader resolves the fixups to the calls to WIN87EM, and the emulator will be executed.</p>
<p>WIN87EM does not intercept floating-point instructions that applications execute; it runs only when it is explicitly called. Therefore, make sure that Win16 applications are compiled to support emulation, which will tell the linker to put fixup records in the executable.&quot;</p>
<p>Cunning eh? If you have an floating point processor you end up using it with maybe a small penalty. If not you end up in the emulation code without the penalty of an co processor not present exception.</p>
<p>I say small penalty because the FP instruction the loader overwrites as it processes the fixup may be smaller than a near call into the emulator, in which case you could pad it with NOPs so the loader has space to write the call. Or you could make all the floating point routines call the emulator by default and then overwrite those functions with an FP instruction and a return if an co processor was present. Either way it seems like you&#8217;ll waste an instruction or two.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-608933">
				<div id="div-comment-608933" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">lullo</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20080310-00/?p=23163#comment-608933">
			March 11, 2008 at 4:30 am</a>		</div>

		<p>I wonder if there&#8217;ll be more pre-emptive Igor comments now that he&#8217;s gone (yaay) and Raymond is too (yaaa&#8230; uh&#8230; oh -.-&#8221; )</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-608953">
				<div id="div-comment-608953" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Yay igorless</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20080310-00/?p=23163#comment-608953">
			March 11, 2008 at 6:33 am</a>		</div>

		<p>No more Igor, yay!</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-608973">
				<div id="div-comment-608973" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">pingpong</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20080310-00/?p=23163#comment-608973">
			March 11, 2008 at 6:59 am</a>		</div>

		<p>@Igor:</p>
<p>You should start a joint-venture Vista bash-fest with Norman. THAT would be something I&#8217;d like to see :)</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-609003">
				<div id="div-comment-609003" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Triangle</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20080310-00/?p=23163#comment-609003">
			March 11, 2008 at 8:26 am</a>		</div>

		<p>I think we&#8217;re witnessing the elevation of spamming to an art form here.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-608903">
				<div id="div-comment-608903" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Worf</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20080310-00/?p=23163#comment-608903">
			March 11, 2008 at 1:52 am</a>		</div>

		<p>Then again, by not providing the float/double version, Microsoft just gave people one less way to hang themselves.</p>
<p>Floats and doubles are bad unless you understand why they&#8217;re bad and how to work around the limitations. Like a floating point number is an *approximation*. Or how an extra bit is actually hidden away by normalization.</p>
<p>Or how you can have &quot;if (0.4f + 0.6f != 1) { printf(&quot;Math go funnyn); }&quot; actually print the message out. (You cannot test equality in floating point to have it work reliably). Or how doing a set of operations the wrong way can corrupt your number to uselessness.</p>
<p>Things get worse when you go embedded and realize the only way to transfer floating point data is via&#8230; text encoding.</p>
<p>See &quot;What Every Computer Scientist Should Know About Floating-Point Arithmetic&quot; (search it) for how to spend a week debugging floating point errors that go haywire.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-609023">
				<div id="div-comment-609023" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">gotchas</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20080310-00/?p=23163#comment-609023">
			March 11, 2008 at 9:33 am</a>		</div>

		<ol>
<li>
<p>atof doesn&#8217;t use x87 coprocessor instructions.</p>
</li>
<li>
<p>atof doesn&#8217;t handle locale specific decimal separators. Btw, how is a program currently supposed to read locale specific floating point numbers from an editbox?</p>
</li>
<li>
<p>What about other floating point formats, &quot;10E5&quot;, &quot;10e5&quot; &quot;.01&quot;, should a GetDlgItemFloat handle that to?</p>
</li>
<li>
<p>A corresponding SetDlgItemFloat would also be required, it would be trickier to implement without a floating point library.</p>
</li>
<li>
<p>EditBox do have a window style (bit) to only accept numeric characters, &quot;number&quot;. It would be nice (required) to add another bit to the windows style dword (or exstyle dword) which would have the window manager to accept floating point numbers (and not any not arbitrary strings). That code would be much more complex (than validating simple integers) to support and validate every possible syntax of a floating point number.</p>
</li>
</ol>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-609053">
				<div id="div-comment-609053" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Neil</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20080310-00/?p=23163#comment-609053">
			March 11, 2008 at 11:14 am</a>		</div>

		<p>Some DOS compilers actually provided two versions of the printf/scanf family of functions, one that included floating-point conversions and one that didn&#8217;t; the compiler tried to guess whether your program needed floating-point conversions, and indicated to the linker to use the appropriate version.</p>
<p>0.4 + 0.6 equals 1 in any useful implementation, because they round in different directions.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-609163">
				<div id="div-comment-609163" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Pete</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20080310-00/?p=23163#comment-609163">
			March 11, 2008 at 2:42 pm</a>		</div>

		<p>Watching a debate of the de/merits of floating point is like watching a flame war about Mac vs. Windows vs. Linux. Horses for courses, people. Use the right tool for the job. Know your tools. Get over yourselves. Class dismissed.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-608993">
				<div id="div-comment-608993" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">mike teh tv</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20080310-00/?p=23163#comment-608993">
			March 11, 2008 at 8:03 am</a>		</div>

		<p>Ladies and gentleman&#8230; In the left corner, misterrrrrrr Normannnnn Diamonnnnnnnnnnnd!!!!! *cheers* *boos* And in the right corner, misterrrrrr Igorrrrrrrr Levvy-Levickai-Levickiiiiiiiiiiiiiiiiiii!!!!! *cheers* *boos* *more cheers* *even more boos* llllllllLLLLLLLLLLLLLLET&#8217;s get ready to arguuuuuuuuuuuuuuuuuuuuuuuuuuuuue! Ding ding ding!</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-609183">
				<div id="div-comment-609183" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Ulric</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20080310-00/?p=23163#comment-609183">
			March 11, 2008 at 3:43 pm</a>		</div>

		<p>btw I&#8217;ve been browsing this blog for years and I&#8217;ve never noticed Igor (but I&#8217;ve noticed Normand, who is omnipresent), so I wonder if this was a little bit uncalled for? &nbsp;I believe this may not be ethical. &nbsp;better delete posts that are offensive than single out posters on the main page.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-609013">
				<div id="div-comment-609013" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">SuperKoko</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20080310-00/?p=23163#comment-609013">
			March 11, 2008 at 9:27 am</a>		</div>

		<p>sickofthisshit wrote:</p>
<p>&quot;</p>
<p>That code is written in plain-old x86 code *even if* you have a coprocessor.</p>
<p>&quot;</p>
<p>This code has to use FP operations (multiplications and additions), either emulated or not.</p>
<p>Windows would have to contain fmul and fadd emulation.</p>
<p>noone in particular wrote:</p>
<p>&quot;</p>
<p>Working in technical computing, my own software maybe does not count.</p>
<p>&quot;</p>
<p>Exactly. It highly depends of the domain.</p>
<p>In kernel/driver programming and non-mathematical applications (e.g. Microsoft Word) FP is rarely needed.</p>
<p>Would you want to deprecate integers?</p>
<p>Hey, integers are MUCH more reliable than FP.</p>
<p>If you don&#8217;t believe me, read the C99 spec to see than things as simple as x+y == x+y aren&#8217;t guaranteed. Then, test compilers such as GCC to see that they don&#8217;t even comply with the quite-minimalistic C99 specs!</p>
<p>Using FP, with care, where they&#8217;re appropriate is perfect (e.g. intersections, positions and movements computing in games &amp; simulations).</p>
<p>Using FP where integers would fit (e.g. array indexes) is foolish. It opens the door to bugs.</p>
<p>noone in particular wrote:</p>
<p>&quot;</p>
<p>I wouldn&#8217;t think deprecating an API as old as some of its programmers breaking compatibility.</p>
<p>&quot;</p>
<p>What&#8217;s the rationale for deprecating GetDlgItemInt.</p>
<p>Deprecating an API makes sense when it&#8217;s weak, insecure, or replaced by something better. I don&#8217;t see such a thing there.</p>
<p>&quot;</p>
<p>And prepare us to dump Win32 in a few years and switch to .NET</p>
<p>&quot;</p>
<p>With this policy, be sure that everybody will switch to GNU/Linux+WINE.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-609253">
				<div id="div-comment-609253" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Igor Levicki</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20080310-00/?p=23163#comment-609253">
			March 11, 2008 at 5:12 pm</a>		</div>

		<p>Ulric, let him have it his way. He is just showing that he cannot accept criticism and convert it into actual code improvement instead of getting it personally. Fortunately there are other people in Microsoft who aren&#8217;t like him.</p>
<p>During all my posting here I made one offensive post that I am aware of (something about weight and Americans) and it was not published although some other posts which were offending to people from Europe were left intact.</p>
<p>Anyway, I am out of here. Have a nice day everyone.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-609263">
				<div id="div-comment-609263" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Reginald Wellington III</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20080310-00/?p=23163#comment-609263">
			March 11, 2008 at 6:01 pm</a>		</div>

		<p>Igor: &nbsp;Later, and it&#8217;s nice to see you go!</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-dean-harding even thread-even depth-1" id="comment-609283">
				<div id="div-comment-609283" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Dean+Harding' rel='external nofollow' class='url'>Dean Harding</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20080310-00/?p=23163#comment-609283">
			March 11, 2008 at 6:09 pm</a>		</div>

		<p>Ulric: Norman was so last year&#8230; I haven&#8217;t seen him (here) for a while.</p>
<p>Igor: I thought you&#8217;d left already? Your posts don&#8217;t have to be offensive to be deleted. It&#8217;s Raymond&#8217;s blog; they&#8217;re Raymond&#8217;s rules. He can delete your comments for whatever reason he likes. As I already said, you&#8217;ve got your own blog so I don&#8217;t see what the problem is.</p>
<p>I remember when we were having similar trouble with Norman, his argument was that he couldn&#8217;t be bothered setting up a blog just so he could rant, but that argument doesn&#8217;t work for you&#8230;</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-609303">
				<div id="div-comment-609303" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">barf</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20080310-00/?p=23163#comment-609303">
			March 11, 2008 at 7:33 pm</a>		</div>

		<p>Raymond removed a lot of my comments too. Actually I don&#8217;t quite miss most of them.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-609373">
				<div id="div-comment-609373" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Yay igorless</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20080310-00/?p=23163#comment-609373">
			March 12, 2008 at 6:05 am</a>		</div>

		<p>Why are you still posting? I thought you left for good, so shoo.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-609393">
				<div id="div-comment-609393" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Deepz0ne</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20080310-00/?p=23163#comment-609393">
			March 12, 2008 at 8:14 am</a>		</div>

		<p>Raymond removed a lot of my comments too. Actually I quite miss most of them.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-609563">
				<div id="div-comment-609563" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">barf</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20080310-00/?p=23163#comment-609563">
			March 12, 2008 at 2:41 pm</a>		</div>

		<p>Then stop writing comments, LOL.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-609753">
				<div id="div-comment-609753" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">SuperKoko</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20080310-00/?p=23163#comment-609753">
			March 13, 2008 at 6:25 am</a>		</div>

		<p>gotchas wrote:</p>
<p>&quot;1. atof doesn&#8217;t use x87 coprocessor instructions.&quot;</p>
<p>Did you get the source code?</p>
<p>The best I found is GLIBC&#8217;s source code, and it definitively uses FP instructions.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-609883">
				<div id="div-comment-609883" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">David Walker</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20080310-00/?p=23163#comment-609883">
			March 13, 2008 at 12:39 pm</a>		</div>

		<p>Windows Forms uses floating point, according to</p>
<p>&lt;a&gt;<a rel="nofollow" target="_new" href="http://msdn2.microsoft.com/en-us/library/ms229605.aspx&lt;/a&gt;" rel="nofollow"></a><a href="http://msdn2.microsoft.com/en-us/library/ms229605.aspx&lt;/a&#038;gt" rel="nofollow">http://msdn2.microsoft.com/en-us/library/ms229605.aspx&lt;/a&#038;gt</a>;</p>
<p>which is an MSDN article titled &quot;Automatic Scaling in WindowsForms&quot;, and covers .NET 1.0, 1.1, 2.0 and 3.5..</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-609913">
				<div id="div-comment-609913" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">John</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20080310-00/?p=23163#comment-609913">
			March 13, 2008 at 1:19 pm</a>		</div>

		<p>It&#8217;s all strings and ints isn&#8217;t it? &nbsp;Most programs just use these two basic values. &nbsp;That&#8217;s what makes .NET work so well, it does strings and ints just fine.</p>
<p>John</p>

		
				</div>
		</li><!-- #comment-## -->
		</ol><!-- .comment-list -->

		<div class="navigation pagination">
					</div>

	
			<p class="no-comments">Comments are closed.</p>
<!-- COMMENTS END -->
</div></td></tr></table>