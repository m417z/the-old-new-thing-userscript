<table class="commenttable" cellspacing="0" cellpadding="0"><tr><td><div class="commentdiv"><div class="commentdivhdr">
<!-- COMMENTS START -->
Comments (9)	</div>

	
			<div class="navigation pagination clear-both">
					</div>

		<ol class="comment-list">
					<li class="comment even thread-even depth-1 parent" id="comment-1333815">
				<div id="div-comment-1333815" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Dan</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20180420-00/?p=98565#comment-1333815">
			April 20, 2018 at 10:05 am</a>		</div>

		<p>Now that you&#8217;re done with your tour of MIPS (which brings back memories of my university Computer Architecture course), would you consider writing a similar series about x86?  I know that it&#8217;s the ubiquitous PC ISA and you&#8217;ve already written much about it, but having a similar systematic treatment of its register set, memory models, and arithmetic/logic/control-flow instructions, would help illustrate what makes x86 unique.</p>

		
				</div>
		<ol class="children">
		<li class="comment byuser comment-author-mngoldeneagle odd alt depth-2" id="comment-1333835">
				<div id="div-comment-1333835" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/MNGoldenEagle' rel='external nofollow' class='url'>MNGoldenEagle</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20180420-00/?p=98565#comment-1333835">
			April 20, 2018 at 12:15 pm</a>		</div>

		<p>I&#8217;d actually find that really interesting, having never worked with x86/x86-64 assembly myself and always wondered how it differed.  The few times I&#8217;ve had to dive into assemblyland has mostly been JVM microcode and MIPS assembly.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even depth-2" id="comment-1334005">
				<div id="div-comment-1334005" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://twitter.com/chaign_c' rel='external nofollow' class='url'>chaign_c</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20180420-00/?p=98565#comment-1334005">
			April 24, 2018 at 3:17 am</a>		</div>

		<p>Hey you can use arm_now to quickly deploy a MIPS virtualmachine, within 30 secondes (install + setup + run).<br />
<a href="https://github.com/nongiach/arm_now" rel="nofollow">https://github.com/nongiach/arm_now</a><br />
arm_now support a lot of cpu architectures, you can write similar series for whatever arch you want</p>

		
				</div>
		</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1333825">
				<div id="div-comment-1333825" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Joshua</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20180420-00/?p=98565#comment-1333825">
			April 20, 2018 at 10:09 am</a>		</div>

		<p>Don&#8217;t be sorry. The branch delay slot make the whole thing worthwhile.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1333845">
				<div id="div-comment-1333845" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">aap</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20180420-00/?p=98565#comment-1333845">
			April 21, 2018 at 10:25 am</a>		</div>

		<p>Thanks for series. I take it PowerPC is next?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1 parent" id="comment-1333855">
				<div id="div-comment-1333855" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Antonio Rodr√≠guez</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20180420-00/?p=98565#comment-1333855">
			April 21, 2018 at 9:15 pm</a>		</div>

		<p>While reading the code, I have found the 40 byte stack frame reserved by the compiler (0x28, or ten words) is excessive. Some slots are left untouched (offsets 0x14 and 0x20), some could be saved (AFAIK, the specification allows you to freely use the slots reserved for non-defined parameters, in this case offsets 0x04 through 0x0c, so you use them instead of booking 0x24 and 0x28), and finally, some are plainly wasted (offset 0x10 saves sp, but if sp somehow got overwritten, how would you recover it?). All in all, such a simple function would be able to do most of its work in the parameter back up space.</p>
<p>Raymond&#8217;s version is much more reasonable: it uses 16 bytes less while still playing by the rules. You would expect modern compilers to do a better job&#8230;</p>

		
				</div>
		<ol class="children">
		<li class="comment even depth-2" id="comment-1333865">
				<div id="div-comment-1333865" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Scarlet Manuka</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20180420-00/?p=98565#comment-1333865">
			April 23, 2018 at 12:06 am</a>		</div>

		<p>What makes you think this is a modern compiler? The other articles in the series have referenced the 1992 and 1995 compilers, so I&#8217;d expect it to be one of those (and by previous accounts, the 1992 compiler didn&#8217;t do quite a few things that it could have.)</p>

		
				</div>
		</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
		<li class="comment byuser comment-author-fredericmagnyf odd alt thread-even depth-1" id="comment-1333935">
				<div id="div-comment-1333935" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Medinoc' rel='external nofollow' class='url'>Medinoc</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20180420-00/?p=98565#comment-1333935">
			April 23, 2018 at 8:29 am</a>		</div>

		<p>I wonder, are there any assembly text editors that recognize instructions in a branch delay slot and give them a special color?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-odd thread-alt depth-1" id="comment-1333965">
				<div id="div-comment-1333965" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">DWalker07</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20180420-00/?p=98565#comment-1333965">
			April 23, 2018 at 10:48 am</a>		</div>

		<p>I find the IBM System 360/370/etc. assembler instruction set interesting, probably because that&#8217;s what I learned first.  It&#8217;s not a PC architecture, though&#8230;.  sigh&#8230;.</p>

		
				</div>
		</li><!-- #comment-## -->
		</ol><!-- .comment-list -->

		<div class="navigation pagination">
					</div>

	
			<p class="no-comments">Comments are closed.</p>
<!-- COMMENTS END -->
</div></td></tr></table>