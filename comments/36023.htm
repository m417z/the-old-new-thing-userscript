<table class="commenttable" cellspacing="0" cellpadding="0"><tr><td><div class="commentdiv"><div class="commentdivhdr">
<!-- COMMENTS START -->
Comments (16)	</div>

	
			<div class="navigation pagination clear-both">
					</div>

		<ol class="comment-list">
					<li class="comment even thread-even depth-1" id="comment-268503">
				<div id="div-comment-268503" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">BradC</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050330-00/?p=36023#comment-268503">
			March 30, 2005 at 7:42 am</a>		</div>

		<p>Good God.</p>
<p>I think I&#8217;ll stick with my plain old msgbox(), thank you.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-268513">
				<div id="div-comment-268513" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">David</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050330-00/?p=36023#comment-268513">
			March 30, 2005 at 8:22 am</a>		</div>

		<p>What hwndParent do you choose if the dialog is the main window (first created window) of your application?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-268523">
				<div id="div-comment-268523" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://blogs.msdn.com/oldnewthing/' rel='external nofollow' class='url'>Raymond Chen</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050330-00/?p=36023#comment-268523">
			March 30, 2005 at 8:49 am</a>		</div>

		<p>Read the article again. Notice that the hwndParent is passed to CreateWindow. What hwndParent do you choose if you call CreateWindow for your main window?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-268553">
				<div id="div-comment-268553" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Brian</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050330-00/?p=36023#comment-268553">
			March 30, 2005 at 11:47 am</a>		</div>

		<p>GetDesktopWindow() ?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-268573">
				<div id="div-comment-268573" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">CW User</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050330-00/?p=36023#comment-268573">
			March 30, 2005 at 1:34 pm</a>		</div>

		<p>No, yoy can&#8217;t pass GetDesktopWindow(), you need to pass what malloc(0xFFFFFFFF) returns, see in &quot;Writing Secure Code, 2nd ed&quot;, page 196.</p>
<p>Anyway, thank you Raymond for the articles. I&#8217;ve built my own Dialog Manager and I hope your current series can help me make it somewhat better.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-268593">
				<div id="div-comment-268593" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Jonathan</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050330-00/?p=36023#comment-268593">
			March 30, 2005 at 2:24 pm</a>		</div>

		<p>BradC:  A message box is a specialized dialog box, so it goes through all of the same stuff.  However, all of this is implemented by Windows for you&#8211;I don&#8217;t see what the issue is.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-268603">
				<div id="div-comment-268603" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://www.lionsky.com' rel='external nofollow' class='url'>KenZero</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050330-00/?p=36023#comment-268603">
			March 30, 2005 at 2:33 pm</a>		</div>

		<p>I am trying to control features in the Parent Window from my Dialog Box.  Do I have to set a variable or can I send a command.  I am just trying to change colors and some text values in a Flight Simulation Trainer.  I was not sure if I should just set a global variable and then refresh the Parent after the focus was off of the Dialog Window.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-268613">
				<div id="div-comment-268613" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">tolaris</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050330-00/?p=36023#comment-268613">
			March 30, 2005 at 3:35 pm</a>		</div>

		<p>Really hoping this series of articles sheds some light on problem i currently have&#8230;</p>
<p>am adding dialog boxes as child windows to a CWnd-based window. Yet, there&#8217;s a problem with Tab- and arrow-keys navigation. Instead of stepping through all controls in the main window and included child dialog windows in a loop (like it happens when i add the child dialogs to &#8216;regular&#8217; dialog) the keyboard focus becomes trapped in first child dialog window it encounters, looping then just through the controls of this child dialog and never getting out of it.</p>
<p>the main CWnd has WS_EX_CONTROLPARENT style, the child dialogs have the WS_CHILD, DS_CONTROL and the WS_EX_CONTROLPARENT styles as well&#8230; can&#8217;t figure out what should be added/ removed/ altered to get the focus behave just like for dialogs-in-dialog case, and what&#8217;s causing the current, odd behaviour in the first place. :/</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-268623">
				<div id="div-comment-268623" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://blogs.msdn.com/oldnewthing' rel='external nofollow' class='url'>Raymond Chen</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050330-00/?p=36023#comment-268623">
			March 30, 2005 at 3:37 pm</a>		</div>

		<p>Sorry, tolaris, that won&#8217;t be covered in this series. That&#8217;s going to have to wait until I feel like going in depth into IsDialogMessage.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-268643">
				<div id="div-comment-268643" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">tolaris</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050330-00/?p=36023#comment-268643">
			March 30, 2005 at 4:01 pm</a>		</div>

		<p>Gah, just my luck =)</p>
<p>a call to PreTranslateInput() in the parent CWnd&#8217;s overriden PreTranslateMessage() was one of the things i tried, but given MSDN left me with very vague understanding of how the whole navigation thing is done, obviously that didn&#8217;t result in anything useful. Oh well, will just put this off &#8217;till better times and work on other parts of functionality meantime&#8230;</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-268663">
				<div id="div-comment-268663" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Rabbit</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050330-00/?p=36023#comment-268663">
			March 30, 2005 at 7:55 pm</a>		</div>

		<p>I&#8217;m curious too:<br />
<br />What hwndParent do you choose if you call CreateWindow for your main window? </p>
<p>If I&#8217;m a new app, I don&#8217;t have an invocation point, so unless I sniff where the mouse is, wouldnt&#8217; I always show up on the primary desktop?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-268673">
				<div id="div-comment-268673" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Jonathan</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050330-00/?p=36023#comment-268673">
			March 30, 2005 at 9:35 pm</a>		</div>

		<p>For my main window, I&#8217;ve always just used NULL as the parent, and it seems to work just fine&#8230;</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-268683">
				<div id="div-comment-268683" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://www.apptranslator.com' rel='external nofollow' class='url'>Serge Wautier</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050330-00/?p=36023#comment-268683">
			March 30, 2005 at 11:39 pm</a>		</div>

		<p>Aha !! Some time in 1992, while learning PM programming in Petzold for OS/2, I just wondered why dialogs don&#8217;t receive a WM_CREATE.<br />
<br />Today, 13 years later, I learned why&#8230;</p>
<p>Thanks Raymond!<br /></p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-268693">
				<div id="div-comment-268693" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">hmmmmm</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050330-00/?p=36023#comment-268693">
			March 31, 2005 at 1:38 am</a>		</div>

		<p>but couldn&#8217;t they put the SetWindowLongPtr(hdlg, DWLP_DLGPROC, (LPARAM)lpDlgProc); in the WM_CREATE handler (or before) and call lpDlgProc  directly for this message?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-268993">
				<div id="div-comment-268993" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Seth McCarus</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050330-00/?p=36023#comment-268993">
			April 1, 2005 at 7:36 am</a>		</div>

		<p>tolaris, this thread may help you out:</p>
<p><a target="_new" href="http://groups-beta.google.com/group/comp.os.ms-windows.programmer.controls/browse_frm/thread/476870c9fe039ab2/c7a54e1fca16eb94#c7a54e1fca16eb94" rel="nofollow">http://groups-beta.google.com/group/comp.os.ms-windows.programmer.controls/browse_frm/thread/476870c9fe039ab2/c7a54e1fca16eb94#c7a54e1fca16eb94</a><br /></p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-271203">
				<div id="div-comment-271203" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://blogs.msdn.com/oldnewthing/archive/2005/04/18/409205.aspx' rel='external nofollow' class='url'>The Old New Thing</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050330-00/?p=36023#comment-271203">
			April 18, 2005 at 9:03 am</a>		</div>

		<p>It specifies where the class name should be looked up.</p>

		
				</div>
		</li><!-- #comment-## -->
		</ol><!-- .comment-list -->

		<div class="navigation pagination">
					</div>

	
			<p class="no-comments">Comments are closed.</p>
<!-- COMMENTS END -->
</div></td></tr></table>