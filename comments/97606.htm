<table class="commenttable" cellspacing="0" cellpadding="0"><tr><td><div class="commentdiv"><div class="commentdivhdr">
<!-- COMMENTS START -->
Comments (18)	</div>

		<div id="respond" class="comment-respond">
		<h3 id="reply-title" class="comment-reply-title"> <small><a rel="nofollow" id="cancel-comment-reply-link" href="/oldnewthing/20171219-00/?p=97606#respond" style="display:none;">Cancel reply</a></small></h3>			<form action="https://blogs.msdn.microsoft.com/oldnewthing/wp-comments-post.php" method="post" id="commentform" class="comment-form">
				<p class="comment-form-comment"><textarea id="comment" name="comment" cols="45" rows="4" aria-required="true"></textarea></p><p class="comment-form-author"><label for="author">Name <span class="required">*</span></label> <input id="author" name="author" type="text" value="" size="30" maxlength="245" aria-required='true' required='required' /></p>
<p class="comment-form-email"><label for="email">Email <span class="required">*</span></label> <input id="email" name="email" type="text" value="" size="30" maxlength="100" aria-describedby="email-notes" aria-required='true' required='required' /></p>
<p class="comment-form-url"><label for="url">Website</label> <input id="url" name="url" type="text" value="" size="30" maxlength="200" /></p>
<p class="form-submit"><input name="submit" type="submit" id="submit" class="submit btn btn-default" value="Post Comment" /> <input type='hidden' name='comment_post_ID' value='97606' id='comment_post_ID' />
<input type='hidden' name='comment_parent' id='comment_parent' value='0' />
</p><p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="7c917bb27b" /></p><p style="display: none;"><input type="hidden" id="ak_js" name="ak_js" value="25"/></p>			</form>
			</div><!-- #respond -->
	
			<div class="navigation pagination clear-both">
					</div>

		<ol class="comment-list">
					<li class="comment byuser comment-author-jeremytais even thread-even depth-1 parent" id="comment-1318135">
				<div id="div-comment-1318135" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/SimonRev' rel='external nofollow' class='url'>SimonRev</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20171219-00/?p=97606#comment-1318135">
			December 19, 2017 at 7:04 am</a>		</div>

		<p>Wow, and that link to IsProcessCritical is a perfect example of what happens in MSDN too often.  The documentation explains in great detail how to use the function, what security permissions are needed, how to handle errors &#8212; but includes no discussion or link that explains what a critical process is.  How do I know if I should be calling that function?  How do I interpret the results?</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='https://blogs.msdn.microsoft.com/oldnewthing/20171219-00/?p=97606&#038;replytocom=1318135#respond' onclick='return addComment.moveForm( "div-comment-1318135", "1318135", "respond", "97606" )' aria-label='Reply to SimonRev'>Reply</a></div>
				</div>
		<ol class="children">
		<li class="comment odd alt depth-2" id="comment-1318167">
				<div id="div-comment-1318167" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">DWalker07</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20171219-00/?p=97606#comment-1318167">
			December 19, 2017 at 7:53 am</a>		</div>

		<p>Yes, it&#8217;s unfortunate that much of the documentation goes into great detail in the mechanics of the trees, and doesn&#8217;t explain the forest (or the context).   I also claim that every time a SET parameter is described, the same doc should tell you how to QUERY for that same setting.  And, when you would want to use that setting, and what the ramifications are, and all of that.</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='https://blogs.msdn.microsoft.com/oldnewthing/20171219-00/?p=97606&#038;replytocom=1318167#respond' onclick='return addComment.moveForm( "div-comment-1318167", "1318167", "respond", "97606" )' aria-label='Reply to DWalker07'>Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment even depth-2" id="comment-1318175">
				<div id="div-comment-1318175" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">David-T</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20171219-00/?p=97606#comment-1318175">
			December 19, 2017 at 7:56 am</a>		</div>

		<p>It appears to indicate that the ProcessBreakOnTermination flag is set on the process &#8212; in other words, the kernel will break (into the debugger?) or BSOD in the event the process is terminated.</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='https://blogs.msdn.microsoft.com/oldnewthing/20171219-00/?p=97606&#038;replytocom=1318175#respond' onclick='return addComment.moveForm( "div-comment-1318175", "1318175", "respond", "97606" )' aria-label='Reply to David-T'>Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt depth-2 parent" id="comment-1318185">
				<div id="div-comment-1318185" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Antonio Rodríguez</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20171219-00/?p=97606#comment-1318185">
			December 19, 2017 at 8:01 am</a>		</div>

		<p>It doesn&#8217;t talk about it because it&#8217;s completely obvious. A critical process is one that is critical for the system &#8211; for some value of &#8220;critical&#8221;. Oh, wait, now we need an MSDN article on what &#8220;critical&#8221; means&#8230;</p>
<p>A bit more of information can be found at <a href="https://msdn.microsoft.com/en-us/library/windows/desktop/aa373646%28v=vs.85%29.aspx" rel="nofollow">https://msdn.microsoft.com/en-us/library/windows/desktop/aa373646%28v=vs.85%29.aspx</a> . It would be nice if the article on IsProcessCritical linked to it, and that the linked article were a bit more extensive.</p>
<p>No wonder people are turning to blogs like The Old New Thing looking for light on the most obscure corners of Windows. The Old New Thing may not be official documentation, but at least it is documentation, and has a fair amount of detail.</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='https://blogs.msdn.microsoft.com/oldnewthing/20171219-00/?p=97606&#038;replytocom=1318185#respond' onclick='return addComment.moveForm( "div-comment-1318185", "1318185", "respond", "97606" )' aria-label='Reply to Antonio Rodríguez'>Reply</a></div>
				</div>
		<ol class="children">
		<li class="comment even depth-3" id="comment-1318205">
				<div id="div-comment-1318205" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Paul Topping</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20171219-00/?p=97606#comment-1318205">
			December 19, 2017 at 8:55 am</a>		</div>

		<p>+1 This page has a good definition for &#8220;critical&#8221; in this context. However, assuming that &#8220;cannot be stopped and restarted by the Restart Manager without a system restart&#8221; is, in fact, the only condition this flag is meant to indicate, IsProcessCritical should be called IsProcessRestartable. In short, either the definition is incomplete or the function is poorly named. Which further begs the question, how many processes are marked &#8220;critical&#8221; for some other reason?</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='https://blogs.msdn.microsoft.com/oldnewthing/20171219-00/?p=97606&#038;replytocom=1318205#respond' onclick='return addComment.moveForm( "div-comment-1318205", "1318205", "respond", "97606" )' aria-label='Reply to Paul Topping'>Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt depth-3" id="comment-1318215">
				<div id="div-comment-1318215" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">DWalker07</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20171219-00/?p=97606#comment-1318215">
			December 19, 2017 at 9:44 am</a>		</div>

		<p>@Antonio R:  Yes, that&#8217;s definitely a &#8220;bit&#8221; more information.  As you said, the linked article could be a bit more extensive.</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='https://blogs.msdn.microsoft.com/oldnewthing/20171219-00/?p=97606&#038;replytocom=1318215#respond' onclick='return addComment.moveForm( "div-comment-1318215", "1318215", "respond", "97606" )' aria-label='Reply to DWalker07'>Reply</a></div>
				</div>
		</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
		<li class="comment even depth-2 parent" id="comment-1318225">
				<div id="div-comment-1318225" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Brian</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20171219-00/?p=97606#comment-1318225">
			December 19, 2017 at 1:27 pm</a>		</div>

		<p>My understanding, which may be inaccurate:<br />
1) A process is critical if it was set to critical by the kernel (or by malware as a means of making a process harder to kill).<br />
2) If a critical process crashes or is terminated, the operating system will crash.</p>
<p>So, the main usage I would imagine for IsProcessCritical is for a task manager type utility, as a means of determining which processes are critical (e.g., recommend that the the user not to kill them and mark them as system processes).</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='https://blogs.msdn.microsoft.com/oldnewthing/20171219-00/?p=97606&#038;replytocom=1318225#respond' onclick='return addComment.moveForm( "div-comment-1318225", "1318225", "respond", "97606" )' aria-label='Reply to Brian'>Reply</a></div>
				</div>
		<ol class="children">
		<li class="comment odd alt depth-3 parent" id="comment-1318245">
				<div id="div-comment-1318245" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Falcon</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20171219-00/?p=97606#comment-1318245">
			December 19, 2017 at 5:50 pm</a>		</div>

		<p>Probably to address the shortcomings of the previous strategy, which was for Task Manager to simply have a hard coded list of names, such as csrss.exe and winlogon.exe.</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='https://blogs.msdn.microsoft.com/oldnewthing/20171219-00/?p=97606&#038;replytocom=1318245#respond' onclick='return addComment.moveForm( "div-comment-1318245", "1318245", "respond", "97606" )' aria-label='Reply to Falcon'>Reply</a></div>
				</div>
		<ol class="children">
		<li class="comment byuser comment-author-cheong even depth-4 parent" id="comment-1318396">
				<div id="div-comment-1318396" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/cheong00' rel='external nofollow' class='url'>cheong00</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20171219-00/?p=97606#comment-1318396">
			December 20, 2017 at 8:24 pm</a>		</div>

		<p>I guess that the &#8220;shortcoming&#8221; of the strategy is that when you have virus/Trojan marked itself as critical, task manager would not be able to kill it that way. So Microsoft decided to implement it the current way.</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='https://blogs.msdn.microsoft.com/oldnewthing/20171219-00/?p=97606&#038;replytocom=1318396#respond' onclick='return addComment.moveForm( "div-comment-1318396", "1318396", "respond", "97606" )' aria-label='Reply to cheong00'>Reply</a></div>
				</div>
		<ol class="children">
		<li class="comment odd alt depth-5" id="comment-1318417">
				<div id="div-comment-1318417" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Falcon</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20171219-00/?p=97606#comment-1318417">
			December 21, 2017 at 1:33 am</a>		</div>

		<p>Yes, that&#8217;s exactly the kind of trick I was talking about.</p>

		
				</div>
		</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
		<li class="comment even depth-2 parent" id="comment-1318235">
				<div id="div-comment-1318235" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Dave</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20171219-00/?p=97606#comment-1318235">
			December 19, 2017 at 5:41 pm</a>		</div>

		<p>It&#8217;s actually quite easy: A critical process is one that handles Facebook, Youtube, and email.  A super-critical process does Snapchat and Instagram.</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='https://blogs.msdn.microsoft.com/oldnewthing/20171219-00/?p=97606&#038;replytocom=1318235#respond' onclick='return addComment.moveForm( "div-comment-1318235", "1318235", "respond", "97606" )' aria-label='Reply to Dave'>Reply</a></div>
				</div>
		<ol class="children">
		<li class="comment odd alt depth-3" id="comment-1318305">
				<div id="div-comment-1318305" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Tanveer Badar</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20171219-00/?p=97606#comment-1318305">
			December 20, 2017 at 9:35 am</a>		</div>

		<p>How can I like your comment?</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='https://blogs.msdn.microsoft.com/oldnewthing/20171219-00/?p=97606&#038;replytocom=1318305#respond' onclick='return addComment.moveForm( "div-comment-1318305", "1318305", "respond", "97606" )' aria-label='Reply to Tanveer Badar'>Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment even depth-3" id="comment-1318325">
				<div id="div-comment-1318325" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Peter Doubleday</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20171219-00/?p=97606#comment-1318325">
			December 20, 2017 at 9:44 am</a>		</div>

		<p>If only there were such a category as a &#8220;Snarky Process,&#8221; which would deal with useless gibberish that just gets in your way &#8230;</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='https://blogs.msdn.microsoft.com/oldnewthing/20171219-00/?p=97606&#038;replytocom=1318325#respond' onclick='return addComment.moveForm( "div-comment-1318325", "1318325", "respond", "97606" )' aria-label='Reply to Peter Doubleday'>Reply</a></div>
				</div>
		</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
		<li class="comment byuser comment-author-jan-ringos odd alt thread-odd thread-alt depth-1 parent" id="comment-1318217">
				<div id="div-comment-1318217" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Jan+Ringo%C5%A1' rel='external nofollow' class='url'>Jan Ringoš</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20171219-00/?p=97606#comment-1318217">
			December 19, 2017 at 10:54 am</a>		</div>

		<p>Is it really IsProcessCritical? For me, even conhost.exes are categorized as Windows Processes and one can kill them all they want.</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='https://blogs.msdn.microsoft.com/oldnewthing/20171219-00/?p=97606&#038;replytocom=1318217#respond' onclick='return addComment.moveForm( "div-comment-1318217", "1318217", "respond", "97606" )' aria-label='Reply to Jan Ringoš'>Reply</a></div>
				</div>
		<ol class="children">
		<li class="comment even depth-2" id="comment-1318295">
				<div id="div-comment-1318295" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://www.silverbacknetworks.tech' rel='external nofollow' class='url'>Joshua Bowman</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20171219-00/?p=97606#comment-1318295">
			December 20, 2017 at 8:33 am</a>		</div>

		<p>conhost.exe inherits from its parent &#8212; if it&#8217;s csrss.exe, then it&#8217;s going to be marked as critical, even though it doesn&#8217;t need to be.</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='https://blogs.msdn.microsoft.com/oldnewthing/20171219-00/?p=97606&#038;replytocom=1318295#respond' onclick='return addComment.moveForm( "div-comment-1318295", "1318295", "respond", "97606" )' aria-label='Reply to Joshua Bowman'>Reply</a></div>
				</div>
		</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
		<li class="comment odd alt thread-even depth-1 parent" id="comment-1318255">
				<div id="div-comment-1318255" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://geelaw.blog/' rel='external nofollow' class='url'>Gee Law</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20171219-00/?p=97606#comment-1318255">
			December 20, 2017 at 6:33 am</a>		</div>

		<p>The characterisation of &#8220;Windows processes&#8221; is inaccurate&#8230; Actually even <code>sihost.exe</code> is a Windows process. It also does not matter whether the process in from the system folder &#8212; COM Surrogate is NOT a Windows process.</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='https://blogs.msdn.microsoft.com/oldnewthing/20171219-00/?p=97606&#038;replytocom=1318255#respond' onclick='return addComment.moveForm( "div-comment-1318255", "1318255", "respond", "97606" )' aria-label='Reply to Gee Law'>Reply</a></div>
				</div>
		<ol class="children">
		<li class="comment even depth-2 parent" id="comment-1318265">
				<div id="div-comment-1318265" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">McBucket</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20171219-00/?p=97606#comment-1318265">
			December 20, 2017 at 6:46 am</a>		</div>

		<p>?? Where does it say anything about system folders?</p>
<p>From the article: &#8220;If the process is marked as critical, then Task Manager calls it a &#8220;Windows Process&#8221;.&#8221;</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='https://blogs.msdn.microsoft.com/oldnewthing/20171219-00/?p=97606&#038;replytocom=1318265#respond' onclick='return addComment.moveForm( "div-comment-1318265", "1318265", "respond", "97606" )' aria-label='Reply to McBucket'>Reply</a></div>
				</div>
		<ol class="children">
		<li class="comment odd alt depth-3" id="comment-1318457">
				<div id="div-comment-1318457" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://geelaw.bio/' rel='external nofollow' class='url'>GL</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20171219-00/?p=97606#comment-1318457">
			December 22, 2017 at 10:21 am</a>		</div>

		<p>Shouldn’t have used “also”. Didn’t mean it was in the article, just another random observation by me.</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='https://blogs.msdn.microsoft.com/oldnewthing/20171219-00/?p=97606&#038;replytocom=1318457#respond' onclick='return addComment.moveForm( "div-comment-1318457", "1318457", "respond", "97606" )' aria-label='Reply to GL'>Reply</a></div>
				</div>
		</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
		</ol><!-- .comment-list -->

		<div class="navigation pagination">
					</div>
<!-- COMMENTS END -->
</div></td></tr></table>