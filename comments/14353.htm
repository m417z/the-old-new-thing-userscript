<table class="commenttable" cellspacing="0" cellpadding="0"><tr><td><div class="commentdiv"><div class="commentdivhdr">
<!-- COMMENTS START -->
Comments (34)	</div>

	
			<div class="navigation pagination clear-both">
					</div>

		<ol class="comment-list">
					<li class="comment even thread-even depth-1" id="comment-825593">
				<div id="div-comment-825593" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">ruf</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20100412-00/?p=14353#comment-825593">
			April 12, 2010 at 7:38 am</a>		</div>

		<p>How about the menu?</p>
<p>Normally, it is hidden in full screen.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-825603">
				<div id="div-comment-825603" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://adamrosenfield.com' rel='external nofollow' class='url'>Adam Rosenfield</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20100412-00/?p=14353#comment-825603">
			April 12, 2010 at 7:57 am</a>		</div>

		<p>@ruf: When the WS_CAPTION style (included within WS_OVERLAPPEDWINDOW) is removed, the window no longer has a title bar and thus no menu.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-825613">
				<div id="div-comment-825613" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">W</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20100412-00/?p=14353#comment-825613">
			April 12, 2010 at 8:38 am</a>		</div>

		<p>Doesn&#8217;t this code fail when the monitor resolution changes while the window is in fullscreen mode?</p>
<p>Shouldn&#8217;t you set it to maximized instead?</p>
<p>In Delphi I set it to maximized, always-on-top and borderless. But I don&#8217;t know which windows api calls this maps to.</p>
<p>And aren&#8217;t there performance differences depending on how you switch to fullscreen? I believe DirectX might behave differently if it recognizes that you are in fullscreen mode, and aero desktop composition might be disabled in &quot;true&quot; fullscreen mode. But I&#8217;m not sure about either of these.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-825623">
				<div id="div-comment-825623" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Alexandre Grigoriev</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20100412-00/?p=14353#comment-825623">
			April 12, 2010 at 9:36 am</a>		</div>

		<p>@W:</p>
<p>You need to monitor WM_DISPLAYCHANGE. For OVERLAPPEDWINDOW, DefWndProc does that for you.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-825633">
				<div id="div-comment-825633" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">ruf</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20100412-00/?p=14353#comment-825633">
			April 12, 2010 at 9:41 am</a>		</div>

		<p>@Adam Rosenfield</p>
<p>I have just tried and the menu is not removed. Tested on the default windows application generated from VS2008.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-825643">
				<div id="div-comment-825643" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">MP</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20100412-00/?p=14353#comment-825643">
			April 12, 2010 at 10:08 am</a>		</div>

		<p>This is the cause of a long-standing bug in Google Chrome. When Google Chrome is maximized, and the taskbar is set to auto-hide, it &quot;recognizes&quot; that you&#8217;re trying to do something in fullscreen, and the hidden taskbar will not be shown even if you position the mouse at the bottom of the screen.</p>
<p><a rel="nofollow" target="_new" href="http://code.google.com/p/chromium/issues/detail?id=20" rel="nofollow">http://code.google.com/p/chromium/issues/detail?id=20</a></p>
<p>Is there a way to make a captionless window occupy the entire screen (or the entire screen minus the taskbar) but tell the window manager that &quot;hey, I&#8217;m not a fullscreen window&quot;?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-825653">
				<div id="div-comment-825653" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Alexandre Grigoriev</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20100412-00/?p=14353#comment-825653">
			April 12, 2010 at 10:20 am</a>		</div>

		<p>@MP</p>
<p>Use SystemParametersInfo/SPI_GETWORKAREA. This is the moditor minus taskbar.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-825663">
				<div id="div-comment-825663" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">J</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20100412-00/?p=14353#comment-825663">
			April 12, 2010 at 11:56 am</a>		</div>

		<p>@AG: If the taskbar is set to auto-hide, this doesn&#8217;t work correctly. Not sure who SysParInfo determines the work area in that case, but either you&#8217;ll get the taskbar-thinks-you&#8217;re-fullscreen thing, or you&#8217;ll have an empty space at the bottom where the taskbar normally is.</p>
<p>I suppose one could set the size to one pixel shorter than the height of the work area if you detect that the taskbar is auto-hidden.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-825673">
				<div id="div-comment-825673" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://hypftier.de' rel='external nofollow' class='url'>Johannes</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20100412-00/?p=14353#comment-825673">
			April 12, 2010 at 12:41 pm</a>		</div>

		<p>J: That would assume the taskbar is at the bottom. You should carve the pixel off at the correct side of the window, if you do that.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-825683">
				<div id="div-comment-825683" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">bla</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20100412-00/?p=14353#comment-825683">
			April 12, 2010 at 12:47 pm</a>		</div>

		<p>Even if you set the taskbar to autohide it reserves some pixels of screen area. You have to look closly. It must be a bug in Chrome.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-825693">
				<div id="div-comment-825693" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">jon</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20100412-00/?p=14353#comment-825693">
			April 12, 2010 at 2:50 pm</a>		</div>

		<p>&quot;Is there a way to make a captionless window occupy the entire screen (or the entire screen minus the taskbar) but tell the window manager that &quot;hey, I&#8217;m not a fullscreen window&quot;?&quot;</p>
<p>WS_MAXIMIZE?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-825703">
				<div id="div-comment-825703" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Mike</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20100412-00/?p=14353#comment-825703">
			April 12, 2010 at 2:55 pm</a>		</div>

		<p>Wasn&#8217;t this already covered in <a href="http://blogs.msdn.com/oldnewthing/archive/2005/05/05/414910.aspx" rel=nofollow target=_new rel="nofollow">http://blogs.msdn.com/oldnewthing/archive/2005/05/05/414910.aspx</a> ?</p>
<div class=post>[<i>Related but different. This is about convering a window to fullscreen, as opposed to making a fullscreen window. -Raymond</i>]</div>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-825713">
				<div id="div-comment-825713" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://www.pretentiousname.com' rel='external nofollow' class='url'>Leo Davidson</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20100412-00/?p=14353#comment-825713">
			April 12, 2010 at 3:18 pm</a>		</div>

		<p>Mike, That was how to open a full-screen window. This is how to switch your window between normal and full-screen.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-825723">
				<div id="div-comment-825723" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://www.pretentiousname.com' rel='external nofollow' class='url'>Leo Davidson</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20100412-00/?p=14353#comment-825723">
			April 12, 2010 at 3:19 pm</a>		</div>

		<p>Snap :-)</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-825733">
				<div id="div-comment-825733" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://blog.koroirc.com/' rel='external nofollow' class='url'>Koro</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20100412-00/?p=14353#comment-825733">
			April 12, 2010 at 4:09 pm</a>		</div>

		<p>&quot;This is the cause of a long-standing bug in Google Chrome.&quot;</p>
<p>If Chrome used regular window captions like EVERY OTHER APPLICATION out there, this would not be an issue.</p>
<p>It&#8217;s their fault for trying to do the window manager&#8217;s job (badly).</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-825743">
				<div id="div-comment-825743" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://actualtools.com' rel='external nofollow' class='url'>Alexander Belyakov</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20100412-00/?p=14353#comment-825743">
			April 12, 2010 at 7:04 pm</a>		</div>

		<p>There&#8217;s another way to switch an existing window to fullscreen &#8211; you just need to make the window&#8217;s client area overlap the monitor&#8217;s rect. In this case, window styles can be left intact.</p>
<p>This is how IE and a couple of picture viewers switch to fullscreen.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-825753">
				<div id="div-comment-825753" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Roland</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20100412-00/?p=14353#comment-825753">
			April 12, 2010 at 7:11 pm</a>		</div>

		<p>How about ITaskbarList2::MarkFullscreenWindow?</p>
<p>Is it required to call this in certain scenarios, or is the Shell smart enough to always detect full-screen windows automatically?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-825763">
				<div id="div-comment-825763" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://actualtools.com/' rel='external nofollow' class='url'>Alexander Belyakov</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20100412-00/?p=14353#comment-825763">
			April 12, 2010 at 7:28 pm</a>		</div>

		<p>Addition to my previous post.</p>
<p>In fact, to make client rect as large as monitor&#8217;s area, WS_CAPTION style should be removed anyway.</p>
<p>So, the statement &quot;In this case, window styles can be left intact&quot; is sure wrong. Sorry for this mistake.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-825773">
				<div id="div-comment-825773" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://trev@adblockplus.org' rel='external nofollow' class='url'>Wladimir Palant</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20100412-00/?p=14353#comment-825773">
			April 12, 2010 at 11:54 pm</a>		</div>

		<p>Yes, we hit that automated taskbar behavior with Songbird pretty hard as well &#8211; the issue is pretty identical to what Chrome experienced. When a window without non-client area is maximized the taskbar thinks that it is a fullscreen window and it is rather hard to convince it otherwise. What&#8217;s worse, some other Windows functions behave in a very strange way as well (like Windows+Left on Windows 7 to move the window to a different monitor which is pretty broken then if the other monitor has a different size). Me and a colleague spent several days trying out different things and ended up with something similar to Chrome&#8217;s solution, and just as ugly. At times I seriously wish the OS wouldn&#8217;t try to be clever. Unfortunately, as you make obvious, the OS has to be clever because the applications are very stupid far too often.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-825783">
				<div id="div-comment-825783" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">ruf</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20100412-00/?p=14353#comment-825783">
			April 13, 2010 at 12:42 am</a>		</div>

		<p>I think client rect can be make as large as monitor&#8217;s area. You only need to handle WM_GETMINMAXINFO properly. This way you can hide the menu also.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-825793">
				<div id="div-comment-825793" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Ian</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20100412-00/?p=14353#comment-825793">
			April 13, 2010 at 2:14 am</a>		</div>

		<p>To Alexander Belyakov:</p>
<p>If I understand you correctly, you are suggesting making the window bigger than the monitor so that only the client area is shown and the decorations are off-screen.</p>
<p>This seems like a terrible idea to me. The decorations won&#8217;t be off-screen if the user has more than one monitor. Furthermore, if those monitors are set to different colour depths then there could be a big performance hit on drawing.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-825803">
				<div id="div-comment-825803" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">px@i.kiev.ua</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20100412-00/?p=14353#comment-825803">
			April 13, 2010 at 3:46 am</a>		</div>

		<p>And what about fullscreen and windowed 3d applications? Especially on non-primary display</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-825823">
				<div id="div-comment-825823" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">dash</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20100412-00/?p=14353#comment-825823">
			April 13, 2010 at 6:09 am</a>		</div>

		<p>Why did you embed a dash in the programming syntax constant?</p>
<p>&#8211;&gt; &nbsp;An important flag to pass here is &lt;CODE&gt;SWP_&lt;WBR&gt;FRAME&amp;shy;CHANGED&lt;/CODE&gt;,</p>
<p>which tells the window manager to recalculate the window decorations</p>
<p>(which we need it to do because we just changed them).</p>
<div class=post>[<i>Um, so it would line-break better? -Raymond</i>]</div>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-825833">
				<div id="div-comment-825833" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">640k</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20100412-00/?p=14353#comment-825833">
			April 13, 2010 at 6:17 am</a>		</div>

		<p>It&#8217;s also useful to remove the client border in fullscreen, VS add this by default in the dialog editor when creating a overlapped window.</p>
<p>Else, the client area dimensions usually becomes 4 pixels smaller than the desktop area.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-825843">
				<div id="div-comment-825843" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Random832</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20100412-00/?p=14353#comment-825843">
			April 13, 2010 at 6:50 am</a>		</div>

		<p>&quot;If Chrome used regular window captions like EVERY OTHER APPLICATION out there, this would not be an issue.&quot;</p>
<p>More to the point, they don&#8217;t even have the excuse of needing to show a custom appearance (MS Office does it fine) or to show with no title in the titlebar (Explorer does it fine) &#8211; both of the named apps have WS_CAPTION on their windows.</p>
<p>WM_NCPAINT/NCCALCSIZE/NCHITTEST exist for a reason.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-825853">
				<div id="div-comment-825853" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Justin</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20100412-00/?p=14353#comment-825853">
			April 13, 2010 at 6:53 am</a>		</div>

		<p>Raymond,</p>
<p>I just want to say thank you for posting very useful stuff like this. &nbsp;People might have a tendancy to nitpick and complain, but useful tidbits like this are why I read your blog and appreciate your work.</p>
<p>Thanks,</p>
<p>Justin</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-825883">
				<div id="div-comment-825883" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">James Schend</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20100412-00/?p=14353#comment-825883">
			April 13, 2010 at 8:38 am</a>		</div>

		<p>Koro: Sadly, Adobe is quickly making &quot;re-implement the window manager, badly&quot; the standard practice in software development with their creative suite products.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-825923">
				<div id="div-comment-825923" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Anonymous Coward</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20100412-00/?p=14353#comment-825923">
			April 13, 2010 at 11:05 am</a>		</div>

		<p>If you are writing a game, please take care that you switch resolution while your window is already fullscreen. If you don&#8217;t, the desktop will pop back which looks really unprofessional. You wouldn&#8217;t believe how many games get this wrong. And then we&#8217;re not even talking about games that don&#8217;t really use a fullscreen window, but paint to the screen device context and lock the mouse and keyboard for their input. Yeah, it works &#8211; until something happens that the programmers didn&#8217;t anticipate&#8230;</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-826023">
				<div id="div-comment-826023" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://actualtools.com/' rel='external nofollow' class='url'>Alexander Belyakov</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20100412-00/?p=14353#comment-826023">
			April 13, 2010 at 7:29 pm</a>		</div>

		<p>To Ian:</p>
<p>&quot;&#8230; The decorations won&#8217;t be off-screen if the user has more than one monitor. Furthermore, if those monitors are set to different colour depths then there could be a big performance hit on drawing.&quot;</p>
<p>Please don&#8217;t forget about window regions. Setting them properly is a rather good way to avoid those drawbacks.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-826033">
				<div id="div-comment-826033" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">dash</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20100412-00/?p=14353#comment-826033">
			April 13, 2010 at 7:37 pm</a>		</div>

		<p>@Raymond: [Um, so it would line-break better? -Raymond]</p>
<p>IE copies (pastes) the text with a verbatim dash, not a line break.</p>
<div class=post>[<i>I didn&#8217;t do it to the code, just the running text. -Raymond</i>]</div>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-826073">
				<div id="div-comment-826073" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Ef ess dee gee</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20100412-00/?p=14353#comment-826073">
			April 13, 2010 at 9:58 pm</a>		</div>

		<p>@Koro:</p>
<blockquote><p>
  It&#8217;s their fault for trying to do the window manager&#8217;s job (badly).
</p></blockquote>
<p>Actually they do a better job feature-wise (not much of an accomplishment considering the window manager was barely serviceable in 1995 and has stayed the same until recently). In particular, it gets you &quot;aero-snap&quot; on all OSes, at least for individual tabs.</p>
<p>Meanwhile always-on-top, transparency, position remembering, intelligent positioning (least overlap), multiple desktops and so on remain alien to Windows and have to be implemented by applications in ways which barely work, and you hit problems like this. Oh well. Fortunately since all other OSes have them I guess it&#8217;s just a matter of a few years until MS copies them.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-826113">
				<div id="div-comment-826113" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Gabe</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20100412-00/?p=14353#comment-826113">
			April 13, 2010 at 11:01 pm</a>		</div>

		<p>fsdg: You have a problem with the way Windows handles always-on-top windows?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-826363">
				<div id="div-comment-826363" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Demid</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20100412-00/?p=14353#comment-826363">
			April 14, 2010 at 7:42 pm</a>		</div>

		<p>To Wladimir Palant</p>
<p>&quot;When a window without non-client area is maximized the taskbar thinks that it is a fullscreen window and it is rather hard to convince it otherwise.&quot;</p>
<p>In multi-monitor environment it&#8217;s even worse: the window manager automatically translates secondary monitor coordinates into primary monitor (see remarks section here: <a rel="nofollow" target="_new" href="http://msdn.microsoft.com/en-us/library/ms632605" rel="nofollow">http://msdn.microsoft.com/en-us/library/ms632605</a>(v=VS.85).aspx ) and for example the solution here ( <a rel="nofollow" target="_new" href="http://blogs.msdn.com/llobo/archive/2006/08/01/Maximizing-window-_2800_with-WindowStyle_3D00_None_2900_-considering-Taskbar.aspx" rel="nofollow"></a><a href="http://blogs.msdn.com/llobo/archive/2006/08/01/Maximizing-window-" rel="nofollow">http://blogs.msdn.com/llobo/archive/2006/08/01/Maximizing-window-</a><em>2800_with-WindowStyle_3D00_None_2900</em>-considering-Taskbar.aspx ) doesn&#8217;t work and on the secondary monitor a window is maximized beyond the screen limits.</p>
<p>Sometimes the window manager is too clever and unfortunately there is no way to switch off that cleverness.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-826703">
				<div id="div-comment-826703" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://www.opentk.com' rel='external nofollow' class='url'>Capitan in the West</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20100412-00/?p=14353#comment-826703">
			April 18, 2010 at 3:20 am</a>		</div>

		<p>Unfortunately, Raymond Chen&#8217;s code doesn&#8217;t work in all cases. It is fine on XP but it can cause problems Vista and higher when using OpenGL/D3D with Aero enabled: the Aero borders disappear and are replaced by black rectangles.</p>
<p>This doesn&#8217;t happen on all video cards but it is widespread enough for it to be a problem (it affects more than own GPU vendor).</p>
<p>The only reliable solution is to use two windows instead of one: a vanilla parent window and a child window that host the OpenGL/D3D context. This allows Raymond&#8217;s code to work correctly on the parent window.</p>
<p>It would be great if someone could share some insight on why this happens.</p>

		
				</div>
		</li><!-- #comment-## -->
		</ol><!-- .comment-list -->

		<div class="navigation pagination">
					</div>

	
			<p class="no-comments">Comments are closed.</p>
<!-- COMMENTS END -->
</div></td></tr></table>