<table class="commenttable" cellspacing="0" cellpadding="0"><tr><td><div class="commentdiv"><div class="commentdivhdr">
<!-- COMMENTS START -->
Comments (5)	</div>

	
			<div class="navigation pagination clear-both">
					</div>

		<ol class="comment-list">
					<li class="comment even thread-even depth-1" id="comment-835483">
				<div id="div-comment-835483" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">tobi</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20100528-00/?p=13893#comment-835483">
			May 28, 2010 at 8:29 am</a>		</div>

		<p>you could also brute force though all possible menu handles and change all of them in some way. when you then open the system menu you would see that it did not change although you changed very single menu that exists!</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-835523">
				<div id="div-comment-835523" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Falcon</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20100528-00/?p=13893#comment-835523">
			May 28, 2010 at 10:18 am</a>		</div>

		<p>Looks like Adam Rosenfield was right on the money!</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-835613">
				<div id="div-comment-835613" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Anonymous Coward</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20100528-00/?p=13893#comment-835613">
			May 28, 2010 at 2:20 pm</a>		</div>

		<p>‘This was a particularly important optimization&#8230;’: Although perhaps to a lesser degree, such optimisations are still important. I know that premature optimisation is the root of all evil, but that doesn&#39;t mean that people shouldn&#39;t write tight code; especially memory consumption is important to pay attention to since it&#39;s too easy to negatively impact not just yourself with cache misses and swapping, but other processes too. I always get depressed a little when I see version 10 of some software run more slowly on today&#39;s hardware than version 3 did in the 90s.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-835673">
				<div id="div-comment-835673" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Worf</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20100528-00/?p=13893#comment-835673">
			May 28, 2010 at 10:54 pm</a>		</div>

		<p>Makes me wonder if some apps that change the system menu globally (like the nVidia nView stuff) modify the &quot;pseudo-system menu&quot; once or do GetSystemMenu for every window that&#39;s created.</p>
<p>Might explain why desktop heaps get depleted fast on XP if every window has the system menu optimization disabled and you have a lot of windows open.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-835783">
				<div id="div-comment-835783" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Clovis</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20100528-00/?p=13893#comment-835783">
			May 31, 2010 at 3:09 am</a>		</div>

		<p>@Worf &#8211; I shudder to think. You can be sure that any app writer who&#39;s totally convinced you need to see evidence of their cleverness just everywhere you turn doesn&#39;t care too much about being a good citizen.</p>

		
				</div>
		</li><!-- #comment-## -->
		</ol><!-- .comment-list -->

		<div class="navigation pagination">
					</div>

	
			<p class="no-comments">Comments are closed.</p>
<!-- COMMENTS END -->
</div></td></tr></table>