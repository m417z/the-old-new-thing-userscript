<table class="commenttable" cellspacing="0" cellpadding="0"><tr><td><div class="commentdiv"><div class="commentdivhdr">
<!-- COMMENTS START -->
Comments (25)	</div>

	
			<div class="navigation pagination clear-both">
					</div>

		<ol class="comment-list">
					<li class="comment even thread-even depth-1" id="comment-154273">
				<div id="div-comment-154273" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Jack Mathews</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040316-00/?p=40243#comment-154273">
			March 16, 2004 at 7:52 am</a>		</div>

		<p>Actually, a virus checker could just get the ZIP header, so I think they&#8217;re just checking the headers for common file names and sizes.  But that could easily be fixed with randomness.</p>
<p>I think it&#8217;s really funny how people are going more and more out of their way to damage their own computers.  Soon viruses&#8217;ll be asking people to forward the email, run to the supermarket, pick up some milk, and pour it inside their PC&#8217;s.  And 2 million people will do it the next day.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-154313">
				<div id="div-comment-154313" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://www.whirlingdervishes.com' rel='external nofollow' class='url'>Henk devos</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040316-00/?p=40243#comment-154313">
			March 16, 2004 at 8:32 am</a>		</div>

		<p>I don&#8217;t really see why virus scanners need the password.<br />
<br />They should scan the files that are generated after unzipping instead, before they can get executed.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-154323">
				<div id="div-comment-154323" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://weblogs.asp.net/oldnewthing' rel='external nofollow' class='url'>Raymond Chen</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040316-00/?p=40243#comment-154323">
			March 16, 2004 at 8:38 am</a>		</div>

		<p>But how can a scanner unzip the file if it doesn&#8217;t have the password?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-154343">
				<div id="div-comment-154343" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">SteveM</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040316-00/?p=40243#comment-154343">
			March 16, 2004 at 8:43 am</a>		</div>

		<p>The scanner doesn&#8217;t have to unzip the file.<br />
<br />It just waits until stupid Joe User unzips the file, THEN checks it for viruses.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-154353">
				<div id="div-comment-154353" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://weblogs.asp.net/oldnewthing' rel='external nofollow' class='url'>Raymond Chen</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040316-00/?p=40243#comment-154353">
			March 16, 2004 at 8:49 am</a>		</div>

		<p>Oh you&#8217;re thinking about a scanner that runs on the end-user&#8217;s machine. I&#8217;m thinking about a scanner that runs on the mail server. (ISPs can scan mail at the server but it can&#8217;t do anything about the end-user&#8217;s computer.)</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-154363">
				<div id="div-comment-154363" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">SteveM</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040316-00/?p=40243#comment-154363">
			March 16, 2004 at 8:53 am</a>		</div>

		<p>Ah &#8211; that would be me thinking small!<br />
<br />Sorry Raymond, you&#8217;re quite right of course. I&#8217;ll leave answering that question to someone much cleverer than me :-)</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-154373">
				<div id="div-comment-154373" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Edward</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040316-00/?p=40243#comment-154373">
			March 16, 2004 at 9:11 am</a>		</div>

		<p>I thought the standard zip encryption was quite trivial to crack. A bit more load on the mail server but then it could look inside the zip files without having to locate the password. There are loads of shareware apps that claim to be able to find the passwords for zip files so it can&#8217;t be that hard.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-154383">
				<div id="div-comment-154383" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://www.evilrob.org/' rel='external nofollow' class='url'>Rob Meyer</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040316-00/?p=40243#comment-154383">
			March 16, 2004 at 9:23 am</a>		</div>

		<p>It&#8217;s a weak encryption algorithm, especially when trying to decode a particular zip file when you might know some of the contents, but in general it would probably take more time than a mail server has to spend on each message. That would then also create a denial of service attack against the email server, by sending lots and lots of small password protected zipfile attachments (particularly if it also tried to decrypt the bounce backs).</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-154443">
				<div id="div-comment-154443" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://blog.monstuff.com' rel='external nofollow' class='url'>Dumky</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040316-00/?p=40243#comment-154443">
			March 16, 2004 at 10:40 am</a>		</div>

		<p>Another name for the common CAPTCHAs is HIP, Human Interactive Proof. It&#8217;s easier to remember and type correctly, but obviously is more ambiguous when searched on Google&#8230;</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-154303">
				<div id="div-comment-154303" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://hurcane.homelinux.net/mt-archives/000103.html' rel='external nofollow' class='url'>Hurricane Blog</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040316-00/?p=40243#comment-154303">
			March 16, 2004 at 11:11 am</a>		</div>

		<p>One of my favorite bloggers, Raymond Chen, posted this entry that is related to spam and viruses. Lke all of Raymond&#8217;s posts, he provides some interesting insights into the problems we face as programmers&#8230;.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-154453">
				<div id="div-comment-154453" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://www.codeproject.com/script/articles/list_articles.asp?userid=152' rel='external nofollow' class='url'>Mike Dunn</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040316-00/?p=40243#comment-154453">
			March 16, 2004 at 11:24 am</a>		</div>

		<p>Build an idiot-proof system, and tomorrow someone will build a better idiot ;)</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-154523">
				<div id="div-comment-154523" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">p</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040316-00/?p=40243#comment-154523">
			March 16, 2004 at 12:37 pm</a>		</div>

		<p>I got this email virus the other day, thought you might enjoy it:</p>
<p>SUBJECT: Mexican Virus Alert</p>
<p>BUENOS DIAS!!<br />
<br />JOU HAVE YUST RECEIVED A MEHICAN COMPUTER BIRUS!!!!!<br />
<br />SINCE WE ARE NOT SO TECHNOLOGICALLY ADVANCED<br />
<br />IN MEHICO, DIS IS A MANUAL BIRUS. </p>
<p>FIRST SEND THIS E-MAIL TO EVERYONE JOU KNOW,<br />
<br />THEN DELETE ALL THE FILES ON JOUR HARD DRIVE. </p>
<p>TANK JOU FOR YELPING ME. </p>
<p>JULIO MANUEL GARCIA &#8211; HACKER PRIMERO </p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-154553">
				<div id="div-comment-154553" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Centaur</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040316-00/?p=40243#comment-154553">
			March 16, 2004 at 1:34 pm</a>		</div>

		<p>Shows the uselessness of antiviruses. If your head works well, you don’t need an antivirus; if it doesn’t, none will help.</p>
<p>Actually, recall the recent epidemy of Novarg. It doesn’t come with an IFrame.Download exploit to autostart itself; it doesn’t exploit a WinZip vulnerability; it… it cannot do anything by itself, you have to actively assist it in infecting your machine. But no — certain users have not yet matured to an age when they no longer take everything they pick up to their mouth. And then the toilet is occupied for the whole day :)</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-154573">
				<div id="div-comment-154573" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Centaur</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040316-00/?p=40243#comment-154573">
			March 16, 2004 at 1:42 pm</a>		</div>

		<p>Oh, and by the way, in Longhorn, what will the default setting for “Hide lots-of-spaces and [.exe/.pif/.scr] extensions for files of registered types [Windows application/Shortcut to MS-DOS program/Screen saver] with a Text Document icon” be?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-154593">
				<div id="div-comment-154593" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">asdf</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040316-00/?p=40243#comment-154593">
			March 16, 2004 at 2:01 pm</a>		</div>

		<p>&quot;Image Copyright F-Secure Corporation&quot;, well it looks like we know who made the Bagle.N virus.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-154643">
				<div id="div-comment-154643" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Norman Diamond</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040316-00/?p=40243#comment-154643">
			March 16, 2004 at 5:09 pm</a>		</div>

		<p>3/16/2004 1:34 PM Centaur<br />
<br />&gt; Shows the uselessness of antiviruses. If<br />
<br />&gt; your head works well, you don’t need an<br />
<br />&gt; antivirus; if it doesn’t, none will help. </p>
<p>Wrong.  If your head works well, then when you receive .doc and .pdf and .txt and .zip attachments from known senders, you save them to disk files and run an antivirus on the disk files before deciding whether or not to open them.</p>
<p>If an attachment is .txt or .eml or .jpg or .gif then you have to open up OE options and disable the security check before it will let you save the attachment.  Funny how OE doesn&#8217;t allow saving .jpg or .gif unless you disable the security check, but it will display them automatically regardless.  Funny how OE doesn&#8217;t allow saving .txt unless you disable the security check, but it lets all users open .doc files directly without saving to disk and running antivirus on them.  Between .txt and .doc, which is more likely to contain a macro virus?</p>
<p>Possible reasons for scanning attachments from known senders include more than the fact that the faked sender might not be the real sender.  Sometimes the sender really is the real sender and the sender is infected.  For example one certain giant computer company has a department dedicated to Linux, but their Linux office uses Microsoft-based machines for internet communication[*], they got infected with Badtrans and they sent Badtrans to both my home and my office.  Then when I sent them a complaint, they bounced my complaint because their scanner detected the message source of the base-64 encoding of Badtrans in my quotation of the message source of their infected message.  I blew up at that and sent a complaint of average nastiness about their operation of transmitting viruses and bouncing complaints.  Next example, one certain international standards agency got infected with Sobig and they sent Sobig to me.  But they didn&#8217;t bounce my complaint, and they disinfected themselves within an hour.</p>
<p>Plus there are some mail and news programs that automatically execute various kinds of code even before the user gets to see what attachments there are and decide to save them and scan them.</p>
<p>Yes you need a working head, but you ALSO need an antivirus.</p>
<p>[* I also use Microsoft-based tools for internet communication, but I&#8217;m not dedicated to Linux as that computer company&#8217;s Linux office is.]<br /></p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-154653">
				<div id="div-comment-154653" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://www.pocomail.com' rel='external nofollow' class='url'>Slaven</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040316-00/?p=40243#comment-154653">
			March 16, 2004 at 6:10 pm</a>		</div>

		<p>&quot;If your head works well, then when you receive .doc and .pdf and .txt and .zip attachments from known senders, you save them to disk files and run an antivirus on the disk files before deciding whether or not to open them.&quot;</p>
<p>Well, you shouldn&#8217;t have to explicitly save the attachment, OE does it for you when you try to open it (the attachment has to be saved as a real, albeit temporary file in order to launch it), so good AV software should stop it there. That said, in the days of new viruses spreading everywhere in a matter of hours I wouldn&#8217;t rely 100% on my AV software to stop anything dangerous, as AV companies often need a couple of hours to update their virus definitions.</p>
<p>I&#8217;ve been having problems lately sending people zipped files (with an EXE patch inside) due to overzelaous AV filters, so I&#8217;ve had to rename them to .ZZZ and ask recipients to rename them back to .ZIP before extracting. I wonder how long until viruses start asking the same thing&#8230;?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-154703">
				<div id="div-comment-154703" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Ebbe Kristensen</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040316-00/?p=40243#comment-154703">
			March 17, 2004 at 3:10 am</a>		</div>

		<p>&quot;Why do people feel the urge the create some strained cutesy acronym for their little invention?&quot;</p>
<p>Because they can. My favourite is:</p>
<p>Abbreviated<br />
<br />Coded<br />
<br />Rendition<br />
<br />Of<br />
<br />Name<br />
<br />Yielding<br />
<br />Meaning<br /></p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-154713">
				<div id="div-comment-154713" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Moi</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040316-00/?p=40243#comment-154713">
			March 17, 2004 at 6:49 am</a>		</div>

		<p>Blocking all mails with zip files in is a prety stupid thing to do. Sooner or later the recipients are going to notice, complain, and either move their business somewhere else (that doesn&#8217;t have such a filter) or get that filter removed. Either way, it is a win for the virus writers.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-154723">
				<div id="div-comment-154723" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Centaur</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040316-00/?p=40243#comment-154723">
			March 17, 2004 at 7:07 am</a>		</div>

		<p>&gt; If your head works well, then when you receive<br />
<br />&gt; .doc and .pdf and .txt and .zip attachments<br />
<br />&gt; from known senders, you save them to disk files<br />
<br />&gt; and run an antivirus on the disk files before<br />
<br />&gt; deciding whether or not to open them.</p>
<p>Actually, you first wonder why they send such things as attachments. You contact them back, ask if they sent you anything, and ask them to use a safer format next time, and to upload the file to your ftp site, logging in as ___ with password ___. Then, if they say they didn’t send anything, you drop the attachment on the floor.</p>
<p>If they say they did, you do some other precautions depending on the format.</p>
<p>By the way, why is .txt in that list? Which well-known text file viewer is vulnerable and exploitable with a text file?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-155123">
				<div id="div-comment-155123" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Norman Diamond</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040316-00/?p=40243#comment-155123">
			March 17, 2004 at 10:11 pm</a>		</div>

		<p>Replying to 3/17/2004 7:07 AM Centaur.</p>
<p>I don&#8217;t know why .txt is in the list.  As far as I can tell, the list is OS-dependent.  At least in Windows 98 and Windows 2000, Microsoft put .txt in the list.  In order to save a .txt attachment, I had to go to OE&#8217;s security options and disable the option that prevented opening and saving of attachments.  (By the way, why aren&#8217;t there separate options to disable immediate opening and to disable saving to a named file?)</p>
<p>As for contacting back the senders and ask if they sent the attachments deliberately, in the two cases I mentioned the sending companies were a few orders of magnitude too big to submit a question like that randomly.  After verifying that the attachments were viruses, I could guess relevant addresses to submit complaints to.</p>
<p>Pardon me while I don&#8217;t give other people the password for uploading to my ftp site.  I think you know why, but even if you don&#8217;t, at least let&#8217;s expect my ISP would terminate my account immediately if I did such things.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-155213">
				<div id="div-comment-155213" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">foo</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040316-00/?p=40243#comment-155213">
			March 18, 2004 at 5:32 am</a>		</div>

		<p>I&#8217;m sure there was a buffer overflow bug in notepad and instead of fixing it they declared TXT files &quot;dangerous&quot;.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-156633">
				<div id="div-comment-156633" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://weblogs.asp.net/ptorr/archive/2004/03/20/93334.aspx' rel='external nofollow' class='url'>Office Development, Security, Randomness...</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040316-00/?p=40243#comment-156633">
			March 20, 2004 at 7:58 pm</a>		</div>

		
		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-166753">
				<div id="div-comment-166753" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">vic10us</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040316-00/?p=40243#comment-166753">
			April 22, 2004 at 1:18 pm</a>		</div>

		<p>BTW, WTF happened to the topic?</p>
<p>I think we were talking about CAPTCHA?<br /></p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-229893">
				<div id="div-comment-229893" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://weblogs.asp.net/oldnewthing/archive/2004/11/25/270337.aspx' rel='external nofollow' class='url'>The Old New Thing</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040316-00/?p=40243#comment-229893">
			November 25, 2004 at 10:39 am</a>		</div>

		
		
				</div>
		</li><!-- #comment-## -->
		</ol><!-- .comment-list -->

		<div class="navigation pagination">
					</div>

	
			<p class="no-comments">Comments are closed.</p>
<!-- COMMENTS END -->
</div></td></tr></table>