<table class="commenttable" cellspacing="0" cellpadding="0"><tr><td><div class="commentdiv"><div class="commentdivhdr">
<!-- COMMENTS START -->
Comments (5)	</div>

	
			<div class="navigation pagination clear-both">
					</div>

		<ol class="comment-list">
					<li class="comment even thread-even depth-1" id="comment-677363">
				<div id="div-comment-677363" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">bahbar</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20081024-00/?p=20473#comment-677363">
			October 24, 2008 at 10:45 am</a>		</div>

		<p>I have about no experience in kernel mode debugging, but I was wondering, what type of situation would have somebody /have/ to debug a user mode crash from kernel mode ?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-nathan_works odd alt thread-odd thread-alt depth-1" id="comment-677393">
				<div id="div-comment-677393" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/nathan_works' rel='external nofollow' class='url'>nathan_works</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20081024-00/?p=20473#comment-677393">
			October 24, 2008 at 11:26 am</a>		</div>

		<p>Help me out..</p>
<p>Following the link, after running the .trap command, it appears you can then run &#8220;kv&#8221; command to re-position the stack to the &#8216;old&#8217; frame/context that the trapframe referenced. The new stack trace will point to the offending module and code (symbols permitting).</p>
<p>But you don&#8217;t get the exception record this way ? (am I reading that all correctly ?)</p>
<div class="post">[<i>This is the code that runs when the exception is raised by the processor. There is no exception record yet. -Raymond</i>]</div>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-677423">
				<div id="div-comment-677423" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">ton</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20081024-00/?p=20473#comment-677423">
			October 24, 2008 at 4:42 pm</a>		</div>

		<p>Good post. One thing I&#8217;m still not quite sure about is how the trap frame is used to transistion from user mode to kernel mode?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-677523">
				<div id="div-comment-677523" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Yuhong Bao</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20081024-00/?p=20473#comment-677523">
			October 25, 2008 at 12:17 pm</a>		</div>

		<p>&#8220;The third parameter to KiDispatchException is the trap frame.&#8221;</p>
<p>BTW, I was just going to ask why KiDispatchException is not documented except I realized that it is not documented because it is an internal function and you don&#8217;t see these documented, do you? BTW, 99% of the functions in ntdll are not documented despite the fact that you see them in many places.</p>
<div class=post>[<i>I&#8217;m convinced that Yuhong Bao posts comments merely to enjoy the sound of his/her own voice. -Raymond</i>]</div>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-677933">
				<div id="div-comment-677933" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Yuhong Bao</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20081024-00/?p=20473#comment-677933">
			October 28, 2008 at 9:57 pm</a>		</div>

		<p>[I&#8217;m convinced that Yuhong Bao posts comments merely to enjoy the sound of his/her own voice. -Raymond]</p>
<p>I was reluctant to post this comment, to be honest.</p>

		
				</div>
		</li><!-- #comment-## -->
		</ol><!-- .comment-list -->

		<div class="navigation pagination">
					</div>

	
			<p class="no-comments">Comments are closed.</p>
<!-- COMMENTS END -->
</div></td></tr></table>