<table class="commenttable" cellspacing="0" cellpadding="0"><tr><td><div class="commentdiv"><div class="commentdivhdr">
<!-- COMMENTS START -->
Comments (10)	</div>

	
			<div class="navigation pagination clear-both">
					</div>

		<ol class="comment-list">
					<li class="comment even thread-even depth-1" id="comment-382073">
				<div id="div-comment-382073" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Anders</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20060518-07/?p=31153#comment-382073">
			May 18, 2006 at 10:42 am</a>		</div>

		<p>And how far back does this work, NT(cmd.exe only)? 95/98? DOS?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-382083">
				<div id="div-comment-382083" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">BryanK</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20060518-07/?p=31153#comment-382083">
			May 18, 2006 at 11:05 am</a>		</div>

		<p>IIRC, it worked that way back in the command.com from DOS 5 or so. &nbsp;Not sure about earlier.</p>
<p>(Of course in anything pre-cmd.exe, you can&#8217;t redirect stderr anyway, but putting a redirection at the beginning of the command did work. &nbsp;Actually in NT 4, you may not be able to redirect stderr either, but I&#8217;m not sure on that one.)</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-oldnewthing bypostauthor even thread-even depth-1" id="comment-382093">
				<div id="div-comment-382093" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Raymond+Chen+-+MSFT' rel='external nofollow' class='url'>Raymond Chen - MSFT</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20060518-07/?p=31153#comment-382093">
			May 18, 2006 at 11:08 am</a>		</div>

		<p>Anders: Feel free to report back with your findings.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-382133">
				<div id="div-comment-382133" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Neil</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20060518-07/?p=31153#comment-382133">
			May 18, 2006 at 12:12 pm</a>		</div>

		<p>Anders,</p>
<p>&gt;dir.txt dir</p>
<p>works in Windows 95.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-382153">
				<div id="div-comment-382153" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">boxmonkey</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20060518-07/?p=31153#comment-382153">
			May 18, 2006 at 12:54 pm</a>		</div>

		<p>I think my brain just exploded.</p>
<p>Not really. This is pretty cool, but I can see how it would be used for evil (obfuscation).</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-382163">
				<div id="div-comment-382163" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Gabe</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20060518-07/?p=31153#comment-382163">
			May 18, 2006 at 1:31 pm</a>		</div>

		<p>The way it works is that the token immediately following a &lt; or &gt; is a filename for redirection, while everything else is part of the command to be executed. The parser has no reason to care where in the command the redirection token occurs. </p>
<p>I&#39;m pretty sure that it just always worked this way, ever since redirection was first implemented. In fact, I suspect that this goes all the way to when the syntax was first created in Unix, around 1972. </p>
<p>Don&#39;t forget that Microsoft did the port of Unix to microcomputers shortly before DOS was released, so there would have been plenty of people around with Unix experience.</p>
<div class="post">[<i>Yup, this feature has been around since the Thompson shell. &quot;<a href="http://v6shell.org/man/sh6.1.html" rel="nofollow">Such a redirection may appear anywhere among the arguments of a simple command</a>.&quot; -Raymond</i>]</div>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-maurits even thread-even depth-1" id="comment-382203">
				<div id="div-comment-382203" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Maurits+%5BMSFT%5D' rel='external nofollow' class='url'>Maurits [MSFT]</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20060518-07/?p=31153#comment-382203">
			May 18, 2006 at 4:25 pm</a>		</div>

		<p>I think quoting is inevitable at some point.<br />
<br />Consider what happens if %message% contains a &gt;</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-382353">
				<div id="div-comment-382353" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Mike Dunn</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20060518-07/?p=31153#comment-382353">
			May 19, 2006 at 3:19 am</a>		</div>

		<p>My head a splode.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-382543">
				<div id="div-comment-382543" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">msc</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20060518-07/?p=31153#comment-382543">
			May 19, 2006 at 6:21 pm</a>		</div>

		<p>However these command produce different results:</p>
<p>&gt;dirsort.txt dir /b | sort /r</p>
<p>and</p>
<p>dir /b | sort /r &gt; dirsort.txt</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-382793">
				<div id="div-comment-382793" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">BryanK</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20060518-07/?p=31153#comment-382793">
			May 22, 2006 at 8:06 am</a>		</div>

		<p>Well, um, yes, because in the first the redirection to dirsort.txt is part of the &quot;dir&quot; command. &nbsp;In the second, it&#8217;s part of the &quot;sort&quot; command.</p>
<p>So in the first, you&#8217;ve told the shell that stdout for the dir command should go to two different places (the file dirsort.txt and a pipe to another process). &nbsp;If you don&#8217;t get an error, the shell probably does either the first or last, but it won&#8217;t do both.</p>

		
				</div>
		</li><!-- #comment-## -->
		</ol><!-- .comment-list -->

		<div class="navigation pagination">
					</div>

	
			<p class="no-comments">Comments are closed.</p>
<!-- COMMENTS END -->
</div></td></tr></table>