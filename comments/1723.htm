<table class="commenttable" cellspacing="0" cellpadding="0"><tr><td><div class="commentdiv"><div class="commentdivhdr">
<!-- COMMENTS START -->
Comments (65)	</div>

	
			<div class="navigation pagination clear-both">
					</div>

		<ol class="comment-list">
					<li class="comment even thread-even depth-1" id="comment-1107363">
				<div id="div-comment-1107363" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Joshua</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140218-00/?p=1723#comment-1107363">
			February 18, 2014 at 7:03 am</a>		</div>

		<p>People often expect one UI operation = one transaction until they have to pay the disk cost.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-alegrigoriev odd alt thread-odd thread-alt depth-1" id="comment-1107373">
				<div id="div-comment-1107373" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/alegr1' rel='external nofollow' class='url'>alegr1</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140218-00/?p=1723#comment-1107373">
			February 18, 2014 at 7:23 am</a>		</div>

		<p>It used to be that the object&#39;s owner was getting unlimited access by default, but in Windows 7+ (or in Vista already?) it&#39;s possible to limit the creator/owner rights.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1107383">
				<div id="div-comment-1107383" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Chris Crowther</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140218-00/?p=1723#comment-1107383">
			February 18, 2014 at 7:26 am</a>		</div>

		<p>They may have assumed the operation to be atomic. &nbsp;Although given there&#39;s no suggestion that it is, it would be a silly assumption.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-alegrigoriev odd alt thread-odd thread-alt depth-1" id="comment-1107393">
				<div id="div-comment-1107393" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/alegr1' rel='external nofollow' class='url'>alegr1</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140218-00/?p=1723#comment-1107393">
			February 18, 2014 at 7:55 am</a>		</div>

		<p>New line of toys for MS kids: &quot;Bob the CREATOR OWNER&quot;</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1107403">
				<div id="div-comment-1107403" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Cancel</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140218-00/?p=1723#comment-1107403">
			February 18, 2014 at 8:00 am</a>		</div>

		<p>A lot of people assume cancel will undo everything they have done since logging into their machine. &nbsp;I know some software I use can undo to what you were doing last week if you left it running. &nbsp;I also know a lot of software where the cancel button does nothing. &nbsp;You hit cancel, and it hangs the program and the only thing you can do is kill the process. &nbsp;It is all about expectations.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1107413">
				<div id="div-comment-1107413" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Chris Shouts</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140218-00/?p=1723#comment-1107413">
			February 18, 2014 at 8:13 am</a>		</div>

		<p>It&#39;s logical to expect that cancelling the operation will be side-effect free. My general advice to someone assigning permissions would be &quot;Never use the Cancel button. It doesn&#39;t do what you think it does.&quot;</p>
<p>In this instance I assert that the source of the problem is a defective software design.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1107423">
				<div id="div-comment-1107423" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">dirk gently</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140218-00/?p=1723#comment-1107423">
			February 18, 2014 at 8:14 am</a>		</div>

		<p>Well, in this scenario &quot;Cancel&quot; does not actually cancel the operation, but rather the portion of it that was still not done at the point when the cancel button was clicked. </p>
<p>I can understand that the customer would expect this to be an atomic operation, especially since:</p>
<p>1. it&#39;s a security feature we are talking about</p>
<p>2. there is no easy procedure to manually go back to a consistent state.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1107433">
				<div id="div-comment-1107433" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Dan Bugglin</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140218-00/?p=1723#comment-1107433">
			February 18, 2014 at 8:23 am</a>		</div>

		<p>Perhaps a better name would be &quot;Abort&quot; as &quot;Cancel&quot; implies you&#39;ve changed your mind (and would want it rolled back and undone).</p>
<p>And I think we can at least agree that a halfway done operation is good for noone.</p>
<p>However I expect it is the way it is because a power user will typically hit cancel because they realized they need to make more adjustments, then they will apply the operation again to fix the inconsistent state.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1107443">
				<div id="div-comment-1107443" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Matt</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140218-00/?p=1723#comment-1107443">
			February 18, 2014 at 8:25 am</a>		</div>

		<p>Maybe they should rename the button from &quot;Cancel&quot; (which implies the action will be reversed) and change it to &quot;stop&quot; which implies only that the action will cease, or even &quot;abort&quot; which implies that the action will cease and there may be unexpected mess that needs to be cleaned up afterwards.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1107453">
				<div id="div-comment-1107453" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Anon</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140218-00/?p=1723#comment-1107453">
			February 18, 2014 at 8:26 am</a>		</div>

		<p>Agreed with all the &quot;Cancel isn&#39;t actually &#39;Cancelling&#39; anything&quot; posts.</p>
<p>In the case of the security permission assignment, that&#39;s an &quot;Abort&quot; button. It bails out of the operation, without any regard for issues that might cause. It has NOTHING to do with &quot;Cancelling&quot; the operation.</p>
<p>Imagine if online ordering worked like this:</p>
<p>&quot;Why was my credit card charged? I never received the product!&quot;</p>
<p>&quot;You cancelled the order, sir.&quot;</p>
<p>&quot;But I never got the product!&quot;</p>
<p>&quot;Cancelling in the middle of the order may result in undesired behaviour, including charging your card without sending the product.&quot;</p>
<p>&quot;Well, refund the money to my card!&quot;</p>
<p>&quot;Unless you backed up the state of the entire universe prior to your order, we can&#39;t do that.&quot;</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-maurits even thread-even depth-1" id="comment-1107463">
				<div id="div-comment-1107463" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Maurits+%5BMSFT%5D' rel='external nofollow' class='url'>Maurits [MSFT]</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140218-00/?p=1723#comment-1107463">
			February 18, 2014 at 8:49 am</a>		</div>

		<p>Agreed. &quot;Cancel&quot; implies an atomicity that &quot;obviously&quot; does not actually hold for this operation.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1107473">
				<div id="div-comment-1107473" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Kemp</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140218-00/?p=1723#comment-1107473">
			February 18, 2014 at 9:01 am</a>		</div>

		<p>There seems to be some confusion in the comments. People appear to think that the customer&#39;s problem was that the tool didn&#39;t undo the changes it had already performed. What I get from the article is that the customer&#39;s problem was that the tool didn&#39;t finish the job after being cancelled (something that can&#39;t be solved by renaming the cancel button).</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1107483">
				<div id="div-comment-1107483" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Joker_vD</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140218-00/?p=1723#comment-1107483">
			February 18, 2014 at 9:10 am</a>		</div>

		<p>Yeah, being able to perform operations of arbitrary complexity atomically in constant time would be extremely handy. Unfortunately, it&#39;s not quite possible. Locking has high cost on others; saving rollback information has high cost on you.</p>
<p>Also, Windows security system is kinda complicated&#8230; never got down to actually studying it, sadly.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1107493">
				<div id="div-comment-1107493" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Jim Mischel</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140218-00/?p=1723#comment-1107493">
			February 18, 2014 at 9:10 am</a>		</div>

		<p>I think the &quot;Cancel&quot; comments above are absurd. If you subscribe to a magazine for three years and then cancel your subscription, you don&#39;t expect your money to be refunded and all the magazines you received for the last three years to somehow be magically transported back to the publisher and the knowledge you gained from reading them be erased from your memory.</p>
<p>In software, the meaning of &quot;Cancel&quot; is context-dependent. It can either mean, &quot;I&#39;ve changed my mind, don&#39;t do anything.&quot; Or it can mean, &quot;Stop what you&#39;re doing!&quot; In the latter case there is no expectation that Cancel also implies &quot;Undo&quot;.</p>
<p>That said, I agree that &quot;Abort&quot; might be a more reasonable label for that button. But the truth is that in general people shouldn&#39;t be fiddling with these security settings if they don&#39;t know what they&#39;re doing. And they certainly shouldn&#39;t be pressing the Cancel button without understanding the ramifications. Perhaps the Cancel button should pop up a confirmation box: &quot;Warning: If you cancel this operation, things will be in an inconsistent state.&quot;</p>
<p>There&#39;s a continual tension between flexibility and usability. With power comes responsibility. Users are given the ability to make potentially disastrous changes to their systems. As software developers, there are only so many ways we can protect them from their own ignorance or impatience.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1107503">
				<div id="div-comment-1107503" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Joker_vD</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140218-00/?p=1723#comment-1107503">
			February 18, 2014 at 9:18 am</a>		</div>

		<p>@Jim Mischel: Well, a warning about &quot;things being in an inconsistent state&quot; would be technically incorrect. It depends on what you consider consistent state! If you are changing access rights of several objects and cancel it mid-way, your filesystem doesn&#39;t end up damaged. All files are there, and any of them either had its access changed successfuly, or not changed at all. That&#39;s pretty consistent.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-jan-ringos odd alt thread-odd thread-alt depth-1" id="comment-1107523">
				<div id="div-comment-1107523" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Jan+Ringo%C5%A1' rel='external nofollow' class='url'>Jan Ringoš</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140218-00/?p=1723#comment-1107523">
			February 18, 2014 at 10:07 am</a>		</div>

		<p>Too bad there is no SetNamedSecurityInfoTransacted.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1107543">
				<div id="div-comment-1107543" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">John Doe</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140218-00/?p=1723#comment-1107543">
			February 18, 2014 at 11:03 am</a>		</div>

		<p>My two cents on this is.</p>
<p>&quot;Cancel&quot; usually means to discard, decline, erase, regret, mostly when not in the middle of work being done. &nbsp;An example is a preferences modal dialog, it usually has a Cancel button that just closes the dialog without applying any preference, and usually they have OK and Apply buttons too.</p>
<p>&quot;Abort&quot; usually means stop no matter what for something already happening. &nbsp;An example is copying or moving files, or error dialogs when performing these operations, which usually also have a Retry button.</p>
<p>By the dictionary, this is my interpretation of how it should be. &nbsp;There&#39;s reason to be baffled why Raymond got baffled with the customer&#39;s confusion.</p>
<p>I&#39;m another one supporting that the button ought to be &quot;Abort&quot;.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1107553">
				<div id="div-comment-1107553" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">metafonzie</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140218-00/?p=1723#comment-1107553">
			February 18, 2014 at 11:21 am</a>		</div>

		<p>When applying ACL changes, there is always a progress bar shown. I think the meaning of a Cancel button, when under some kind of progress bar, is always, &quot;Try and cancel the current operation, but consistency is not guaranteed.&quot;</p>
<p>The other &#39;Cancel&#39; context is obvious because its is usually presented under a question.</p>
<p>If I&#39;m deleting a bunch of files and I cancel out the operation, I don&#39;t expect files to be magically undeleted.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1107563">
				<div id="div-comment-1107563" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Antonio &amp;#39;Grijan&amp;#39;</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140218-00/?p=1723#comment-1107563">
			February 18, 2014 at 11:32 am</a>		</div>

		<p>Of course, &quot;Cancel&quot; button in progress dialogs always means &quot;Abort&quot;: it stops the operation, but does not undo the changes it has already made (which can be impossible, for example, in the case of copy/move with overwrite). The problem here is that the button is too tied to how the computer works, and not to how the user works. Its logic is solid viewer with programmer-colored glasses, but the users don&#39;t work that way. As pointed above, the user expects all operations to be atomic, and thus, expects &quot;Cancel&quot; to undo whatever has been done. S/he doesn&#39;t understand of times, latencies or overhead by transactions.</p>
<p>Labeling process dialog buttons as &quot;Abort&quot; or &quot;Stop&quot; may help with some users that take some time to try to understand. But most users won&#39;t notice the difference. The only sensible things to do, from an usability perspective, is either make a full transactional system (unfeasible because of the resource limitations cited above), or to entirely remove the Cancel button (unfeasible, too, because the user must remain in control at all times). It is one of those situations where you just can&#39;t win.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1107573">
				<div id="div-comment-1107573" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Anon</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140218-00/?p=1723#comment-1107573">
			February 18, 2014 at 12:07 pm</a>		</div>

		<p>@Jim</p>
<p>What? </p>
<p>When you cancel a magazine subscription, they continue to send the magazines through the end of your subscription period. They do not simply stop delivering magazines.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1107583">
				<div id="div-comment-1107583" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Anon</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140218-00/?p=1723#comment-1107583">
			February 18, 2014 at 12:15 pm</a>		</div>

		<p>@Antonio</p>
<p>&quot;Cancel&quot; almost NEVER means &quot;Abort,&quot; except in Windows Explorer.</p>
<p>Prime Example: In every web browser, that &quot;Cancel&quot; box on your file download progress isn&#39;t a &quot;Bail out&quot; button, it stops the download and then removes the partial file.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1107593">
				<div id="div-comment-1107593" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">j b</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140218-00/?p=1723#comment-1107593">
			February 18, 2014 at 12:29 pm</a>		</div>

		<p>In the early 90s, a highly touted coding principles was to make any function have 3 phases: </p>
<p>Verification: Check parameters / external conditions, ensure that all preconditions for phase 2/3 are met. Otherwise, error return, with no side effects whatsoever.</p>
<p>Work: Do whatever the function is intended to do. Ontermediate operations are made on local variables; still no side effects are allowed. If work cannot be completed successfully, error return.</p>
<p>Results (&quot;commit&quot;, if you prefer): Temporary results in local variables copied to var parameters, pointed-to locations or file. This is the only phase when side effects are allowed. With preconditions checked in phase 1, and heavy work in phase 2 succeeded (otherwise, it would error return), the risk of a phase 3 failis minimal. </p>
<p>This principle obviously is an ideal. Sometimes you have to break the rule. Yet, my colleague teaching intro programming inn the 90s, held it to tje students as a law of nature. That paid back! Her students wrote more diciplined, well structured code than I have ever seen. (Only problem: When later encountered code from other sources (e.g. in my courses), they were bewildered: &quot;it isn&#39;t as it should be&quot;) </p>
<p>We were helped by the roughly simultaneous appearance of Windows, which promoting similar ideas, in particular for dialog boxes. &nbsp;So, our students learned this as &quot;the modern way of doing high quality code&quot;.</p>
<p>Since then, in my programming I have followed those principles as far as possible. When I &quot;must&quot; break the rules, it make me feel somewhat uneasy. Certainly, following the rules doesn&#39;t always guarantee that a large and complex operation can be canceled with no side effects, but it sure makes it easier to come closer to the ideal. You COULD insist on structuring code so that every function, at every level, during the commit either modifies the local environment of the caller only, or supply a &quot;commit callback&quot; for the caller to execute in his commit phase (which is another commit callback function). This requires all values to be committed to be heap allocated and every function&#39;s commit phase to be split off as a separate function. You may be unwilling to take that effort. (Besides, it might cost several microseconds execution time.) But IF you do, you could get quite close to any operation being fully cancelable. </p>
<p>I would never push these principles if the only benefit was cancelable operations. It turns out that the three-phase model forces (or at least stimulates) you to be far more aware of checking preconditions, which is a good thing. Once preconditions are checked, the work phase code may be simplified &#8211; shorter, more readable &#8211; being free of checks and verifications; they are already done. And, doing all the commits together may make more efficient use of hardware due to temporal locality.</p>
<p>I am not insisting on everyone following slavishly the three-phase function code model, but I honestly think that keeping it as an ideal will help improving your code quality.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1107603">
				<div id="div-comment-1107603" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">voo</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140218-00/?p=1723#comment-1107603">
			February 18, 2014 at 12:41 pm</a>		</div>

		<p>@j b: Your &quot;three-phase function&quot; is basically a part of design by contract. Basically you have preconditions, postconditions and invariants &#8211; your approach has the first two covered.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1107623">
				<div id="div-comment-1107623" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">j b</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140218-00/?p=1723#comment-1107623">
			February 18, 2014 at 1:28 pm</a>		</div>

		<p>voo,</p>
<p>Sure, invariants is essential for a contract. But lots of contracts are coded NOT following a 3-phase model. Preconditions, postconditions and invariants are essentially _external_ requirements &#8211; black-box behaviour. They do not dictate the implemnetation strategy. Consider the 3-phase implementation model a disciplined way to realize the concepts of preconditions, postconditions and invariants.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1107633">
				<div id="div-comment-1107633" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">helmet</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140218-00/?p=1723#comment-1107633">
			February 18, 2014 at 2:17 pm</a>		</div>

		<p>I like the idea of distinguishing between a &quot;proper&quot; cancel that leaves you as if you hadn&#39;t done the operation at all, and a different name (&quot;abort&quot;) for the &quot;just drop everything&quot; behavior that ideally should never happen but in practice sometimes does.</p>
<p>However, please, PLEASE, don&#39;t call that &quot;abort&quot;. Because that term already has a very specific meaning in the computer science circles I frequent, and that meaning is it leaves you as if you hadn&#39;t done the operation at all. </p>
<p>For the &quot;bad&quot; cancel, I suggest that instead we label the button &quot;stop&quot;. This still suggests that we leave everything &quot;as it is&quot;, but without stepping on the toes of the database terminology.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1107643">
				<div id="div-comment-1107643" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">j b</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140218-00/?p=1723#comment-1107643">
			February 18, 2014 at 2:41 pm</a>		</div>

		<p>Reminds me of a discssion I had with my BIL many years ago, about an HP operating system that used the term &quot;abort&quot; to terminate a process, and another one (I think it was a Univac) calling it to &quot;kill&quot; the process, and he insisted, &quot;Well, that&#39;s about the same thing, isn&#39;t it?&quot;</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1107653">
				<div id="div-comment-1107653" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">John</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140218-00/?p=1723#comment-1107653">
			February 18, 2014 at 3:07 pm</a>		</div>

		<p>To echo a lot of comments here, people too often think of Cancel as a ROLLBACK of sorts (as if you were in a BEGIN TRANSACTION). I agree with a lot of the comments here that any assumption of that sort without an explicit contract saying so is foolish.</p>
<p>@Windows Explorer ACL Comments</p>
<p>I want to say that Windows 7+ (and maybe even Vista) alert you when you cancel an operation to set security permissions via the explorer dialog. Something to the effect of &quot;your security permissions may now be in an inconsistent state&quot; or some such.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1107663">
				<div id="div-comment-1107663" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">John Doe</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140218-00/?p=1723#comment-1107663">
			February 18, 2014 at 3:19 pm</a>		</div>

		<p>@helmet, really, it&#39;s the DB terminology that got it wrong, so please, PLEASE, don&#39;t impose that use of abort on anything else, and allow the proper meaning to take place where needed.</p>
<p>Please, pick your dictionary of choice and see the definitions of abort and cancel.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1107673">
				<div id="div-comment-1107673" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">helmet</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140218-00/?p=1723#comment-1107673">
			February 18, 2014 at 3:43 pm</a>		</div>

		<p>@John Doe &#8211; I understand how you feel about &quot;abort&quot;, and I agree that it would be great if it weren&#39;t for those pesky other people who will understand it &quot;wrong&quot;. All I was doing was pointing out that there are people have specific expectations for that word (and they&#39;re not reading this forum). Sometimes being &quot;right&quot; doesn&#39;t matter when the goal is to come up with a term that everyone understands: if sufficiently many people will misunderstand the word, then perhaps it is worthwhile to look for another term. </p>
<p>You said nothing about my proposal of &quot;stop&quot;. Don&#39;t you like it?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1107683">
				<div id="div-comment-1107683" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">meh</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140218-00/?p=1723#comment-1107683">
			February 18, 2014 at 3:44 pm</a>		</div>

		<p>I agree with metafonzie&#39;s file deletion analogy and thus would expect Cancel to do the same sort of thing for other operations in Explorer, though the blog post doesn&#39;t actually say what the tool was that was cancelled&#8230; maybe they used a command line and pressed Ctrl+C at some point. Anyways, the bafflement probably isn&#39;t from any disagreement about what the best name for a button should be or what the ideal design behaviour should be, but instead with the idea that the customer liaison had to ask what the actual cancel behaviour is for the tool and what the end result to the file system objects would be. (Why the question was asked also isn&#39;t specified&#8230; maybe he/she is a real smart person but there is some sort of process that must be followed.)</p>
<p>Off topic: my favourite percent-done bars are the ones that visually unwind themselves when you cancel &#8211; that lets me know that things were intended to be restored to a previous state.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1107693">
				<div id="div-comment-1107693" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Antonio &amp;#39;Grijan&amp;#39;</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140218-00/?p=1723#comment-1107693">
			February 18, 2014 at 3:51 pm</a>		</div>

		<p>&gt; &quot;Cancel&quot; almost NEVER means &quot;Abort,&quot; except in Windows Explorer.</p>
<p>&gt; Prime Example: In every web browser, that &quot;Cancel&quot; box on your file download progress isn&#39;t a &quot;Bail out&quot; button, it stops the download and then removes the partial file.</p>
<p>Precisely, in many browser&#39;s download dialog, &quot;Cancel&quot; stops the download, but tends to leave the part already downloaded. And in the case of download managers with a list of several files, the already completed files are never deleted. This happens, for example, with the DownThemAll extension on Firefox on Linux &#8211; no Microsoft code involved at all. AFAIK, Gnome&#39;s file copy dialog works that way, too. And VirtualDub&#39;s video conversion dialog. Just to name a few.</p>
<p>What do they all have in common with Windows Explorer? They are examples of progress dialogs, too.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-cheong odd alt thread-odd thread-alt depth-1" id="comment-1107703">
				<div id="div-comment-1107703" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/cheong00' rel='external nofollow' class='url'>cheong00</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140218-00/?p=1723#comment-1107703">
			February 18, 2014 at 5:09 pm</a>		</div>

		<p>Btw, since TxF supports transactional operations, is it possible for the shell to make the process of these kind of recursive update transactional?</p>
<p>If that&#39;s what had been implemented, that&#39;d probably match what most user expected.</p>
<div class="post">[<em><a href="http://blogs.msdn.com/b/oldnewthing/archive/2014/02/18/10500937.aspx#10501186">Too bad there is no SetNamedSecurityInfoTransacted</a>. -Jan Ringo&scaron;</em>]</div>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1107513">
				<div id="div-comment-1107513" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Billy O'Neal</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140218-00/?p=1723#comment-1107513">
			February 18, 2014 at 9:43 am</a>		</div>

		<p>While I agree that one shouldn&#39;t assume that the operation isn&#39;t completed completely, the documentation for the INHERITED bit flag seems to indicate that this flag is computed dynamically on the part of the security subsystem; and that if INHERITED it set that one can assume that the ACE was actually inherited. But this isn&#39;t the case; and it would be nice for the documentation in question to describe that this is a static, persisted flag, not a calculated value.</p>
<p>Similarly, for CREATOR OWNER, the documentation is misleading because in &quot;gets replaced with the actual creator/owner when the object is created,&quot; &quot;the object&quot; is referring to the *children* of the object on which the CREATOR OWNER ACE is being set. Most would expect &quot;the object&quot; to be the object on which the ACE is actually set.</p>
<p>In both cases, this seems like a case of whomever owns the inheritance algorithm describing how the flags work, rather than an API designer describing how they work.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1107713">
				<div id="div-comment-1107713" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">gibwar</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140218-00/?p=1723#comment-1107713">
			February 18, 2014 at 6:15 pm</a>		</div>

		<p>The people complaining about the Cancel button astound me. Off the top of my head, I can&#39;t think of any progress bar in Explorer where the Cancel button will completely undo an operation. As another example, pressing Cancel on Windows Update doesn&#39;t uninstall the patches it may have already completed. A lot of installers are that way too, if you hit Cancel after the actual installation process has done. They&#39;ll leave files behind and not properly roll back a half completed installation.</p>
<p>For those wanting to call it Stop or Abort I think has the same connotations as Cancel, as it&#39;s not any clearer what state the system will be left in. The only thing I can think of that can clearly demonstrate the action would be Terminate or, for a more unix-y feel, Kill.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-alegrigoriev even thread-even depth-1" id="comment-1107733">
				<div id="div-comment-1107733" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/alegr1' rel='external nofollow' class='url'>alegr1</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140218-00/?p=1723#comment-1107733">
			February 18, 2014 at 7:11 pm</a>		</div>

		<p>[Too bad there is no SetNamedSecurityInfoTransacted. -Jan Ringo&scaron;]</p>
<p>But there is CreateFileTransacted+SetSecurityInfo</p>
<p>Although the TFS is being phased out.</p>
<div class="post">[<em>SetSecurityInfo is <a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa964931(v=vs.85).aspx#transacted_functions">not a transacted operation</a>. -Raymond</em>]</div>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1107753">
				<div id="div-comment-1107753" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Drak</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140218-00/?p=1723#comment-1107753">
			February 18, 2014 at 10:48 pm</a>		</div>

		<p>Well, if it rolls back changes it should be called &#39;Roll back&#39;, &#39;Restore&#39; or &#39;Cancel and roll back&#39;. &#39;Cancel&#39; in and of itself does not imply a roll back.</p>
<p>For people thinking of real-world &#39;cancel&#39; situations like magazines: you are canceling something that will take place in the future. You don&#39;t actually cancel a subscription, you cancel the renewal of the subscription.</p>
<p>Just like you can&#39;t cancel a hotel booking you are in the middle of because the hotel can&#39;t retroactively give your room to anyone else, can they?</p>
<p>Just my feelings on this.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-cheong even thread-even depth-1" id="comment-1107763">
				<div id="div-comment-1107763" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/cheong00' rel='external nofollow' class='url'>cheong00</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140218-00/?p=1723#comment-1107763">
			February 18, 2014 at 10:48 pm</a>		</div>

		<p>I read that &quot;Security Change&quot; is also logged by filesystem journal, so I thought there should be corresponding functions.</p>
<p>Maybe it&#39;s reserved for future improvements then.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1107773">
				<div id="div-comment-1107773" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Virtual8086</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140218-00/?p=1723#comment-1107773">
			February 18, 2014 at 11:24 pm</a>		</div>

		<p>Going on with the discussion of a better name for the button… I&#39;m not a native English speaker but how do you feel about the word &quot;Break&quot;? Although it seems to be uncommon to use it in such cases, at least it implies that the things being changed will stay broken.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1107723">
				<div id="div-comment-1107723" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">voo</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140218-00/?p=1723#comment-1107723">
			February 18, 2014 at 7:00 pm</a>		</div>

		<p>@Gibwar: No idea what you think, but the dictionary (oxford) is pretty unambiguous there:</p>
<p>cancel: decide or announce that (a planned event) will not take place; annul or revoke</p>
<p>abort: bring to a premature end because of a problem or fault</p>
<p>Clearly rather different annotations (heck the dictionary explicitly lists &quot;annul&quot; for cancel and I think we don&#39;t have to argue the definition of that one; or is that just because I&#39;m at least officially catholic?) and &quot;abort&quot; fits the description much better &#8211; nobody expects something to be rolled back if they &quot;abort&quot; an operation, but there&#39;s tons of software out there where &quot;cancel&quot; does indeed roll back changes. </p>
<p>About your astonishment: It&#39;s not about whether someone who is used to the idiosyncrasies of a system can understand and use it &#8211; by that definition filenames where only the first 8 characters are significant are perfectly fine too, but that doesn&#39;t change the fact that they are still a bad user experience. Inconsistencies for no good reason are a bad thing, surprising your users is just as bad.</p>
<p>&quot;Precisely, in many browser&#39;s download dialog, &quot;Cancel&quot; stops the download, but tends to leave the part already downloaded&quot;</p>
<p>Huh? You must be talking about Safari, because the other 3 (Chrome, FF, IE) all delete half downloaded files. Even then *one* browser is not &quot;many&quot;..</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1107793">
				<div id="div-comment-1107793" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Neil</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140218-00/?p=1723#comment-1107793">
			February 19, 2014 at 3:02 am</a>		</div>

		<p>Well, that&#39;s my new piece of information for today; I&#39;d always assumed &quot;CREATOR OWNER&quot; means &quot;apply these permissions to whomsoever is the current owner of the object&quot; rather than &quot;grant these permissions to the creator when creating an object&quot;.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1107803">
				<div id="div-comment-1107803" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Neil</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140218-00/?p=1723#comment-1107803">
			February 19, 2014 at 3:05 am</a>		</div>

		<p>Oh, and of course the next problem is how to remove orphaned permissions&#8230;</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1107813">
				<div id="div-comment-1107813" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Gechurch</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140218-00/?p=1723#comment-1107813">
			February 19, 2014 at 3:45 am</a>		</div>

		<p>@The MAZZTer &nbsp; </p>
<p>&quot;However I expect it is the way it is because a power user will typically hit cancel because they realized they need to make more adjustments, then they will apply the operation again to fix the inconsistent state.&quot;</p>
<p>+1. I&#39;ve often done exactly that.</p>
<p>@Kemp &nbsp; </p>
<p>&quot;There seems to be some confusion in the comments. People appear to think that the customer&#39;s problem was that the tool didn&#39;t undo the changes it had already performed. What I get from the article is that the customer&#39;s problem was that the tool didn&#39;t finish the job after being cancelled (something that can&#39;t be solved by renaming the cancel button).&quot;</p>
<p>Exactly. I&#39;m surprised by how many people had this incorrect reading of the article, given the technical nature of the readership. If the &#39;Cancel&#39; button had reverted the changes, Bob would still have access to all the files &#8211; something the person asking the question didn&#39;t want. To get the behaviour the person wanted (Bob having no access), Windows would have had to ignore the &#39;Cancel&#39; button altogether and continued on removing Bob&#39;s access. </p>
<p>@Joker_vD &nbsp; </p>
<p>&quot;@Jim Mischel: Well, a warning about &quot;things being in an inconsistent state&quot; would be technically incorrect. It depends on what you consider consistent state! If you are changing access rights of several objects and cancel it mid-way, your filesystem doesn&#39;t end up damaged. All files are there, and any of them either had its access changed successfuly, or not changed at all. That&#39;s pretty consistent.&quot;</p>
<p>In your mind &#39;consistent state&#39; (of file permissions) == &#39;no damage to the filesystem&#39;?? That&#39;s insane!</p>
<p>My 2c:</p>
<p>Would &#39;Abort&#39; be a better button label than &#39;Cancel&#39;? Yes</p>
<p>If I hit &#39;Apply&#39; and watched a whole bunch of permission changes go through, then hit the &#39;Cancel&#39; button, would I be surprised if my permissions ended up inconsistent? Of course not, that would be daft.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1107823">
				<div id="div-comment-1107823" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">GWO</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140218-00/?p=1723#comment-1107823">
			February 19, 2014 at 4:30 am</a>		</div>

		<p>Interesting to see how people&#39;s expectations vary with a cancel. &nbsp;I always consider these in the context of Abrahams&#39; exception guarantees for C++; the strong guarantee is basically the transact/rollback semantics that many non-technical users may expect. &nbsp;The basic guarantee is the &quot;Abort&quot; semantics they usually get.</p>
<p>One would certainly like the strong guarantee wherever possible &#8211; for external errors more than for manual intervention. &nbsp;If I move a directory to another filesystem, which runs out of space during the process, I really don&#39;t want to have to clear up the partial move manually.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1107833">
				<div id="div-comment-1107833" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Deduplicator</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140218-00/?p=1723#comment-1107833">
			February 19, 2014 at 4:42 am</a>		</div>

		<p>Re Consistent State:</p>
<p>1 Sure, changing the security descriptors and aborting the operation halfway through doesn&#39;t leave the filesystem in an inconsistent state in regard to unusable.</p>
<p>2 But anyway, the permissions are in an inconsistent state, which is quite bad enough, thank you very much.</p>
<p>3 All software SHOULD be able to at rationally if 2 prevails, because this situation can arise through different means on NTFS: Junctions anyone? That does not mean any user who has no idea about the underlying system ever consciously encountered and/or expects it.</p>
<p>4 Cancel/Abort: Nobody is surprised by cancel meaning abort, iff they know the system and/or the program putting up that dialog. It&#39;s still a bad UI which doesn&#39;t speak about the operations performed in the same granularity as the user ordered them, instead of the myriad steps the program uses to implement them. Especially if there is no compelling case for doing so, and nobody to date gave one&#8230; Twice so if both cancel and abort are used appropriately elsewhere in the system (meaning all OS+programs).</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1107843">
				<div id="div-comment-1107843" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Engywuck</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140218-00/?p=1723#comment-1107843">
			February 19, 2014 at 5:14 am</a>		</div>

		<p>another surprising detail: when admin A has &quot;change permissions&quot; allowed on a directory but not on a subdirectory he can change the permissions on the parent, but the &quot;inherited&quot; permissions on the subdirectory won&#39;t change (with a scary message ond no way to rollback). Was somewhat counter-intuitive when I first stumbled upon it. This can happen by having non-inheriting permissions for the parent (&quot;this folder only&quot;). </p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1107853">
				<div id="div-comment-1107853" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Lev</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140218-00/?p=1723#comment-1107853">
			February 19, 2014 at 5:45 am</a>		</div>

		<p>I think it&#39;s obvious that if an action took time then the &quot;Cancel&quot; button won&#39;t magically complete it immediately, and it&#39;s almost as obvious that it can&#39;t be rolled back immediately, either.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1107873">
				<div id="div-comment-1107873" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">GWO</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140218-00/?p=1723#comment-1107873">
			February 19, 2014 at 6:20 am</a>		</div>

		<p>@Lev: &quot;I think it&#39;s obvious that if an action took time then the &quot;Cancel&quot; button won&#39;t magically complete it immediately, and it&#39;s almost as obvious that it can&#39;t be rolled back immediately, either.&quot;</p>
<p>That presupposes a level of technical knowledge &#8211; and a problem domain. &nbsp;For anyone whose experience is working on production database systems, your second &quot;obvious fact&quot; is both counter-intuitive and wrong. &nbsp;What you think is &quot;obvious&quot; is only obvious through OS/kernel/filesystem-coloured glasses.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1107883">
				<div id="div-comment-1107883" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Anon</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140218-00/?p=1723#comment-1107883">
			February 19, 2014 at 6:59 am</a>		</div>

		<p>@GWO</p>
<p>Exactly. A massive problem in tech circles is that no one seems to spend more than a half-second thinking about users who were not present during the design process.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1107903">
				<div id="div-comment-1107903" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">John Doe</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140218-00/?p=1723#comment-1107903">
			February 19, 2014 at 7:22 am</a>		</div>

		<p>@Gechurch, the customer didn&#39;t really have an expectation, he/she just observed that a child object still had rights for Bob while the parent didn&#39;t. &nbsp;If there&#39;s an expectation, it&#39;s that the recursion applies the operation first to children and then to the parent.</p>
<p>In this case, it correctly processes the parents before the children. &nbsp;It&#39;s not really intuitive until you think about it: parents have a broader scope, so let&#39;s apply the new permissions (either give or take) far out first.</p>
<p>So, we&#39;re discussing the possibility that &quot;Abort&quot; would be a better button label than &quot;Cancel&quot;, when the customer was actually finding strange that parent object got updated before child objects. &nbsp;But it&#39;s crucial that the user has the notion that &quot;Cancel&quot; does in fact abort the on-going set of operations.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1107923">
				<div id="div-comment-1107923" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Evan</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140218-00/?p=1723#comment-1107923">
			February 19, 2014 at 7:48 am</a>		</div>

		<p>@Gechurch: &quot;In your mind &#39;consistent state&#39; (of file permissions) == &#39;no damage to the filesystem&#39;?? That&#39;s insane!&quot;</p>
<p>I mostly disagree. When talking about file systems, &quot;consistent state&quot; to me means that the invariants of the file system are held: e.g. there aren&#39;t unused HD blocks that don&#39;t appear on the free list, no block is part of two files (for nitpickers: outside of what the FS allows for COW and such yadda yadda yadda), etc. If you stop with a list of ACLs half applied, all of the ACLs are still legal ACLs even if the ACLs for two files disagree. You haven&#39;t screwed up any of the internal structure of the file system.</p>
<p>Imagine you have a buggy program that you&#39;re using, you hit &quot;save&quot;, and it corrupts your save file by writing garbage. Whoops. Well that sucks, but the file system is still in a consistent state.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-dwalker-wk even thread-even depth-1" id="comment-1107963">
				<div id="div-comment-1107963" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/DWalker' rel='external nofollow' class='url'>DWalker</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140218-00/?p=1723#comment-1107963">
			February 19, 2014 at 8:34 am</a>		</div>

		<p>Not that anyone is going to re-word dialog boxes after all this time, but &quot;Stop&quot; is a better term for &quot;don&#39;t do anything else and don&#39;t undo&quot; than &quot;Cancel&quot;. &nbsp;And &quot;Abort&quot; is simply too harsh of a word.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1108033">
				<div id="div-comment-1108033" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">helmet</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140218-00/?p=1723#comment-1108033">
			February 19, 2014 at 10:29 am</a>		</div>

		<p>@DWalker, thanks for agreeing. And @Virtual8086, I like your idea! Since the &quot;cancel&quot; button can (apparently) leave things in an inconsistent state, calling it &quot;break&quot; sounds appropriate! And it&#39;s more family-friendly than an other option that starts with &quot;f&quot; and ends with &quot;up&quot;.</p>
<p>Kidding aside, it&#39;s interesting to see that there are many representatives for both the camp of &quot;the cancel button should leave things as they were before we started&quot; (nice in many ways, though perhaps not practical) and the camp of &quot;cancel just stops and leaves things however they were at the time&quot; (with differing opinions on whether the final state even needs to be consistent).</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1108053">
				<div id="div-comment-1108053" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Deduplicator</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140218-00/?p=1723#comment-1108053">
			February 19, 2014 at 10:58 am</a>		</div>

		<p>Why is &#39;Abort&#39; too harsh a word? I don&#39;t know a better word to state concisely: The operation/configuration is halted, it cannot be resumed, and there probably is detritous in the form of a partially completed operation left, which might require manual cleanup.</p>
<p>Cancel OTOH denotes: The operation/configuration is halted, it may be resumable and the canceled operation does not have any impact.</p>
<p>There are few places both are equally right and appropriate.</p>
<p>Stop now: a) a longrunning operation/subtask is halted b) it can be resumed, though there&#39;s probably no way to compensate for the downtime.</p>
<p>Is anyone here phobic to the word &quot;abort&quot;?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1108063">
				<div id="div-comment-1108063" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Deduplicator</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140218-00/?p=1723#comment-1108063">
			February 19, 2014 at 11:10 am</a>		</div>

		<p>Why is &#39;Abort&#39; too harsh a word? I don&#39;t know a better word to state concisely: The operation/configuration is halted, it cannot be resumed, and there probably is detritous in the form of a partially completed operation left, which might require manual cleanup.</p>
<p>Cancel OTOH denotes: The operation/configuration is halted, it may be resumable and the canceled operation does not have any impact.</p>
<p>There are few places both are equally right and appropriate.</p>
<p>Stop now: a) a longrunning operation/subtask is halted b) it can be resumed, though there&#39;s probably no way to compensate for the downtime.</p>
<p>Is anyone here phobic to the word &quot;abort&quot;?</p>
<p>Regarding &quot;Break&quot;: Break what? The operation? That&#39;s a bit unnatural. Break it in what way? Perhaps break it up so it finishes faster in parallel? Or did you mean taking a break? &quot;Pause&quot; is more appropriate there. Break away? Where to? Break off? Well, you really have to add the &quot;off&quot; then&#8230;</p>
<p>As far as i see, the trouble is simply that numerous buttons which should say &#39;abort&#39; read &#39;cancel&#39; instead.</p>
<p>The decision not to support rollback under every circumstance in favor of more speed and easier design, esp. for advanced operations, seems to be accepted here.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-alegrigoriev even thread-even depth-1" id="comment-1108103">
				<div id="div-comment-1108103" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/alegr1' rel='external nofollow' class='url'>alegr1</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140218-00/?p=1723#comment-1108103">
			February 19, 2014 at 12:18 pm</a>		</div>

		<p>[SetSecurityInfo is not a transacted operation. -Raymond]</p>
<p>It&#39;s as much a transacted operation, as SetFileAttributesByHandle, SetEndOfFile, SetFileShortName, etc.</p>
<p>The file security info is part of attributes/metadata stream. Because of that, I expect any changes to it be be isolated as part of the transaction. A change in the security info outside of the transaction should not affect the security info visible inside a transaction, and vice versa.</p>
<p>The dedicated Xx*Transacted functions are only provided for the functions that take a file name as input. Those functions that operate on a file handle (such as ReadFile, WriteFile, etc) do not have special *Transacted form. Since SetSecurityInfo operates on a handle, it doesn&#39;t require a special Transacted variant.</p>
<div class="post">[<em>It&#39;s not listed in the table of &quot;functions whose behavior changes if used on a transacted handle.&quot; SetNamedSecurityInfo also is not listed as supporting transactions. -Raymond</em>]</div>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1108173">
				<div id="div-comment-1108173" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Lev</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140218-00/?p=1723#comment-1108173">
			February 19, 2014 at 9:34 pm</a>		</div>

		<p>@GWO</p>
<p>I&#39;d rather say that the ability to quickly undo something that has been slowly done is specific to databases, so most people wouldn&#39;t suppose that.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1108193">
				<div id="div-comment-1108193" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Deduplicator</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140218-00/?p=1723#comment-1108193">
			February 20, 2014 at 6:13 am</a>		</div>

		<p>What about doing your setup using transactional filesystem?</p>
<p>You can bailout without changing anything until you are forced to use the first non-transacted method.</p>
<p>I think the only one you need is CommitTransaction&#8230;</p>
<p>And even Explorer has a setup phase for copy/delete/move where nothing is committed to storage yet.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-maurits odd alt thread-odd thread-alt depth-1" id="comment-1108353">
				<div id="div-comment-1108353" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Maurits+%5BMSFT%5D' rel='external nofollow' class='url'>Maurits [MSFT]</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140218-00/?p=1723#comment-1108353">
			February 20, 2014 at 6:38 pm</a>		</div>

		<p>&gt; Why is &#39;Abort&#39; too harsh a word?</p>
<p>It&#39;s an emotional trigger for some users, like &quot;illegal operation&quot;, &quot;master/slave&quot;, or &quot;collaboration.&quot;</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1108363">
				<div id="div-comment-1108363" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Gabe</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140218-00/?p=1723#comment-1108363">
			February 20, 2014 at 7:56 pm</a>		</div>

		<p>Deduplicator: The setup phase is just collecting information about what files need to be operated on. The problem is that the &quot;committing&quot; phase takes long enough that you can stop it before it finishes. Of course you could do that phase transacted too, but it could have serious repercussions.</p>
<p>There are times when I need to change permissions (say, add a new user) on a whole filesystem. This could take several minutes (or longer). I don&#39;t really want the whole filesystem to get locked, file-by-file, until the transaction completes.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1108433">
				<div id="div-comment-1108433" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Gechurch</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140218-00/?p=1723#comment-1108433">
			February 21, 2014 at 4:29 am</a>		</div>

		<p>@John Doe &nbsp; </p>
<p>&quot;@Gechurch, the customer didn&#39;t really have an expectation&#8230;&quot;</p>
<p>Yes they did. Bob had access to a folder. At some point the customer revoked Bob&#39;s access but said &quot;If we cancel the process fast enough, then we get the strange behavior as originally described&quot;. Their expectation was that if you cancel an operation before it completes, then that operation would somehow complete anyway.</p>
<p>To those suggesting that when you cancel something that has taken a finite amount of time that you have to be some sort of IT guru to realise that the operation hasn&#39;t been rolled back, I say stop being daft. I don&#39;t know the first thing about brain surgery. But if a surgeon has been operating on a patient for 30 minutes then stops part-way through the surgery and walks out, I would be happy to bet a large sum of money that the patient isn&#39;t left in the same state as they were before the operation began. That&#39;s just common sense.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1108443">
				<div id="div-comment-1108443" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Gechurch</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140218-00/?p=1723#comment-1108443">
			February 21, 2014 at 4:34 am</a>		</div>

		<p>@Evan &nbsp; </p>
<p>&quot;I mostly disagree. When talking about file systems&#8230; &#8230;You haven&#39;t screwed up any of the internal structure of the file system.&quot;</p>
<p>This is a discussion about permissions. And if you cancel part-way through applying a change to those permissions, they&#39;ll end up in an inconsistent state. File systems have nothing to do with it.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1108453">
				<div id="div-comment-1108453" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Gechurch</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140218-00/?p=1723#comment-1108453">
			February 21, 2014 at 4:38 am</a>		</div>

		<p>@Deduplicator &nbsp; </p>
<p>I love that someone with your moniker double-posted!</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1108463">
				<div id="div-comment-1108463" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Gechurch</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140218-00/?p=1723#comment-1108463">
			February 21, 2014 at 5:05 am</a>		</div>

		<p>@GWO </p>
<p>&quot;If I cancel a financial transaction it gets undone.</p>
<p>If I cancel a holiday, I may suffer some financial penalty, but everything &#8211; flights, hire car, hotels &#8211; all gets cancelled.</p>
<p>If I cancel a meeting, I don&#39;t want half the people turning up depending on who got invited already.&quot;</p>
<p>You&#39;ve hit on the crux of the problem &#8211; we&#39;re overloading the term &#39;cancel&#39;. There&#39;s is a big difference between cancelling something that hasn&#39;t happened yet, and cancelling something that is already part-way through.</p>
<p>&quot;If I cancel a &quot;Move Folder&quot; I get the contents randomly scattered between source and destination. &nbsp;Ummm, no. &nbsp;To a naive user, that breaks the principle of least surprise.&quot;</p>
<p>I disagree. Replace the word &#39;Folder&#39; with &#39;Bricks&#39; and you&#39;ll see what I mean. </p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1108583">
				<div id="div-comment-1108583" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Deduplicator</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140218-00/?p=1723#comment-1108583">
			February 21, 2014 at 8:45 am</a>		</div>

		<p>The problem is not that there is a difference between canceling something long-running or fast-completed, as that would only effect efficiency of the operation. The problem instead is using &quot;cancel&quot; where &quot;abort&quot; is the proper verb. And there&#39;s no excuse for doing so, for two main reasons:</p>
<p>&#8211; The described behavior is reasonable and often achievable with little overhead using transactions.</p>
<p>&#8211; The actual behavior can be described as succinctly and unambiguously.</p>
<p>@Gechurch: If that surgeon aborts midway through surgery, he&#39;ll loose his approbation and be thrown in jail.</p>
<p>If he cancels surgery instead, depending on circumstances it either gets rescheduled, someone else gets tasked to do it at the original time and location or maybe everything gets replanned.</p>
<p>See the difference between abort and cancel?</p>
<p>BTW: I don&#39;t object to current behaviour of explorer, i only object to them using the wrong wording for their dialog and my options, promising goods they do not deliver (but which _might_ be reasonably possible most times using e.g. transactional NTFS).</p>
<p>Regarding &#39;Principle of least surprise&#39; GWO mentioned: That&#39;s certainly needlessly violated there, as ui and mechanics are both reasonable, but do not correspond. Either would make a good choice, maybe with fallover from transacted to non-transacted if cancelling gets expensive/impossible. Maybe even offer both cancel for stop+rollback and abort for stop+partial_commit where it makes sense for ubergeeks&#8230;</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1108413">
				<div id="div-comment-1108413" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">GWO</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140218-00/?p=1723#comment-1108413">
			February 21, 2014 at 2:22 am</a>		</div>

		<p>@LEV: &quot;I&#39;d rather say that the ability to quickly undo something that has been slowly done is specific to databases, so most people wouldn&#39;t suppose that.&quot;</p>
<p>Again, that presupposes so much, its barely worth commenting on. </p>
<p>It&#39;s been at least 20 years since people using computers should be expected to have *any* understanding of how a computer works, let alone the distinction between how databases and filesystems typically behave. &nbsp;A naive users expectations are based on what they would like to happen &#8211; not what happens to be the most efficient at a filesystem level. &nbsp;They have literally no interest in what those words mean. &nbsp;As soon as you argue from that stand point, &gt; 99% of your users glaze over.</p>
<p>If I cancel a financial transaction it gets undone.</p>
<p>If I cancel a holiday, I may suffer some financial penalty, but everything &#8211; flights, hire car, hotels &#8211; all gets cancelled.</p>
<p>If I cancel a meeting, I don&#39;t want half the people turning up depending on who got invited already.</p>
<p>If I cancel a &quot;Move Folder&quot; I get the contents randomly scattered between source and destination. &nbsp;Ummm, no. &nbsp;To a naive user, that breaks the principle of least surprise. &nbsp;I want my computer to operate on the principles as the rest of my life, not what is most for a computer. &nbsp;That might fly in the 80s, but not anymore.</p>

		
				</div>
		</li><!-- #comment-## -->
		</ol><!-- .comment-list -->

		<div class="navigation pagination">
					</div>

	
			<p class="no-comments">Comments are closed.</p>
<!-- COMMENTS END -->
</div></td></tr></table>