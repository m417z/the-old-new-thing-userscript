<table class="commenttable" cellspacing="0" cellpadding="0"><tr><td><div class="commentdiv"><div class="commentdivhdr">
<!-- COMMENTS START -->
Comments (17)	</div>

	
			<div class="navigation pagination clear-both">
					</div>

		<ol class="comment-list">
					<li class="comment even thread-even depth-1" id="comment-952553">
				<div id="div-comment-952553" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Mordachai</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20111212-00/?p=8923#comment-952553">
			December 12, 2011 at 7:33 am</a>		</div>

		<p>Isn&#39;t this the sort of question that is almost certainly tied to doing something very wrong?</p>
<p>Programs shouldn&#39;t need to determine things like modality&#8230; whether a given window is disabled or not, sure.</p>
<p>This is the sort of question that begs to know &quot;Why do you ask?!&quot; &nbsp;Surely the real solution is disabusing the customer of their basic misguided intentions&#8230;</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-952563">
				<div id="div-comment-952563" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Frederik Slijkerman</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20111212-00/?p=8923#comment-952563">
			December 12, 2011 at 7:39 am</a>		</div>

		<p>Interestingly, in your example, Windows itself also thinks that the Find window is modal in Notepad if it is active and the About dialog is also open. If you click on the main Notepad window, it flickers the Find window to indicate that this is the current modal window.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-952573">
				<div id="div-comment-952573" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Avi Shevin</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20111212-00/?p=8923#comment-952573">
			December 12, 2011 at 7:54 am</a>		</div>

		<p>@Frederik</p>
<p>I tried this on Windows 7. &nbsp;Notepad flashes whichever of the windows has focus when you click on the main (editor) window.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-952583">
				<div id="div-comment-952583" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Joshua</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20111212-00/?p=8923#comment-952583">
			December 12, 2011 at 8:19 am</a>		</div>

		<p>I&#39;m willing to guess they were writing some window manager code where they somehow had this stupid assumption that the relationships were fully traceable.</p>
<p>Or maybe all they needed was the easy case: Given this disabled window, find me an owned window that appears to be causing it to be disabled. This is what Windows does when you click on the disabled window.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-952633">
				<div id="div-comment-952633" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Falcon</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20111212-00/?p=8923#comment-952633">
			December 12, 2011 at 9:33 am</a>		</div>

		<p>Raymond, I think you got the solid and dotted lines wrong in the Notepad-About-Find diagram.</p>
<p>Or was this a sneaky trick to see if we were paying attention? :-D</p>
<div class="post">[<i>Fixed, thanks. But yeah ummmmmmmmm it was a test! Yeah, that&#39;s the ticket! -Raymond</i>]</div>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-952673">
				<div id="div-comment-952673" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">bcs</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20111212-00/?p=8923#comment-952673">
			December 12, 2011 at 1:19 pm</a>		</div>

		<p>From that it sound&#39;s like the correct answer is that being modal is not property of a window but of the code that &quot;run&quot; it. At a guess, what the end user was looking for is: &quot;Will this window closing automatically re-enable it&#39;s owner?&quot; If I&#39;m reading correctly, the answer to that is &quot;no, never.&quot;</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-952683">
				<div id="div-comment-952683" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Joshua</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20111212-00/?p=8923#comment-952683">
			December 12, 2011 at 2:42 pm</a>		</div>

		<p>[I bet it picks the last active popup. -Raymond]</p>
<p>Given the 15 year old outstanding bug about nested modal dialog boxes can be neatly explained by Windows using this API for the job, I&#39;ll bet it does too.</p>
<p>FYI because somebody&#39;s going to ask, the workaround is to keep track internally and call SetFocus yourself in the WM_SETFOCUS message.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-952693">
				<div id="div-comment-952693" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Bjm</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20111212-00/?p=8923#comment-952693">
			December 12, 2011 at 2:58 pm</a>		</div>

		<p>Seems to me the correct answer is to stop disabling windows that I might want to use.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-952663">
				<div id="div-comment-952663" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">MikeCaron</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20111212-00/?p=8923#comment-952663">
			December 12, 2011 at 12:13 pm</a>		</div>

		<p>@Joshua: How do you expect windows to be able to determine &quot;an owned window that appears to be causing it to be disabled&quot;? Disabling a window is a one-shot deal:</p>
<p>EnableWindow(hWnd, FALSE);</p>
<p>I strongly suspect that no one keeps track of this information, especially since that would require the win32 API to have psychic powers (&quot;let&#39;s see&#8230; this position on the stack means we&#39;re being called from code that is associated with this particular window!&quot;)</p>
<p>Rather, I bet it picks *some arbitrary* owned window and flashes that instead. See the Notepad example above.</p>
<div class="post">[<i>I bet it picks <a href="http://msdn.microsoft.com/en-us/library/windows/desktop/ms633507(v=vs.85).aspx" rel="nofollow">the last active popup</a>. -Raymond</i>]</div>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-952713">
				<div id="div-comment-952713" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Anonymous Coward</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20111212-00/?p=8923#comment-952713">
			December 12, 2011 at 10:48 pm</a>		</div>

		<p>@BCS: If you were to automatically close the About box by sending it the appropriate message, it will re-enable Notepad.</p>
<p>@BJM: This. Just take the absurd situation in the example of this article. When you actually open Notepad and open the About and Replace dialogues, you are in the bizarre situation where you cannot enter text in the main window, but you can still edit the contents of the main window by interacting with the Replace dialogue.</p>
<p>When you find yourself creating a modal dialogue, the first question you should ask yourself is: how can I do this without a modal dialogue.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-952723">
				<div id="div-comment-952723" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Anonymous Coward</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20111212-00/?p=8923#comment-952723">
			December 12, 2011 at 10:58 pm</a>		</div>

		<p>Also, as an afterthought, it was perfectly clear what the customer meant. No sane person could have misinterpreted it and the two-page drivel on how a moron might have read it is a waste of pixels. Maybe Raymond should sit in his own nitpicker&#39;s corner.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-952733">
				<div id="div-comment-952733" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Tim</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20111212-00/?p=8923#comment-952733">
			December 13, 2011 at 3:46 am</a>		</div>

		<p>I believe &#8211; and I could well be wrong &#8211; that in the paragraph starting with &quot;Even if the result doesn&#39;t depend on predicting the future&#8230;&quot; all occurences of &quot;parent&quot; should read &quot;owner&quot; instead.</p>
<p>@Anonymous Coward: If it is perfectly clear to you what the customer meant I challenge you to provide code that implements the appropriate algorithm.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-952813">
				<div id="div-comment-952813" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Anonymous Coward</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20111212-00/?p=8923#comment-952813">
			December 13, 2011 at 8:21 am</a>		</div>

		<p>@Tim: Go and take up Reading Comprehension 101. I said it&#39;s perfectly clear what the customer means, not that the customer can get what he wants.</p>
<p>The windowing system has no concept of modality. (And maybe for good reason because modal dialogues suck.) Every appearance of modality is hacked on and the application has to keep track of all the bookkeeping.</p>
<p>And when the application or libraries the application calls screw up, you get erratic behaviour like in the case of Notepad where the About box is modal with respect to the main window but not with respect to the Replace dialogue. And the Replace dialogue&#8230; well, we&#39;ve already talked about that. The reason that in this case it&#39;s hard to say if the windows are modal or not is because there is a bug in the software. It makes no sense to even ask if a dialogue is modal when the machinery behind modality breaks down.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-aadsso-1live-com0003400182d76c6f odd alt thread-odd thread-alt depth-1" id="comment-952963">
				<div id="div-comment-952963" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Richard+Russell' rel='external nofollow' class='url'>Richard Russell</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20111212-00/?p=8923#comment-952963">
			December 13, 2011 at 2:26 pm</a>		</div>

		<p>@Anonymous Coward: I completely agree (with your comment regarding Raymond&#39;s pedantic rhetoric). &nbsp;If he replied to the customer in a similar vein I&#39;m not at all surprised that they &quot;never wrote back&quot;!</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-953033">
				<div id="div-comment-953033" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">OCD</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20111212-00/?p=8923#comment-953033">
			December 13, 2011 at 7:00 pm</a>		</div>

		<p>@Anonymous Coward</p>
<p>The point of the &quot;two-page drivel&quot;, is to carefully de-construct what the seemingly obvious concept &quot;modal window&quot;, actually means. By carefully thinking through this concept, it becomes clear what &quot;modality&quot; really is, and the answer to the initial question is obvious. The point of this was to show how a little thought would have allowed the customer (and people like yourself) to answer that question themselves. That you are somehow offended by long detailed explanations suggests that you would likely go the ignorant route yourself, and ask the unnecessary question instead of thinking it through. Raymond seems to be on a quest to try and help people help themselves, but it will do nothing for the arrogant who are determined to remain ignorant.</p>
<p>@Richard</p>
<p>Anonymous is clearly a troll (who I have just given a nice large meal), but it is disappointing that you would side with such bile. Personally I would think twice before publicly criticising a highly respected blogger/developer when not hiding behind an anonymous persona.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-953083">
				<div id="div-comment-953083" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Smitty</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20111212-00/?p=8923#comment-953083">
			December 14, 2011 at 2:59 am</a>		</div>

		<p>&quot;This definition appears to be using a common abuse of terminology, using the words child and parent instead of the more accurate but clumsier owned and owner.&quot;</p>
<p>Perhaps this person has been using the Windows API for a long time, and is used to seeing API calls like:</p>
<p>HWND WINAPI GetParent(</p>
<p>&nbsp;__in &nbsp;HWND hWnd</p>
<p>);</p>
<p>with the (mostly confusing and almost completely useless) description &#8211; note the almost completely unhelpful use of OWNER and a PARENT in the same function description:</p>
<p>If the window is a child window, the return value is a handle to the parent window. If the window is a top-level window with the WS_POPUP style, the return value is a handle to the owner window.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-953483">
				<div id="div-comment-953483" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Nick</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20111212-00/?p=8923#comment-953483">
			December 15, 2011 at 9:55 am</a>		</div>

		<p>While the bile from Anonymous is certainly unwarranted, and I respect Mr. Chen&#39;s expertise (Wouldn&#39;t read this blog otherwise!) it really does come off as &quot;The customer asked us a simple question, and I wrote a 1000 word pedantic essay instead of answering it.&quot;</p>
<div class="post">[<i>Duh, the customer didn&#39;t get the 1000-word essay. The 1000-word essay was written for the blog to illustrate the point: &quot;First write your spec.&quot; And I walked through the process of writing the spec in painstaking detail to show how it&#39;s done. -Raymond</i>]</div>

		
				</div>
		</li><!-- #comment-## -->
		</ol><!-- .comment-list -->

		<div class="navigation pagination">
					</div>

	
			<p class="no-comments">Comments are closed.</p>
<!-- COMMENTS END -->
</div></td></tr></table>