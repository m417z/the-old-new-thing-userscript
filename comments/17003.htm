<table class="commenttable" cellspacing="0" cellpadding="0"><tr><td><div class="commentdiv"><div class="commentdivhdr">
<!-- COMMENTS START -->
Comments (22)	</div>

	
			<div class="navigation pagination clear-both">
					</div>

		<ol class="comment-list">
					<li class="comment even thread-even depth-1" id="comment-764313">
				<div id="div-comment-764313" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">John</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090825-00/?p=17003#comment-764313">
			August 25, 2009 at 10:09 am</a>		</div>

		<p>Wow, talk about a let down. &nbsp;I was really enjoying reading this entry and then I got to the last sentence: &quot;Haha sucker, you just wasted your time reading all of that. &nbsp;Better luck next time, loser.&quot;</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-764333">
				<div id="div-comment-764333" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Someone You Know</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090825-00/?p=17003#comment-764333">
			August 25, 2009 at 10:13 am</a>		</div>

		<p>We have a similar topology with our IP phones. The phones&#8217; network interfaces only support 100 Mb/s for some reason, leaving our computers&#8217; Gigabit Ethernet cards twiddling their thumbs.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-764393">
				<div id="div-comment-764393" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Nick Mason</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090825-00/?p=17003#comment-764393">
			August 25, 2009 at 11:39 am</a>		</div>

		<p>This made me think about one of my favourite quotes:</p>
<p>&quot;I have always wished that my computer would be as easy to use as my telephone. My wish has come true. I no longer know how to use my telephone.&quot;</p>
<p>&#8212; Bjarne Stroustrup</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-764403">
				<div id="div-comment-764403" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Mike</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090825-00/?p=17003#comment-764403">
			August 25, 2009 at 11:54 am</a>		</div>

		<p>I find the idea that the phone needs an update to be quite amusing.</p>
<p>And scary. Quite scary.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-764413">
				<div id="div-comment-764413" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Nick Mason</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090825-00/?p=17003#comment-764413">
			August 25, 2009 at 12:12 pm</a>		</div>

		<p>I can see it now&#8230;</p>
<p>&quot;Your phone was recently updated!</p>
<p>PhoneOS recently downloaded and installed an important update to help protect your calls. This update required an automatic restart of your telephone.&quot;</p>
<p>I hope Raymond didn&#8217;t have anything important happening on his office network when his phone decided to reboot itself&#8230;</p>
<p>Disclaimer: This comment is tongue-in-check and not intended to cause genuine offence, I hope the following comments don&#8217;t degrade into a let&#8217;s-moan-about-windows-update forum. &nbsp;Although if such a forum does exist, please let me know where it is, I have lots of steam to vent on this matter. &nbsp;And yes, I know you can switch this facility off, which I&#8217;ve done now. &nbsp;Permanently. :-)</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-764433">
				<div id="div-comment-764433" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Someone You Know</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090825-00/?p=17003#comment-764433">
			August 25, 2009 at 12:45 pm</a>		</div>

		<p>@Mike</p>
<p>Scary indeed. The last firmware update for our phones made all the phones&#8217; clocks go to UTC-3 (this time of year we&#8217;re normally UTC-4) for no obvious reason. They reverted back to the correct time several hours later.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-764473">
				<div id="div-comment-764473" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">J</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090825-00/?p=17003#comment-764473">
			August 25, 2009 at 1:31 pm</a>		</div>

		<p>My company&#8217;s last line of IP phones had a system-on-chip design where the 10/100 network switch was on chip. &nbsp;This was the switch that routed traffic from your LAN port to the PC port where presumably all your office equipment was connected. &nbsp;Pretty common setup on IP phones.</p>
<p>The problem was that the company that designed these SoCs didn&#8217;t have the foresight to allow each component (processor, DSP, network, etc.) to be reset individually. &nbsp;So when your phone would reboot, your entire office network would go down because there would be no way to leave the network switch up while the processor was reset.</p>
<p>The people who wrote the phone code took the easy route and just reset the phone whenever its IP connection to the phone server was down, and that would start the connection process all over. &nbsp;That left your PC port without connectivity for about 10 seconds every minute.</p>
<p>Needless to say, my desk phone is connected to my office, not the other way around.</p>
<p>(The happy ending is I fixed the code so the only time the phone resets is when it has a firmware update.)</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-764553">
				<div id="div-comment-764553" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Austin Spafford</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090825-00/?p=17003#comment-764553">
			August 25, 2009 at 8:06 pm</a>		</div>

		<p>Another IP phone horror story:</p>
<p>The network for the entire company where I work (~200 people) was mysteriously taken down for a few hours. IT finally tracked it down to an IP phone in a conference room that was plugged into a hub via two ethernet cables, likely thanks to a bored designer.</p>
<p>Why the IP phones have two ethernet ports in the first place is beyond me (daisy chaining?), but the raw danger of whatever effect we had observed was just mind boggling.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-764463">
				<div id="div-comment-764463" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Josh</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090825-00/?p=17003#comment-764463">
			August 25, 2009 at 1:10 pm</a>		</div>

		<p>We&#8217;re now being required to update to fancy network phones. I really don&#8217;t understand the allure. I like a phone with (gasp!) buttons on it, that I can pick up and not worry about if my local network network is up. Instead, we&#8217;re getting phones that require our computers to not only be on, but have software installed on them just so we can *painfully* &quot;dial&quot; the phone through a clunky win app. Innovation! /sigh&#8230;</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-764563">
				<div id="div-comment-764563" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Chris Lineker</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090825-00/?p=17003#comment-764563">
			August 25, 2009 at 8:22 pm</a>		</div>

		<p>They have two ports so you can upgrade to VOIP without needing additional network infrastructure</p>
<p>But just because you can do it that way, doesn&#8217;t necessarily mean you should.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-764573">
				<div id="div-comment-764573" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Bryan Donlan</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090825-00/?p=17003#comment-764573">
			August 25, 2009 at 8:49 pm</a>		</div>

		<p>Austin, the effect you observed was a broadcast storm caused by a loop in the switched network topology. Essentially, a broadcast packet exits the switch on port A, re-enters on port B, comes back out on port A again, etc. The result is the entire switched segment is flooded by broadcast packets.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-764583">
				<div id="div-comment-764583" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Eric TF Bat</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090825-00/?p=17003#comment-764583">
			August 25, 2009 at 8:51 pm</a>		</div>

		<p>It&#8217;s not just IP phones, you know. &nbsp;I was stymied by the fact that our home phones no longer ring. &nbsp;I tried an isolation test, removing the caller number display doohickey and the ADSL splitters, plugging them into different ports, unplugging one and leaving the other then vice versa, even spraying the ants that were crawling out of the nearby powerpoint. &nbsp;No dice. &nbsp;Then I looked at the phone handsets themselves, and found the cause: my two-year-old son had switched the ringers off, on both phones. &nbsp;I didn&#8217;t even know how to do that! &nbsp;Verily he is an agent of Chaos&#8230;</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-764493">
				<div id="div-comment-764493" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">EriKF</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090825-00/?p=17003#comment-764493">
			August 25, 2009 at 3:00 pm</a>		</div>

		<p>@J:</p>
<p>Hopefully you don&#8217;t have one of those wonderful PoE (power over Ethernet) phones. &nbsp;When they work, they&#8217;re great (I don&#8217;t have to find room for yet *another* wall wart on my power bar!), but I have found that they can be really finicky.</p>
<p>I found out about the wonders of PoE in one office where I had to figure out how to plug two phones into a single Ethernet port using just an unmanaged switch. &nbsp;Needless to say it was an utter failure and I had to wait a week before one of the network people could come and hook up another network drop.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-764613">
				<div id="div-comment-764613" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Falcon</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090825-00/?p=17003#comment-764613">
			August 25, 2009 at 11:50 pm</a>		</div>

		<p>@Austin Spafford:</p>
<p>I&#8217;ve heard of similar things happening in rooms where there&#8217;s a double LAN point on the wall and a cable running from one point (for people to plug laptops in at the desk).</p>
<p>The friend who told me this says that cleaners will often plug the other end of the cable into the empty socket, probably thinking that they&#8217;ve accidentally pulled it out, and flood the network.</p>
<p>He adds that if the end of the cable is sitting near the point, it&#8217;s guaranteed that they&#8217;ll plug it in!</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-764623">
				<div id="div-comment-764623" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Josie</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090825-00/?p=17003#comment-764623">
			August 26, 2009 at 12:33 am</a>		</div>

		<p>My corp also has VOIP phones, and it&#8217;s amusing to watch the telecomm guy run around rebooting the phones when something goes haywire. So sad&#8230;</p>
<p>MSFT can identify and kill network ports with an exploitable PC? Wow. My corp can&#8217;t even find roughe DHCP servers when someone accidentally plugs one in.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-764633">
				<div id="div-comment-764633" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Worf</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090825-00/?p=17003#comment-764633">
			August 26, 2009 at 1:54 am</a>		</div>

		<p>Harumpth. The real problem is the two phone ports-to-switch scenario, but two jacks in the room that run to a managed switch is easily preventable via STP.</p>
<p>Rogue DHCP servers is easy as well &#8211; sniff the network, do a DHCP request, and see the DHCP OFFERs. Remove the legit one(s), and get the MAC of the rogue. Use your managed switch to tell you which port it&#8217;s on, administratively bring it down and check the cabling to find the offending network jack&#8230;</p>
<p>I don&#8217;t see our office switching to IP Phones anytime soon. I do too much network testing&#8230;</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-764663">
				<div id="div-comment-764663" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Gabe</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090825-00/?p=17003#comment-764663">
			August 26, 2009 at 2:32 am</a>		</div>

		<p>Based on how many IP phone posts we&#8217;ve seen these past few months, it&#8217;s no surprise that they were replaced with a different model!</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-764683">
				<div id="div-comment-764683" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Mahesh Velaga</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090825-00/?p=17003#comment-764683">
			August 26, 2009 at 4:26 am</a>		</div>

		<p>Thats funny .. how could they possibly be thinking of routing the traffic of all the network through the IP Phone! which can be unreliable .. and a good case being demonstrated as example.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-764783">
				<div id="div-comment-764783" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">J</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090825-00/?p=17003#comment-764783">
			August 26, 2009 at 1:23 pm</a>		</div>

		<p>@EriKF:</p>
<p>Actually I&#8217;d love to have a PoE switch. &nbsp;When you develop IP phones and need about 10 of them at your desk, it sucks having only individual power bricks. &nbsp;Although I&#8217;ve managed to collect a few rather nicely designed power strips.</p>
<p>That being said, our phones had a hardware bug once where they misreported their PoE power requirements to PoE switches. &nbsp;Oops. &nbsp;It&#8217;s fun debugging random resets.</p>
<p>Also there was this specific PoE switch that would hum when you plugged our phones into certain ports. &nbsp;Odd.</p>
<p>Also a colleague fried a hardware-based debugger by plugging a powered PoE cable into its ethernet port. &nbsp;Even though I know my laptop is standards compliant and can handle that, I always double check that I&#8217;m not plugging in a powered LAN cable whenever I need to plug in the wire just out of paranoia.</p>
<p>And you&#8217;re right about them being finicky. &nbsp;I don&#8217;t know what the quality of switches is now, but half a decade ago there were some cheapies that just flat out lied about how much power they could deliver.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-764913">
				<div id="div-comment-764913" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://lambert.geek.nz/' rel='external nofollow' class='url'>Miral</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090825-00/?p=17003#comment-764913">
			August 26, 2009 at 9:25 pm</a>		</div>

		<p>This wasn&#8217;t as exciting as it first sounded. &nbsp;I came in thinking that the phone launched some kind of packet storm that was blocking stuff, but in the end it was just a loss of power issue.</p>
<p>The real problem is your topography; you shouldn&#8217;t have the hub connected to the phone. &nbsp;It&#8217;s unsurprising that if the phone locked up or lost power then it would stop relaying packets; the same thing happens to hubs.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-765223">
				<div id="div-comment-765223" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Neil</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090825-00/?p=17003#comment-765223">
			August 28, 2009 at 7:28 am</a>		</div>

		<p>I have to admit I don&#8217;t understand why hubs would care about QoS packets (they don&#8217;t even care what protocol the packet is, do they?); I thought that sort of thing was taken care of at a higher level.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-765363">
				<div id="div-comment-765363" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Falcon</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090825-00/?p=17003#comment-765363">
			August 29, 2009 at 8:13 am</a>		</div>

		<p>@Neil: QoS is part of Ethernet &#8211; its use allows the phones to request delay and jitter control at the lowest layers. If a frame containing realtime audio data is excessively delayed during Ethernet transmission, the battle may already be lost, as there&#8217;s little or nothing that higher levels can do about it.</p>
<p>Strictly speaking, *hubs* probably wouldn&#8217;t care about QoS, however I&#8217;d bet that Raymond and the commenters in this thread are actually talking about *switches*. What are the chances of getting a true hub (repeater) these days?</p>

		
				</div>
		</li><!-- #comment-## -->
		</ol><!-- .comment-list -->

		<div class="navigation pagination">
					</div>

	
			<p class="no-comments">Comments are closed.</p>
<!-- COMMENTS END -->
</div></td></tr></table>