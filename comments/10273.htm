<table class="commenttable" cellspacing="0" cellpadding="0"><tr><td><div class="commentdiv"><div class="commentdivhdr">
<!-- COMMENTS START -->
Comments (5)	</div>

	
			<div class="navigation pagination clear-both">
					</div>

		<ol class="comment-list">
					<li class="comment even thread-even depth-1" id="comment-922303">
				<div id="div-comment-922303" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">RobertWrayUK</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20110701-00/?p=10273#comment-922303">
			July 1, 2011 at 7:07 am</a>		</div>

		<blockquote><p>
  It&#39;s one of those &quot;desktop enhancement&quot; programs that injects itself into every process
</p></blockquote>
<p>When I see those programs, I tend to think &quot;infests&quot;, rather than &quot;injects&quot;, maybe that&#39;s just me though!</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-922343">
				<div id="div-comment-922343" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Arlie</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20110701-00/?p=10273#comment-922343">
			July 1, 2011 at 3:47 pm</a>		</div>

		<p>This is bad API design. &nbsp;There should never have been a GetProcessHeaps() function. &nbsp;If you&#39;re trying to track down a problem in memory management, you need to be using a debugger, not using a function which is inherently unreliable.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-922353">
				<div id="div-comment-922353" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">@Arlie</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20110701-00/?p=10273#comment-922353">
			July 1, 2011 at 4:08 pm</a>		</div>

		<p>Yea, but then you may be debugging memory issues caused by a third party dll loaded into your program.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-922363">
				<div id="div-comment-922363" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">GetProcessHeaps</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20110701-00/?p=10273#comment-922363">
			July 1, 2011 at 4:12 pm</a>		</div>

		<p>The two arguments are swapped. Should be GetProcessHeaps(1024, heaps);</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-922383">
				<div id="div-comment-922383" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Tim</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20110701-00/?p=10273#comment-922383">
			July 2, 2011 at 8:01 am</a>		</div>

		<p>Arlie: &quot;[&#8230;] you need to be using a debugger, not using a function which is inherently unreliable.&quot;</p>
<p>There is nothing unreliable about the API. The problem the customer ran into was caused because they applied a single-threaded solution to a problem that was multi-threaded in nature. Your proposed solution to use a debugger instead is along the lines of: &quot;Hi, I&#39;m having issues using X to do Y.&quot; &#8211; &quot;Well, why don&#39;t you use A to do B instead?&quot; Even if the customer had wanted to do B, you are ignoring scenarios in which you cannot install a debugger (e.g. conducting a public beta test).</p>

		
				</div>
		</li><!-- #comment-## -->
		</ol><!-- .comment-list -->

		<div class="navigation pagination">
					</div>

	
			<p class="no-comments">Comments are closed.</p>
<!-- COMMENTS END -->
</div></td></tr></table>