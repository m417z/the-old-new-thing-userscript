<table class="commenttable" cellspacing="0" cellpadding="0"><tr><td><div class="commentdiv"><div class="commentdivhdr">
<!-- COMMENTS START -->
Comments (6)	</div>

	
			<div class="navigation pagination clear-both">
					</div>

		<ol class="comment-list">
					<li class="comment byuser comment-author-dwalker-wk even thread-even depth-1 parent" id="comment-1259955">
				<div id="div-comment-1259955" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/DWalker' rel='external nofollow' class='url'>DWalker</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20160812-00/?p=94075#comment-1259955">
			August 12, 2016 at 7:33 am</a>		</div>

		<p>Using Sleep is always weird. If you have to wait &#8220;for a second or two&#8221; in order for a program to run correctly, then something is probably wrong with your program.  And you can never get the timing &#8220;provably right&#8221;.  </p>
<p>However, sometimes you have to resort to Sleeps in order to just &#8220;get stuff done&#8221;.  Unfortunately.</p>

		
				</div>
		<ol class="children">
		<li class="comment odd alt depth-2 parent" id="comment-1259995">
				<div id="div-comment-1259995" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Yuri Khan</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20160812-00/?p=94075#comment-1259995">
			August 12, 2016 at 10:49 am</a>		</div>

		<p>The alternative is to design a communication mechanism between the programs. For example, the selector could create an event object, let the child program inherit it, and wait for the child to signal it. Or it could pass a pipe as the standard output and wait for the child to say “hello world\n” into it. Or it could wait until the child goes input-idle… wait.</p>

		
				</div>
		<ol class="children">
		<li class="comment byuser comment-author-dwalker-wk even depth-3" id="comment-1260055">
				<div id="div-comment-1260055" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/DWalker' rel='external nofollow' class='url'>DWalker</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20160812-00/?p=94075#comment-1260055">
			August 12, 2016 at 1:22 pm</a>		</div>

		<p>Exactly right, Yuri!</p>

		
				</div>
		</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
		<li class="comment odd alt depth-2" id="comment-1260035">
				<div id="div-comment-1260035" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">smf</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20160812-00/?p=94075#comment-1260035">
			August 12, 2016 at 12:38 pm</a>		</div>

		<p>&gt; However, sometimes you have to resort to Sleeps in order to just “get stuff done”. Unfortunately.</p>
<p>I hit this problem when one of our hardware suppliers introduced Windows CE devices and their printer driver was just ridiculously unreliable. It could print a page ok, but not multiple pages. Unfortunately their main focus was on the parking ticket industry, while we were doing invoices etc. When I visited them so they could tell me what I was doing wrong I eventually persuaded them to show me their code and it was multithreaded and full of for() delay loops and sleep to keep the threads in some form of sync. After much effort I got them to try putting some variables in (still not using events because they are &#8220;too hard&#8221;) and they were surprised that it started working better. It was running on an SH2, so it wasn&#8217;t ever going to be the fastest device. But printing really did burn up the CPU.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-yuhong-bao even depth-2" id="comment-1260105">
				<div id="div-comment-1260105" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Yuhong+Bao' rel='external nofollow' class='url'>Yuhong Bao</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20160812-00/?p=94075#comment-1260105">
			August 14, 2016 at 8:07 pm</a>		</div>

		<p>This reminds me of this: <a href="http://www.virtualdub.org/blog/pivot/entry.php?id=88" rel="nofollow">http://www.virtualdub.org/blog/pivot/entry.php?id=88</a></p>

		
				</div>
		</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
		<li class="comment byuser comment-author-wndsks odd alt thread-odd thread-alt depth-1" id="comment-1260095">
				<div id="div-comment-1260095" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/skSdnW' rel='external nofollow' class='url'>skSdnW</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20160812-00/?p=94075#comment-1260095">
			August 13, 2016 at 4:07 am</a>		</div>

		<p>Does this mean the shell uses Sleep as well? From what I remember, it takes a while for the shell error MessageBox to appear&#8230;</p>

		
				</div>
		</li><!-- #comment-## -->
		</ol><!-- .comment-list -->

		<div class="navigation pagination">
					</div>

	
			<p class="no-comments">Comments are closed.</p>
<!-- COMMENTS END -->
</div></td></tr></table>