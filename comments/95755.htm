<table class="commenttable" cellspacing="0" cellpadding="0"><tr><td><div class="commentdiv"><div class="commentdivhdr">
<!-- COMMENTS START -->
Comments (5)	</div>

	
			<div class="navigation pagination clear-both">
					</div>

		<ol class="comment-list">
					<li class="comment even thread-even depth-1 parent" id="comment-1289276">
				<div id="div-comment-1289276" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://skuldwyrm.no/' rel='external nofollow' class='url'>Roger Hågensen</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20170317-00/?p=95755#comment-1289276">
			March 17, 2017 at 2:30 pm</a>		</div>

		<p>Extraneous &#8220;use&#8221; in &#8220;use Use Virtual­Alloc(MEM_COMMIT)&#8221;.</p>
<p>Also I&#8217;m curious. Regarding Windows 10, what is the most efficient way to release memory when no longer needed (when I quit a program I just don&#8217;t free it, letting the OS do that), but during runtime what would be best? (I&#8217;ve got this spider-sense telling me you&#8217;ve answered this before in a post though).</p>
<p>Let me re-iterate the question: On Windows 10 what is the most OS friendly way to release memory? (and what state to leave that memory in)</p>
<p>.</p>

		
				</div>
		<ol class="children">
		<li class="comment byuser comment-author-alegrigoriev odd alt depth-2" id="comment-1289575">
				<div id="div-comment-1289575" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/alegr1' rel='external nofollow' class='url'>alegr1</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20170317-00/?p=95755#comment-1289575">
			March 21, 2017 at 8:53 am</a>		</div>

		<p>Use the same way you allocated it. If it was VirtualAlloc, use VirtualFree. In other cases you don&#8217;t have a choice, anyway.</p>

		
				</div>
		</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
		<li class="comment byuser comment-author-alegrigoriev even thread-odd thread-alt depth-1 parent" id="comment-1289565">
				<div id="div-comment-1289565" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/alegr1' rel='external nofollow' class='url'>alegr1</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20170317-00/?p=95755#comment-1289565">
			March 21, 2017 at 8:52 am</a>		</div>

		<p>&gt;because a cache with a bad policy is another name for a memory leak.</p>
<p>Exhibit A: Windows XP file cache. THough not sure if more recent versions are much better.</p>

		
				</div>
		<ol class="children">
		<li class="comment odd alt depth-2 parent" id="comment-1289595">
				<div id="div-comment-1289595" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Klimax</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20170317-00/?p=95755#comment-1289595">
			March 21, 2017 at 10:17 am</a>		</div>

		<p>What do you mean? Don&#8217;t remember anything odd so can&#8217;t comment on any newer versions. (Noting odd observed either)</p>

		
				</div>
		<ol class="children">
		<li class="comment even depth-3" id="comment-1290275">
				<div id="div-comment-1290275" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Joshua</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20170317-00/?p=95755#comment-1290275">
			March 27, 2017 at 3:05 pm</a>		</div>

		<p>It tended to keep files that had just been copied in RAM.</p>

		
				</div>
		</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
		</ol><!-- .comment-list -->

		<div class="navigation pagination">
					</div>

	
			<p class="no-comments">Comments are closed.</p>
<!-- COMMENTS END -->
</div></td></tr></table>