<table class="commenttable" cellspacing="0" cellpadding="0"><tr><td><div class="commentdiv"><div class="commentdivhdr">
<!-- COMMENTS START -->
Comments (40)	</div>

	
			<div class="navigation pagination clear-both">
					</div>

		<ol class="comment-list">
					<li class="comment even thread-even depth-1" id="comment-1330535">
				<div id="div-comment-1330535" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Andrew</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20180326-00/?p=98335#comment-1330535">
			March 26, 2018 at 7:16 am</a>		</div>

		<p>Nitpick: 130 commits per day, not 13.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1 parent" id="comment-1330545">
				<div id="div-comment-1330545" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Mantas</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20180326-00/?p=98335#comment-1330545">
			March 26, 2018 at 7:57 am</a>		</div>

		<p>Of course, not many people expected that the Windows repository will migrate to Git like, <i>ever.</i></p>

		
				</div>
		<ol class="children">
		<li class="comment byuser comment-author-oldnewthing bypostauthor even depth-2 parent" id="comment-1330565">
				<div id="div-comment-1330565" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Raymond+Chen+-+MSFT' rel='external nofollow' class='url'>Raymond Chen - MSFT</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20180326-00/?p=98335#comment-1330565">
			March 26, 2018 at 8:18 am</a>		</div>

		<p>This was in the context of a discussion of Windows source control. One person argued that git works great on large projects and gave the Linux kernel as an example.</p>

		
				</div>
		<ol class="children">
		<li class="comment odd alt depth-3" id="comment-1330715">
				<div id="div-comment-1330715" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Erkin Alp Güney</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20180326-00/?p=98335#comment-1330715">
			March 26, 2018 at 11:30 am</a>		</div>

		<p>It is normal as git-scm is originally developed by Linus Torvalds to keep versions of Linux kernel.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even depth-3" id="comment-1330725">
				<div id="div-comment-1330725" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">chris</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20180326-00/?p=98335#comment-1330725">
			March 26, 2018 at 11:42 am</a>		</div>

		<p>isn&#8217;t the linux repo managed with a handful of people allowed to approve each commit, each with authority over a section of the code? also, yes, the kernel is the moral equivalent of the windows core bit, more or less.</p>

		
				</div>
		</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
		<li class="comment odd alt thread-even depth-1" id="comment-1330555">
				<div id="div-comment-1330555" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">creaothceann</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20180326-00/?p=98335#comment-1330555">
			March 26, 2018 at 8:03 am</a>		</div>

		<p>inb4 &#8220;yeah, but they&#8217;re thirteen <i>high quality</i> commits&#8221;</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-torrin-jones even thread-odd thread-alt depth-1 parent" id="comment-1330575">
				<div id="div-comment-1330575" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/torrinj' rel='external nofollow' class='url'>torrinj</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20180326-00/?p=98335#comment-1330575">
			March 26, 2018 at 8:18 am</a>		</div>

		<p>Makes me wonder what source control was used before.  I&#8217;m guessing whatever it was didn&#8217;t handle three million files and X number of commits a day.</p>

		
				</div>
		<ol class="children">
		<li class="comment odd alt depth-2" id="comment-1330595">
				<div id="div-comment-1330595" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Smithers</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20180326-00/?p=98335#comment-1330595">
			March 26, 2018 at 8:28 am</a>		</div>

		<p>I believe I read they used a custom version of Perforce. Interestingly, where I work recently made the same migration, only we split one Perforce server into dozens of individual git repos.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-martin-mueller9 even depth-2" id="comment-1330605">
				<div id="div-comment-1330605" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Martin+S.+M%C3%BCller' rel='external nofollow' class='url'>Martin S. Müller</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20180326-00/?p=98335#comment-1330605">
			March 26, 2018 at 8:44 am</a>		</div>

		<p><a href="https://blogs.msdn.microsoft.com/bharry/2017/02/03/scaling-git-and-some-back-story/" rel="nofollow">https://blogs.msdn.microsoft.com/bharry/2017/02/03/scaling-git-and-some-back-story/</a></p>
<p>“Source Depot did not scale to the entire Windows codebase. It had been split across 40+ depots so that we could scale it out but a layer was built over it so that, for most use cases, you could treat it like one.”</p>
<p>I think it’s interesting that Git wasn’t able to handle the Windows sources before Microsoft implemented GVFS.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-oldnewthing bypostauthor odd alt depth-2" id="comment-1330635">
				<div id="div-comment-1330635" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Raymond+Chen+-+MSFT' rel='external nofollow' class='url'>Raymond Chen - MSFT</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20180326-00/?p=98335#comment-1330635">
			March 26, 2018 at 9:13 am</a>		</div>

		<p>My rough calculations suggest that the previous system averaged around 12,000 commits and a gigabyte of content and metadata per day.</p>

		
				</div>
		</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1 parent" id="comment-1330585">
				<div id="div-comment-1330585" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Smithers</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20180326-00/?p=98335#comment-1330585">
			March 26, 2018 at 8:26 am</a>		</div>

		<p>Have you considered using more than one repository? Linux a is only an OS kernel, so if that makes for a &#8220;large git repo,&#8221; an entire OS seems rather excessive. I wonder how many different source repositories go into even a minimal install of, say, Ubuntu.</p>
<p>Update to bonus chatter: The master branch of <a href="https://github.com/torvalds/linux" rel="nofollow">https://github.com/torvalds/linux</a> is currently nearly 13 years old with almost 740,000 commits, now putting it north of 155 commits/day. When I download the zip, it extracts to 67,317 items at 748 MB. I&#8217;ll bet Windows isn&#8217;t going to catch up on one statistic though &#8212; GitHub claims the repository has &#8220;∞ contributors!&#8221;</p>

		
				</div>
		<ol class="children">
		<li class="comment byuser comment-author-oldnewthing bypostauthor odd alt depth-2 parent" id="comment-1330815">
				<div id="div-comment-1330815" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Raymond+Chen+-+MSFT' rel='external nofollow' class='url'>Raymond Chen - MSFT</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20180326-00/?p=98335#comment-1330815">
			March 26, 2018 at 2:30 pm</a>		</div>

		<p>See <a href="https://blogs.msdn.microsoft.com/bharry/2017/02/03/scaling-git-and-some-back-story/" rel="nofollow">this blog post from Brian Harry</a> which discusses the rationale for a monorepo.</p>

		
				</div>
		<ol class="children">
		<li class="comment even depth-3 parent" id="comment-1330835">
				<div id="div-comment-1330835" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Ravi</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20180326-00/?p=98335#comment-1330835">
			March 26, 2018 at 3:37 pm</a>		</div>

		<p>I don&#8217;t buy Brian&#8217;s argument on mono repo. There isn&#8217;t a good reason why the thousands of components within Windows have to be built from the top all the time, all at once. The mono repo only exists since NT build (or it&#8217;s new monolithic equivalent) demands it. If all components are built and managed at component level, you&#8217;d have lots of small repos with it&#8217;s own cadence on how they release it. The shipping will just be a packaging issue.</p>

		
				</div>
		<ol class="children">
		<li class="comment odd alt depth-4" id="comment-1330945">
				<div id="div-comment-1330945" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Max</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20180326-00/?p=98335#comment-1330945">
			March 27, 2018 at 7:33 am</a>		</div>

		<p>Because of Windows&#8217; monolithic history, the components tend to be tied together in ways that mean they can&#8217;t be cleanly separated without significant changes.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even depth-4" id="comment-1331625">
				<div id="div-comment-1331625" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">voo</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20180326-00/?p=98335#comment-1331625">
			April 2, 2018 at 5:02 am</a>		</div>

		<p>I&#8217;m assuming you actually know how the code looks like and spent several months thinking about this problem, before simply claiming that this would be perfectly simple, despite the empirical evidence suggesting that it&#8217;s anything but?</p>
<p>Just to get started with the really simple problems: How are you going to approach atomic commits across multiple independent repositories? Because you know, in practice that&#8217;s rather important on large, grown projects.</p>
<p>Pretty much every company that has large code bases (if you have less than a million code files, that&#8217;s not you) has chosen a mono repo. So either all those people working at Microsoft, Google, Facebook and co are just idiots or it might just be that in practice monorepos work a great deal better than having dozens of smaller repos.</p>

		
				</div>
		</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
		<li class="comment byuser comment-author-bboorman odd alt depth-3 parent" id="comment-1330905">
				<div id="div-comment-1330905" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Brian_EE' rel='external nofollow' class='url'>Brian_EE</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20180326-00/?p=98335#comment-1330905">
			March 26, 2018 at 8:54 pm</a>		</div>

		<p>Can&#8217;t the GVFS be combined with submodule approach for even better performance? And how is shallow cloning tied in?  Is that a part of your implementation?</p>

		
				</div>
		<ol class="children">
		<li class="comment byuser comment-author-oldnewthing bypostauthor even depth-4" id="comment-1330985">
				<div id="div-comment-1330985" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Raymond+Chen+-+MSFT' rel='external nofollow' class='url'>Raymond Chen - MSFT</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20180326-00/?p=98335#comment-1330985">
			March 27, 2018 at 10:14 am</a>		</div>

		<p>I am not the person to ask about why the monorepo design was chosen. I wasn&#8217;t part of the decision. But I do know that merging submodules is next to impossible.</p>

		
				</div>
		</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1330625">
				<div id="div-comment-1330625" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">max630</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20180326-00/?p=98335#comment-1330625">
			March 26, 2018 at 9:07 am</a>		</div>

		<p>I remember I was quite surprised to learn that they are not queued. I mean, it&#8217;s git, it costs nothing to implement.</p>
<p>Another thing to do is to implement CI build/testing during merge &#8211; from the merged commit but with if test fails that targed branch is reset to parent, to avoid issues caused by merging.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1330645">
				<div id="div-comment-1330645" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Martin Bonner</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20180326-00/?p=98335#comment-1330645">
			March 26, 2018 at 10:02 am</a>		</div>

		<p>So the Fall Creators Update has 10 times as many commits as the *entire* Linux kernel.</p>
<p>It&#8217;s with mature large projects like Windows, that I don&#8217;t see how git is going to work &#8211;  doing a &#8220;git clone&#8221; is going to be a *major* undertaking.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1 parent" id="comment-1330655">
				<div id="div-comment-1330655" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://frontrowcrew.com' rel='external nofollow' class='url'>Scott</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20180326-00/?p=98335#comment-1330655">
			March 26, 2018 at 10:22 am</a>		</div>

		<p>It sounds like Windows is using one giant monolithic central remote that all the merge requests are being sent to. If that is the case, then that is the root of this problem. Linux has a more hierarchical tree of forks. One developers commit might go to a lieutenant&#8217;s fork, or even somewhere lower on the tree. Then it will get bundled into another merge request and make its way up until eventually it hits the mainline. </p>
<p>No doubt Windows is a much larger and more active codebase than Linux. It could still probably go a long way towards solving this problem by adopting a tree of forks model rather than having every MR go right to the top.</p>
<p>Granted, this creates some other issues when conflicts arise between merge requests at the high levels far away from the original developers. That is why git makes sure all developers names and emails are stamped on their commits. When a problem arises, you know exactly who to call.</p>
<p>Of course, the queue isn&#8217;t really a bad solution either. It would be cool for such a queuing system to be made freely available to anyone else who might need it, few that they may be.</p>

		
				</div>
		<ol class="children">
		<li class="comment byuser comment-author-oldnewthing bypostauthor even depth-2" id="comment-1330805">
				<div id="div-comment-1330805" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Raymond+Chen+-+MSFT' rel='external nofollow' class='url'>Raymond Chen - MSFT</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20180326-00/?p=98335#comment-1330805">
			March 26, 2018 at 2:28 pm</a>		</div>

		<p>Indeed, <a href="https://blogs.msdn.microsoft.com/oldnewthing/20130820-00/?p=3453">Windows uses a hierarchical branch system as well</a>. But even within a branch there can be a lot of contention.</p>

		
				</div>
		</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
		<li class="comment odd alt thread-even depth-1 parent" id="comment-1330665">
				<div id="div-comment-1330665" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Arek</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20180326-00/?p=98335#comment-1330665">
			March 26, 2018 at 10:46 am</a>		</div>

		<p>Amount of commits it&#8217;s not a measure of good software quality&#8230;</p>

		
				</div>
		<ol class="children">
		<li class="comment byuser comment-author-oldnewthing bypostauthor even depth-2" id="comment-1330795">
				<div id="div-comment-1330795" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Raymond+Chen+-+MSFT' rel='external nofollow' class='url'>Raymond Chen - MSFT</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20180326-00/?p=98335#comment-1330795">
			March 26, 2018 at 2:27 pm</a>		</div>

		<p>The topic wasn&#8217;t quality. It was scalability.</p>

		
				</div>
		</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1330695">
				<div id="div-comment-1330695" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Prashanth</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20180326-00/?p=98335#comment-1330695">
			March 26, 2018 at 11:10 am</a>		</div>

		<p>With so many merges and files, what&#8217;s the workflow like for running tests/CI?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1 parent" id="comment-1330705">
				<div id="div-comment-1330705" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Pelle</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20180326-00/?p=98335#comment-1330705">
			March 26, 2018 at 11:23 am</a>		</div>

		<p>&#8220;&#8216;For example, the linux kernel repository at roughly eight years old is 800–900MB in size, has about 45,000 files, and is considered to have heavy churn, with 400,000 commits.&#8217; I found that adorable.&#8221; The wast size of the Windows repo is nothing to be proud of, to be honest&#8230; I&#8217;m more impressed by how small the Linux kernel is.</p>

		
				</div>
		<ol class="children">
		<li class="comment byuser comment-author-oldnewthing bypostauthor odd alt depth-2" id="comment-1330785">
				<div id="div-comment-1330785" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Raymond+Chen+-+MSFT' rel='external nofollow' class='url'>Raymond Chen - MSFT</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20180326-00/?p=98335#comment-1330785">
			March 26, 2018 at 2:26 pm</a>		</div>

		<p>But if you&#8217;re going to tell the Windows team that they should switch to git because it can handle even repos as large as the linux kernel, they&#8217;re going to laugh. (This is not a discussion about which kernel is better. It&#8217;s a discussion about whether git can handle large repos.)</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even depth-2" id="comment-1330875">
				<div id="div-comment-1330875" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Thomas Harte</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20180326-00/?p=98335#comment-1330875">
			March 26, 2018 at 7:10 pm</a>		</div>

		<p>I&#8217;m no expert, not by a great distance, but if sounds to me like the Ars comment doesn&#8217;t compare like for like. How would you expect the size of Windows 10, an operating system, to compare to that of the Linux kernel, which is just the kernel for an operating system?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-bboorman odd alt depth-2" id="comment-1330895">
				<div id="div-comment-1330895" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Brian_EE' rel='external nofollow' class='url'>Brian_EE</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20180326-00/?p=98335#comment-1330895">
			March 26, 2018 at 8:51 pm</a>		</div>

		<p>Pelle &#8211; apples to apples.  Linux kernel is one thing.  An entire distribution is another &#8211; hundreds of separate packages bundled together.  Windows OS is like the latter,  not the former.</p>

		
				</div>
		</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
		<li class="comment even thread-odd thread-alt depth-1 parent" id="comment-1330735">
				<div id="div-comment-1330735" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Qb</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20180326-00/?p=98335#comment-1330735">
			March 26, 2018 at 11:55 am</a>		</div>

		<p>I wonder why the entire windows source is handled in a single repository?! Wasn&#8217;t there a way to modularize it?</p>

		
				</div>
		<ol class="children">
		<li class="comment byuser comment-author-oldnewthing bypostauthor odd alt depth-2" id="comment-1330775">
				<div id="div-comment-1330775" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Raymond+Chen+-+MSFT' rel='external nofollow' class='url'>Raymond Chen - MSFT</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20180326-00/?p=98335#comment-1330775">
			March 26, 2018 at 2:25 pm</a>		</div>

		<p>See <a href="https://blogs.msdn.microsoft.com/bharry/2017/02/03/scaling-git-and-some-back-story/" rel="nofollow">this blog post from Brian Harry</a> which discusses the rationale for a monorepo.</p>

		
				</div>
		</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1330755">
				<div id="div-comment-1330755" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Mike Diack</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20180326-00/?p=98335#comment-1330755">
			March 26, 2018 at 1:38 pm</a>		</div>

		<p>Normally, I&#8217;m a fan of your posts Raymond, and have learnt a huge amount from you. But the smugness about Linux Git commits is rather unpleasant. Don&#8217;t forget that the Linux community could equally have a very easy time pointing out the instability and lack of performance of the Linux kernel compared to Windows &#8211; and don&#8217;t get me wrong, I&#8217;m a huge fan of both OSes &#8211; but the smugness leaves a sour taste in the mouth&#8230;&#8230;</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1 parent" id="comment-1330765">
				<div id="div-comment-1330765" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Calvin Spealman</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20180326-00/?p=98335#comment-1330765">
			March 26, 2018 at 2:06 pm</a>		</div>

		<p>Calling the Linux kernel &#8220;adorable&#8221; is childish and unprofessional, especially today when Microsoft as an organization is so wonderfully open-armed to the wider community. Please learn some basic decorum.</p>

		
				</div>
		<ol class="children">
		<li class="comment even depth-2" id="comment-1330845">
				<div id="div-comment-1330845" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Doug</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20180326-00/?p=98335#comment-1330845">
			March 26, 2018 at 3:40 pm</a>		</div>

		<p>He&#8217;s not calling the Linux kernel adorable.</p>
<p>He&#8217;s saying that it is adorable to use the Linux kernel as an example of a large repo with huge churn that is evidence that Git can scale to Windows-sized repositories.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt depth-2" id="comment-1330935">
				<div id="div-comment-1330935" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Mantas</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20180326-00/?p=98335#comment-1330935">
			March 27, 2018 at 4:48 am</a>		</div>

		<p>It is also childish for said wider community to call it &#8220;Micro$haft Windoze&#8221;, but they do it anyway.</p>

		
				</div>
		</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1330855">
				<div id="div-comment-1330855" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://thomasmccorkell.me.uk' rel='external nofollow' class='url'>Torkell</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20180326-00/?p=98335#comment-1330855">
			March 26, 2018 at 3:55 pm</a>		</div>

		<p>It&#8217;s always amusing when you break someone&#8217;s idea of what they think is &#8220;crazy big&#8221; by an order or two of magnitude. At a previous job, we once had a consultant come in to show off a shiny high-performance database engine&#8230; which spectacularly failed to keep up with 12 hours worth of simulated customer traffic.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-cheong odd alt thread-odd thread-alt depth-1" id="comment-1330885">
				<div id="div-comment-1330885" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/cheong00' rel='external nofollow' class='url'>cheong00</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20180326-00/?p=98335#comment-1330885">
			March 26, 2018 at 7:12 pm</a>		</div>

		<p>I got the impression that anything networking related happening within Microsoft can be more challenging than what we imagine.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1330925">
				<div id="div-comment-1330925" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">James Sutherland</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20180326-00/?p=98335#comment-1330925">
			March 27, 2018 at 2:42 am</a>		</div>

		<p>Back in 2005 I was hired by a startup of civil engineers doing some financial modelling for the construction industry. They were talking about &#8220;big data&#8221;, wondering if they should use Oracle for the &#8220;big&#8221; data files they were working with.</p>
<p>Spoiler: the correct tool for that job was actually a Perl script, since the &#8220;big&#8221; data was well under a megabyte. The biggest challenge was that the figures had all been manually typed (so a lot of names didn&#8217;t match exactly, and tended to meander haphazardly from column to column within a spreadsheet: when you do all the addition manually, who cares if the price is in column K or column J, or switches between the two part way through?!) &#8211; and a few were even supplied in hand-written form. (A decade later, doing very different stuff with related data of a few hundred Mb at a time, we finally had justification to move to MySQL.)</p>
<p>A decade before this, we had a ticket open with (large OS vendor) about authentication db replication breaking if you created/deleted more than a thousand users in a minute. Which, of course, is pretty much an annual event in a university with an efficient automated admissions system feeding the IT department. (After I moved somewhere larger, we broke Solaris in &#8220;fun&#8221; ways which I think started with mounting the same file system in more than 256 places, then got weirder &#8211; obscure use case involving lots of chroot jails for departmental hosting with containment, back before VMWare had any server options.)</p>
<p>To return fire on the MS-Unix side: around the same time, someone from MS was getting a machine room tour and suggested Exchange (c Windows 2000 era) for hosting the email. Given the usage figures, as I recall they came up with a figure of 120 x86 servers in a cluster to host that lot &#8211; at which point, they were led towards the two small Sun boxes which were doing the job instead. (Later upgraded to three, then replaced with about a dozen Linux machines as the workload increased.) To be fair, Exchange actually seems to scale competently  these days thanks to all the bloodshed migrating Hotmail to it&#8230;</p>
<p>Of course, in 20 years time, this post will probably be laughed at by undergrads hitting limits when their project&#8217;s AI generates more than 500 commits a second in a metaprogramming project. (Teaching Intro C++ lab last year, one undergrad came to my drop-in clinic for help with his project&#8217;s slow compilation times: his several hundred source files were taking about an hour to compile in Visual Studio. Needless to say, his game engine wasn&#8217;t actually Intro C++ coursework, but it was a quiet lab and I like interesting challenges&#8230; Funny to think how big a job that compilation would have been back when I was an undergrad!)</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1 parent" id="comment-1331035">
				<div id="div-comment-1331035" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Osexpert</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20180326-00/?p=98335#comment-1331035">
			March 27, 2018 at 2:08 pm</a>		</div>

		<p>The switch to git feels forced to me. Since you needed to do several modifications to make git  usable, maybe similar investment in other vcs would make it usable  too (including the one made by microsoft). Or maybe git is just that much better.</p>

		
				</div>
		<ol class="children">
		<li class="comment even depth-2" id="comment-1331105">
				<div id="div-comment-1331105" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Brian</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20180326-00/?p=98335#comment-1331105">
			March 28, 2018 at 8:38 am</a>		</div>

		<p>I&#8217;m pretty sure there was a lot of pressure for Windows to use TFS source control.  That they didn&#8217;t, would tend to indicate to me that Windows was too large a project for TFS (source control).  I know that other large MSFT products do use it (or did use it), but nothing is quite as complicated as Windows.</p>

		
				</div>
		</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
		<li class="comment odd alt thread-even depth-1" id="comment-1331235">
				<div id="div-comment-1331235" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Marvy</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20180326-00/?p=98335#comment-1331235">
			March 28, 2018 at 7:59 pm</a>		</div>

		<p>Just read the linked article.  The claim is that the system can handle 400 pull requests per hour for a single branch.<br />
That&#8217;s one every 9 seconds.  This is madness.  My personal idea of &#8220;moderate churn&#8221; is several pull requests per week.<br />
EVERY 9 SECONDS.  I have no words.</p>

		
				</div>
		</li><!-- #comment-## -->
		</ol><!-- .comment-list -->

		<div class="navigation pagination">
					</div>

	
			<p class="no-comments">Comments are closed.</p>
<!-- COMMENTS END -->
</div></td></tr></table>