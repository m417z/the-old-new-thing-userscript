<table class="commenttable" cellspacing="0" cellpadding="0"><tr><td><div class="commentdiv"><div class="commentdivhdr">
<!-- COMMENTS START -->
Comments (38)	</div>

	
			<div class="navigation pagination clear-both">
					</div>

		<ol class="comment-list">
					<li class="comment even thread-even depth-1" id="comment-551573">
				<div id="div-comment-551573" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">BA</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20070920-00/?p=25043#comment-551573">
			September 20, 2007 at 10:10 am</a>		</div>

		<p>I think the &quot;other side&quot; posts are my favorite. They always poke holes in these silly little &quot;exploits&quot; that have fundamental logical problems.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-551593">
				<div id="div-comment-551593" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Tad</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20070920-00/?p=25043#comment-551593">
			September 20, 2007 at 10:44 am</a>		</div>

		<p>One of my CSCI classes required me to read a book on a robot that committed murder. It was a small red book, that I can&#8217;t for the life of me, remember the name of. It had the greatest paragraph on security by obscurity, and now I can&#8217;t find it anywhere&#8230;</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-551603">
				<div id="div-comment-551603" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">BH</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20070920-00/?p=25043#comment-551603">
			September 20, 2007 at 10:53 am</a>		</div>

		<p>@Tad: Was it perhaps Tik-Tok, by John Sladek? Although, the copy I have has a yellow cover. A particularly interesting and funny book. I&#8217;ll have to dig it out and see if I can find the paragraph you mean.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-551633">
				<div id="div-comment-551633" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Aaron</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20070920-00/?p=25043#comment-551633">
			September 20, 2007 at 11:08 am</a>		</div>

		<p>Jack: Pray tell, what is this &quot;major flaw in the security models&quot;? &nbsp;Common sense dictates that an administrator should be able to, you know, administer stuff.</p>
<p>Figures that this rot comes from McAfee. &nbsp;I&#8217;m still on the fence as to whether or not these security &quot;researchers&quot; are a net asset or a net liability to the industry.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-551703">
				<div id="div-comment-551703" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://projectdream.org' rel='external nofollow' class='url'>Lukas Beeler</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20070920-00/?p=25043#comment-551703">
			September 20, 2007 at 11:47 am</a>		</div>

		<p>Previous Versions in Vista is restricted to Vista Business and up &#8211; so the only consumer OS that has it is Vista Ultimate.</p>
<p>I would be interested why this decision was made, but i guess we&#8217;ll never know.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-551743">
				<div id="div-comment-551743" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Simon</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20070920-00/?p=25043#comment-551743">
			September 20, 2007 at 11:55 am</a>		</div>

		<blockquote><p>
  Home users can use Previous Versions, too. (I&#8217;m not sure exactly what versions of Vista you need, but it&#8217;s there.) -Raymond
</p></blockquote>
<p>Only Business, Enterprise, and Ultimate have it; Home Basic and Home Premium don&#8217;t. &nbsp;The two Home editions also lack the Complete PC Backup feature. &nbsp;The latter especially is a puzzling choice, IMO &#8212; but that&#8217;s a discussion for another day; I don&#8217;t want to get too off-topic.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-551773">
				<div id="div-comment-551773" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Jonathan</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20070920-00/?p=25043#comment-551773">
			September 20, 2007 at 12:11 pm</a>		</div>

		<p>Aaron: I think Jack&#8217;s point was that administrators should somehow be protected from having programs that they run (at administrative privileges) unexpectedly perform administrative operations like adding users to the administrator group.</p>
<p>Unfortunately that kind of protection seems pretty much impossible. &nbsp;(At least without making the OS stop and make you prove [in some manner a rogue add can&#8217;t get around] that you are the authorized administrator and you did intend to perform that function. &nbsp;Which would be so intrusive and annoying that it would pretty much cripple the OS)</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-551853">
				<div id="div-comment-551853" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Suraj Barkale</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20070920-00/?p=25043#comment-551853">
			September 20, 2007 at 1:34 pm</a>		</div>

		<p>Thanks for the handy command line. I thought NET command was just for mapping drives. It seems to be the most powerful command on windows :)</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-551873">
				<div id="div-comment-551873" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Scott</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20070920-00/?p=25043#comment-551873">
			September 20, 2007 at 1:42 pm</a>		</div>

		<p>It&#8217;s easy to find security holes. &nbsp;I just found a new one, where I can post content to a Microsoft web server. &nbsp;This is a serious hole since users may interpret this content as an official Microsoft position. :P</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-551883">
				<div id="div-comment-551883" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Puckdropper</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20070920-00/?p=25043#comment-551883">
			September 20, 2007 at 2:02 pm</a>		</div>

		<p>Scott,</p>
<p>It&#8217;s not a security hole if you&#8217;re allowed to do it by the administrator&#8217;s policy!</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-551913">
				<div id="div-comment-551913" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Ulric</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20070920-00/?p=25043#comment-551913">
			September 20, 2007 at 2:31 pm</a>		</div>

		<p>You can&#8217;t protect the user from deleting his own documents &quot;with a batch file&quot;. If you can &#8216;trick him&#8217; into running a batch file with his own permission, then can you could trick him in doing any other things as well, for example running an executable that is using file sytem calls to do any amount of damage, or prompt him for password. &nbsp;Strawman argument.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-551923">
				<div id="div-comment-551923" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Bryan</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20070920-00/?p=25043#comment-551923">
			September 20, 2007 at 2:37 pm</a>		</div>

		<p>I found a horrible security issue. &nbsp;Apparently, on Vista, you can right-click on any shortcut or application and select &quot;Run as Administrator&quot;. &nbsp;If you had an Admin&#8217;s login/password, you could install a virus or trojan unwittingly.</p>
<p>&lt;/sarcasm&gt;</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-551933">
				<div id="div-comment-551933" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Matt Brown</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20070920-00/?p=25043#comment-551933">
			September 20, 2007 at 2:46 pm</a>		</div>

		<p>This is how some people had gotten and continue to keep their jobs. :)</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-551973">
				<div id="div-comment-551973" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Grant</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20070920-00/?p=25043#comment-551973">
			September 20, 2007 at 3:26 pm</a>		</div>

		<p>&quot;I&#8217;m looking forward to Apple&#8217;s supposedly easy-to-use file history feature which should alleviate this problem. (Windows has one, also, if your files are stored on an Active Directory share, but that doesn&#8217;t help home users.)&quot;</p>
<p>(At least some) Vista users are protected by something similar at home:</p>
<p><a rel="nofollow" target="_new" href="http://blogs.msdn.com/larryosterman/archive/2007/01/23/how-the-magic-of-windows-vista-saved-38g-of-my-data.aspx" rel="nofollow">http://blogs.msdn.com/larryosterman/archive/2007/01/23/how-the-magic-of-windows-vista-saved-38g-of-my-data.aspx</a></p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-552003">
				<div id="div-comment-552003" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">zahical</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20070920-00/?p=25043#comment-552003">
			September 20, 2007 at 3:50 pm</a>		</div>

		<p>A little bit late, but let me add my favorite &quot;exploit&quot;:</p>
<p>Windows allows you to start a console window under the SYSTEM account!</p>
<p>Just type AT [hh:mm] /interactive cmd.exe (hh:mm is some time in the near future) at the command prompt and at hh:mm o’clock &nbsp;a new command prompt will appear in which you can do whatever you want.</p>
<p>There’s only one gotcha: To use &#8216;at&#8217;, you must be a member of the local Administrators group. :-)</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-552013">
				<div id="div-comment-552013" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Cody</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20070920-00/?p=25043#comment-552013">
			September 20, 2007 at 4:04 pm</a>		</div>

		<p>[If you can trick someone into running a batch file]</p>
<p>Your point being? &nbsp;Tricking someone into running something means there&#8217;s a security flaw in either your policy or people, not programs.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-552023">
				<div id="div-comment-552023" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://www.electricrelaxation.com' rel='external nofollow' class='url'>Ramesh Dharan</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20070920-00/?p=25043#comment-552023">
			September 20, 2007 at 4:17 pm</a>		</div>

		<blockquote><p>
  Jonathan: Up to a point, you could achieve some of this</p>
<p>  with capabilities: rather than having an all-powerful</p>
<p>  Administrator user, you have a list of things each</p>
<p>  process is allowed to do, so your backup program can</p>
<p>  access everyone&#8217;s files but not change user accounts,</p>
<p>  the time sync utility can adjust the system clock but</p>
<p>  not touch user&#8217;s files, etc.
</p></blockquote>
<p>Ever heard of SELinux? No? That&#8217;s because it sucks. It&#8217;s unusable. No one can define a set of policies that actually works.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-552033">
				<div id="div-comment-552033" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Mikkin</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20070920-00/?p=25043#comment-552033">
			September 20, 2007 at 4:46 pm</a>		</div>

		<blockquote><p>
  &quot;Well, yeah, an administrator can install</p>
<p>  software that commandeers user accounts.</p>
<p>  This is hardly a surprise, is it?&quot;</p>
<p>  It&#8217;s not, but it should be.
</p></blockquote>
<p>Agreed. This is not something Windows addresses in this context, but in a secure environment letting an administrator impersonate or hijack a user account is a Very Bad Thing(TM). It rather involves there being two sides to the airtight hatchway.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-551613">
				<div id="div-comment-551613" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Jack</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20070920-00/?p=25043#comment-551613">
			September 20, 2007 at 10:54 am</a>		</div>

		<p>&quot;Well, yeah, an administrator can install software that commandeers user accounts. This is hardly a surprise, is it?&quot;</p>
<p>It&#8217;s not, but it should be. It points out a major flaw in the security models used by Windows (and Unix). Microsoft has tried to patch it up with UAC, but it&#8217;s basically just dumping the problem on the user (especially since UAC doesn&#8217;t give you the information you&#8217;d need to make an informed choice *even if you knew (and cared) what the application was trying to do*).</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-551663">
				<div id="div-comment-551663" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">James Schend</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20070920-00/?p=25043#comment-551663">
			September 20, 2007 at 11:25 am</a>		</div>

		<p>Jack: At the risk of changing the topic too far from the original, I think the real problem with current security models is that you don&#8217;t *need* to be an administrator to delete the user&#8217;s most valuable data: Their documents.</p>
<p>If you can trick someone into running a batch file, you can destroy thousands of dollars/man-hours worth of work in seconds without requiring any kind of privilege-escalation whatsoever.</p>
<p>Sure, you can argue that this isn&#8217;t much of a problem because users back-up their data, the reality is that very very few users actually back-up their data. I&#8217;m looking forward to Apple&#8217;s supposedly easy-to-use file history feature which should alleviate this problem. (Windows has one, also, if your files are stored on an Active Directory share, but that doesn&#8217;t help home users.)</p>
<div class="post">[<i>Um, home users can use Previous Versions, too. (I&#8217;m not sure exactly what versions of Vista you need, but it&#8217;s there.) -Raymond</i>]</div>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-551723">
				<div id="div-comment-551723" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">James Schend</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20070920-00/?p=25043#comment-551723">
			September 20, 2007 at 11:52 am</a>		</div>

		<p>Hm, I apologize then. I guess it&#8217;s a case of discoverability: I have a copy of Vista Home Premium that I&#8217;ve been using a few months now, and I haven&#8217;t seen any hint of any sort of Previous Versions feature. To boot, it&#8217;s not listed in the Product Features for any of the Vista editions. (Even Ultimate: <a rel="nofollow" target="_new" href="http://www.microsoft.com/windows/products/windowsvista/editions/choose.mspx" rel="nofollow">http://www.microsoft.com/windows/products/windowsvista/editions/choose.mspx</a>)</p>
<p>That said, the Vista website kind of sucks. :) Before I bought this computer, I wanted to answer the question, &quot;can I use my Home Premium &nbsp;as both a Remote Desktop client *and* server?&quot; and it&#8217;s nowhere to be found on the features page. (Nor does it mention whether applications like Cisco VPN will run on Home Premium, but I wouldn&#8217;t really expect MS to anyway.)</p>
<p>Sorry for getting off-track.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-552103">
				<div id="div-comment-552103" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://www.levicki.net/' rel='external nofollow' class='url'>Igor</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20070920-00/?p=25043#comment-552103">
			September 20, 2007 at 9:26 pm</a>		</div>

		<p>Handy joke for Raymond:</p>
<p>Your computer just got a &quot;Bosnian Virus&quot;. Since we from Bosnia don&#8217;t have any programming experience, this virus works by exploiting your trust.</p>
<p>Please delete all your files from your hard drive and manually forward this virus to everyone in your address book.</p>
<p>Thank you for your cooperation.</p>
<p>P.S.</p>
<p>First forward the virus, then delete the files.</p>
<p>:)</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-551963">
				<div id="div-comment-551963" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">KenW</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20070920-00/?p=25043#comment-551963">
			September 20, 2007 at 3:05 pm</a>		</div>

		<p>Jonathan: &quot;I think Jack&#8217;s point was that administrators should somehow be protected from having programs that they run (at administrative privileges) unexpectedly perform administrative operations like adding users to the administrator group.&quot;</p>
<p>So how do you protect &quot;admins from programs that they run (at administrative privileges) unexpectedly perform administrative operations&quot;? How do you know the administrative operation is unexpected? Perhaps it&#8217;s doing exactly what the administrative user expects, so it&#8217;s not unexpected. Perhaps it&#8217;s doing something the administrative user doesn&#8217;t, which means it&#8217;s unexpected. How do you, the operating system, tell the difference? How do you know if the user expects the behavior or not? Read the user&#8217;s mind? Not gonna happen (and if it did, someone would sue). Ask the user? Oh, yeah. That&#8217;s what UAC does already, and people are complaining about that all over the place.</p>
<p>The solution to security issues is simple, both on Windows and Linux:</p>
<p>Don&#8217;t run as administrator/root unless absolutely necessary, and then for only as long as you must.</p>
<p>Use the lowest level of access you can on your normal (non-admin) account, to keep processes run as that user from causing problems.</p>
<p>Don&#8217;t install stuff into the Systems folders without knowing what it is and where it came from.</p>
<p>Leave UAC turned on on Vista.</p>
<p>Use AV software and a firewall.</p>
<p>I&#8217;m still on XP, both at home and work (my home laptop is only about a year and a half old, and doesn&#8217;t quite have the juice for Vista; at work, we *just* got rid of the last Win98 machine about a month ago, and still have about half XP/half Win2K on our 50+ workstations). I follow the advice above (except UAC being turned on, which of course doesn&#8217;t apply). In 20+ years of using PCs, with various versions of DOS and Windows, I&#8217;ve been affected by only a single virus, and never had spyware infect my machines.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-551983">
				<div id="div-comment-551983" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://deadnode.org/' rel='external nofollow' class='url'>James</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20070920-00/?p=25043#comment-551983">
			September 20, 2007 at 3:35 pm</a>		</div>

		<p>Jonathan: Up to a point, you could achieve some of this with capabilities: rather than having an all-powerful Administrator user, you have a list of things each process is allowed to do, so your backup program can access everyone&#8217;s files but not change user accounts, the time sync utility can adjust the system clock but not touch user&#8217;s files, etc. The Windows NT kernel actually has a fair bit of this implemented behind the scenes, even though the obvious aspects are basically limited to Administrator/Backup Operators/Users.</p>
<p>One thing to be careful of is that as soon as an access control list is wrongly configured, step one of Raymond&#8217;s list becomes possible *without* already being Administrator. Mark Russinovich had some articles about this on his blog last year and again this year; Power Users (pre-Vista) are also able to elevate themselves to Administrator status with just a default Windows system, and ordinary Users can do so with a lot of third-party software with poorly written ACLs.</p>
<p>In Raymond&#8217;s examples, &#8216;*install* this rogue service&#8217; requires Administrator privileges &#8211; but &#8216;*substitute* your own rogue file for this legitimate one which runs privileged&#8217; often doesn&#8217;t. Particularly on non-NTFS systems of course!</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-552123">
				<div id="div-comment-552123" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Cheong</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20070920-00/?p=25043#comment-552123">
			September 20, 2007 at 10:52 pm</a>		</div>

		<p>[quote user=&quot;Ramesh Dharan&quot;]</p>
<p>Ever heard of SELinux? No? That&#8217;s because it sucks. It&#8217;s unusable. No one can define a set of policies that actually works.</p>
<p>[/quote]</p>
<p>No. Actually &quot;no one can define a set of [b]predefined[/b] policies that actually works&quot;.</p>
<p>It CAN work, just that requires tremendous effort of fine tuning. And of course, the administrator&#8217;s knowledge of how to get SELinux work.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-552133">
				<div id="div-comment-552133" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">DriverDude</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20070920-00/?p=25043#comment-552133">
			September 20, 2007 at 11:11 pm</a>		</div>

		<p>In the context of the linked article, this &quot;security report&quot; seems quite absurd.</p>
<p>But do not underestimate how easy step 1 is.</p>
<p>Look for the paper &quot;Windows Access Control Demystified&quot; (1st hit on Google and Live Search, wow!) &nbsp;It details how Windows XP allows a regular user to change the executable of a Local System service (this bug has been patched)</p>
<p>I was so shocked that a market-leading PhotoEdit package could allow normal users to change its files that I actually installed it. Indeed, the installer changes the ACL on all its files so Everyone can write to all of them. Think about it: instead of inheriting ACLs from C:Program Files, the installer changed the ACL on each file one by one.</p>
<p>This isn&#8217;t some obscure app written for Win95. This is a whole suite of apps produced by an A-list Silicon Valley sofware company, costs $700+, released in 2005 and &quot;designed for XP&quot;. They also released an update after the bug was found.</p>
<p>Just because these bugs have been fixed (and an admin user shouldn&#8217;t be editing photos), does anyone seriously think there aren&#8217;t more of these bugs on the average system?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-552043">
				<div id="div-comment-552043" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">dewd</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20070920-00/?p=25043#comment-552043">
			September 20, 2007 at 5:47 pm</a>		</div>

		<p>I created a backdoor on my linux box today, here&#8217;s how I did it:</p>
<p>Put this in /etc/xinetd.d/backdoor:</p>
<p>service backdoor</p>
<p>{</p>
<p> &nbsp;type = UNLISTED</p>
<p> &nbsp;socket_type = stream</p>
<p> &nbsp;protocol = tcp</p>
<p> &nbsp;wait = no</p>
<p> &nbsp;user = root</p>
<p> &nbsp;port = 2456</p>
<p> &nbsp;server = /bin/bash</p>
<p> &nbsp;server_args = -i</p>
<p>}</p>
<p>Then save (:wq in vim), and restart xinetd. Then when you connect to that box on port 2456, *Boom!* you got a root shell!</p>
<p>(Why did I do this? I wanted to see the symlinks in /proc/self/fd while running from xinetd, the quick&amp;dirty way)</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-552203">
				<div id="div-comment-552203" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Stephen Jones</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20070920-00/?p=25043#comment-552203">
			September 21, 2007 at 6:11 am</a>		</div>

		<p>&#8212;-&quot;It&#8217;s not, but it should be. It points out a major flaw in the security models used by Windows (and Unix). &quot;&#8212;&#8211;</p>
<p>So it&#8217;s a security flaw that people who own systems can do things to them? It&#8217;s that goddam &nbsp;subversive free-will. If people and computer users, would just act like robots within the instructions they&#8217;ve been given all will be solved.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-552243">
				<div id="div-comment-552243" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Name required</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20070920-00/?p=25043#comment-552243">
			September 21, 2007 at 9:31 am</a>		</div>

		<blockquote><p>
  Use the lowest level of access you can on your normal (non-admin) account
</p></blockquote>
<p>Good advice, but easier said than done. Too much software requires admin rights to install (good, in many ways) and also admin rights to run (for example because the software tries to write to an &quot;admin only&quot; directory when it is run).</p>
<p>My favourite exploits requires you to have physical access to the machine. And a hammer.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-552483">
				<div id="div-comment-552483" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Jules</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20070920-00/?p=25043#comment-552483">
			September 21, 2007 at 3:02 pm</a>		</div>

		<p>One good one that happened to me. &nbsp;A while back, I was involved with an open source development tool. &nbsp;Somebody posted a security bulletin to a number of popular security web sites that there was a remotely exploitable security fault in our tool: if you set up a system where it compiled any program that was e-mailed to a particular account you could exploit a buffer overflow and run code with that account&#8217;s priveleges.</p>
<p>Nobody ever explained why you&#8217;d compile code in an account that was more priveleged than you intended to run the compiled program in, or why it was better to include the exploit code in binary in an overly long identifier rather than as source in the program that was being compiled.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-552563">
				<div id="div-comment-552563" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Triangle</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20070920-00/?p=25043#comment-552563">
			September 21, 2007 at 6:39 pm</a>		</div>

		<p>&#8220;Only administrators can install services and drivers&#8221;</p>
<p>So unprivileged users can&#8217;t just attach their devices to Windows and have it automatically install them? Something that isn&#8217;t a security issue conceivable way ?</p>
<div class=post>[<i>You already know the answer to this; you just posted the comment to show off. Don&#8217;t make me bring back the nitpicker&#8217;s corner. -Raymond</i>]</div>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-552373">
				<div id="div-comment-552373" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">James Schend</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20070920-00/?p=25043#comment-552373">
			September 21, 2007 at 11:46 am</a>		</div>

		<p>&gt; You can&#8217;t protect the user from deleting his own documents &quot;with a batch file&quot;. If you can</p>
<p>&gt; &#8216;trick him&#8217; into running a batch file with his own permission, then can you could trick him in</p>
<p>&gt; doing any other things as well, for example running an executable that is using file sytem</p>
<p>&gt; calls to do any amount of damage, or prompt him for password. &nbsp;Strawman argument.</p>
<p>Maybe it&#8217;s a &quot;strawman&quot; argument, I don&#8217;t really know. Think about it from a usability perspective for the average user though.</p>
<p>The fact is that right now &quot;security&quot; in the computer world means two things:</p>
<p>1) A user can&#8217;t mess with the OS</p>
<p>2) A user can&#8217;t mess with another user&#8217;s settings/files</p>
<p>Those are fine goals (especially the second one), but neither help if you accidentally type &quot;del *.*&quot; in a terminal window.</p>
<p>Most of the people here are programmers. We&#8217;ve seen technology (source control) that can keep track of every change to a file, roll back to any point in history, even keep track of deleted files and bring them back if necessary. Why isn&#8217;t this a *standard* feature in every OS for every file? It&#8217;s a complete no-brainer.</p>
<p>Say there&#8217;s no tricking involved, say you just made a simple mistake, drag the wrong file. Office apps have Undo, why shouldn&#8217;t the entire OS? You should always be able to restore older versions of a file, or bring a file back from being deleted (whether it was deleted with file system calls or by being thrown in the trash) as long as HD space allows. And for most users now (the ones who basically just surf the web and maybe use iTunes or a digicam), HD space will allow a LOT of history.</p>
<p>The things the security model protects now, the OS and programs in the Program Files folder, cost nothing but time&#8211; a user can re-install them from the CD in a couple hours. But the files in their personal documents could be invaluable. All these security features are totally bass-ackwards, if you ask me. They should protect the most valuable data first, and the re-installable stuff second.</p>
<p>You&#8217;re also ignoring that once a user runs a program, they have no way to know what that program is actually doing. Sure I&#8217;m giving HappyScreenSaver permission to run, but when I do that, I have no clue that it&#8217;s going to wipe My Documents, and the OS sure as hell won&#8217;t tell me.</p>
<p>End rant, sorry.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-552593">
				<div id="div-comment-552593" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Triangle</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20070920-00/?p=25043#comment-552593">
			September 21, 2007 at 7:13 pm</a>		</div>

		<p>I don&#8217;t know the answer, as I haven&#8217;t tried yet on any Vista PCs. Also I wasn&#8217;t trying to show off, since a blog isn&#8217;t the appropriate place for that. But apparently I shouldn&#8217;t have. So I apologize.</p>
<p>Please don&#8217;t bring back the nitpickers corner.</p>
<div class=post>[<i>Obviously, the administrators approved the installation of drivers that come with Windows when they installed Windows. -Raymond</i>]</div>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-553013">
				<div id="div-comment-553013" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Michiel</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20070920-00/?p=25043#comment-553013">
			September 24, 2007 at 11:40 am</a>		</div>

		<p>I do keep wondering why a user is allowed to call CM_Request_Device_Eject but not send IOCTL_STORAGE_EJECT_MEDIA.</p>
<p>(Both can be used to unmount USB Mass Storage devices, the device itself isn&#8217;t informed in the latter case.)</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-553363">
				<div id="div-comment-553363" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">nksingh</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20070920-00/?p=25043#comment-553363">
			September 24, 2007 at 8:57 pm</a>		</div>

		<p>@Michiel:</p>
<p>Not 100% sure about this, but if two users were using the USB drive on the same machine, the second IOCTL could cause another user to lose data, which would be unacceptable. &nbsp;The earlier one may not suffer from this risk.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-553493">
				<div id="div-comment-553493" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://www.pagetable.com/' rel='external nofollow' class='url'>Myria</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20070920-00/?p=25043#comment-553493">
			September 25, 2007 at 5:03 am</a>		</div>

		<p>This is the same reason that mandatory driver signing is absurd for any reason but DRM. &nbsp;If you can install a kernel driver, the system is already taken over.</p>
<p>It&#8217;s really a protection against fake sound card drivers, not rootkits as claimed in Microsoft marketspeak.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-553913">
				<div id="div-comment-553913" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://qstuff.blogspot.com' rel='external nofollow' class='url'>Justin Olbrantz (Quantam)</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20070920-00/?p=25043#comment-553913">
			September 25, 2007 at 8:40 pm</a>		</div>

		<p>@Myria</p>
<p>Obviously the assumption is that if a driver is signed, it has been reviewed and is stable and secure. As long as this assumption is true, then it doesn&#8217;t matter what signed driver you install; you won&#8217;t be able to use it to install an unsigned driver, because that&#8217;s a security hole (were you planning on writing a driver, magically loading it without getting it signed, then using it as a back door to load unsigned drivers like you said?). More generally, the entire system will be more secure and stable if you cannot load unsigned drivers (again dependant on that assumption being true).</p>
<p>I&#8217;ll leave debate of the assumption itself to others.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-553923">
				<div id="div-comment-553923" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://lambert.geek.nz/' rel='external nofollow' class='url'>Miral</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20070920-00/?p=25043#comment-553923">
			September 25, 2007 at 9:10 pm</a>		</div>

		<p>I hang around installer forums a fair amount, and the standard assumption on most people&#8217;s part when coming in seems to be &quot;I want to store my data files in the application folder. &nbsp;Vista (or XP-LUA) doesn&#8217;t let me do that. &nbsp;So how do I change the file permissions to let me?&quot;</p>
<p>The thing is, no matter how many times you tell people not to do that, they keep coming.</p>
<p>(The other common one is &quot;I want my normal users to be able to upgrade this program from a web download, without having to elevate&quot;. &nbsp;Cue loud screaming noises from the security-conscious.)</p>

		
				</div>
		</li><!-- #comment-## -->
		</ol><!-- .comment-list -->

		<div class="navigation pagination">
					</div>

	
			<p class="no-comments">Comments are closed.</p>
<!-- COMMENTS END -->
</div></td></tr></table>