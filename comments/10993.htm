<table class="commenttable" cellspacing="0" cellpadding="0"><tr><td><div class="commentdiv"><div class="commentdivhdr">
<!-- COMMENTS START -->
Comments (4)	</div>

	
			<div class="navigation pagination clear-both">
					</div>

		<ol class="comment-list">
					<li class="comment even thread-even depth-1" id="comment-906473">
				<div id="div-comment-906473" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Thomas</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20110408-00/?p=10993#comment-906473">
			April 8, 2011 at 10:29 am</a>		</div>

		<p>There&#39;s a typo in your post: you&#39;ve not escaped the angle brackets on the static_cast (this means the &quot;logfile*&quot; doesn&#39;t appear when viewing your post, and for added fun breaks livejournal&#39;s RSS parser).</p>
<div class="post">[<i>Fixed. Thanks. This is what happens when I write an article the night before rather than letting it age for 18 months. -Raymond</i>]</div>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-906523">
				<div id="div-comment-906523" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Thorsten</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20110408-00/?p=10993#comment-906523">
			April 9, 2011 at 12:39 am</a>		</div>

		<p>My solution was obviously unnecessary complex for this particular problem. The reason for that was that I simple posted the solution I implemented for a similar but not identical problem. The major differences in my case are:</p>
<ul>
<li>
<p>there is not just one &quot;singleton manager&quot;, instead I basically got one per object instance in the process</p>
</li>
<li>
<p>in the overwhelming majority of cases it&#39;s not actually going to be used, so it shouldn&#39;t preallocated anything</p>
</li>
<li>
<p>it is not know ahead of time how many or what type of singletons are going to be used</p>
</li>
</ul>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-906583">
				<div id="div-comment-906583" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">GWO</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20110408-00/?p=10993#comment-906583">
			April 11, 2011 at 1:59 am</a>		</div>

		<p>There is an orthogonal question, the answer to which I have no idea about. &nbsp;Under what circumstances is the lock-free version of the singleton manager more performant than one which wraps access inside a critical section?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-906693">
				<div id="div-comment-906693" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Ray Trent</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20110408-00/?p=10993#comment-906693">
			April 11, 2011 at 10:43 am</a>		</div>

		<p>Ahh, I fell prey to the old trap of coming up with an answer to the problem as stated without asking &quot;what are you really trying to do?&quot;. To be fair, this use of the word &quot;singleton&quot; is fairly non-standard.</p>

		
				</div>
		</li><!-- #comment-## -->
		</ol><!-- .comment-list -->

		<div class="navigation pagination">
					</div>

	
			<p class="no-comments">Comments are closed.</p>
<!-- COMMENTS END -->
</div></td></tr></table>