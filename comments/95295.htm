<table class="commenttable" cellspacing="0" cellpadding="0"><tr><td><div class="commentdiv"><div class="commentdivhdr">
<!-- COMMENTS START -->
Comments (15)	</div>

	
			<div class="navigation pagination clear-both">
					</div>

		<ol class="comment-list">
					<li class="comment even thread-even depth-1 parent" id="comment-1281975">
				<div id="div-comment-1281975" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Yuri Khan</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20170131-00/?p=95295#comment-1281975">
			January 31, 2017 at 7:12 am</a>		</div>

		<p>I see the disclaimer, but your numbers are about three orders of magnitude off. A charging phone might draw 1.2A.</p>

		
				</div>
		<ol class="children">
		<li class="comment odd alt depth-2 parent" id="comment-1282016">
				<div id="div-comment-1282016" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Trisk</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20170131-00/?p=95295#comment-1282016">
			January 31, 2017 at 9:24 am</a>		</div>

		<p>No doubt intentionally off, so that no one could possibly misconstrue them as contractual :)</p>

		
				</div>
		<ol class="children">
		<li class="comment byuser comment-author-oldnewthing bypostauthor even depth-3" id="comment-1282025">
				<div id="div-comment-1282025" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Raymond+Chen+-+MSFT' rel='external nofollow' class='url'>Raymond Chen - MSFT</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20170131-00/?p=95295#comment-1282025">
			January 31, 2017 at 9:39 am</a>		</div>

		<p>Um, yeah, that&#8217;s the ticket!</p>

		
				</div>
		</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
		<li class="comment byuser comment-author-bboorman odd alt thread-odd thread-alt depth-1 parent" id="comment-1281985">
				<div id="div-comment-1281985" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Brian_EE' rel='external nofollow' class='url'>Brian_EE</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20170131-00/?p=95295#comment-1281985">
			January 31, 2017 at 7:21 am</a>		</div>

		<p>Sure, the phone shouldn&#8217;t be drawing more current than what was negotiated but that&#8217;s only one side of the equation. (Note if you have the Surface 3 power brick, looks like you have bigger problems &#8211; check for the recall)</p>
<p>The power brick was ill designed if the internal controller shuts off power to the Surface when there is over-current on the USB phone-charging ports. All the ports should have independent load switches that are separate from the switch-mode AC/DC supply. Add a small microcontroller to monitor each port and only turn off what is mis-behaving. But, that is a few more parts and a few more pennies in cost and I&#8217;m sure the #1 requirement to the design team was &#8220;make it as cheap as possible&#8221;. That is the mantra of virtually all managers everywhere.</p>

		
				</div>
		<ol class="children">
		<li class="comment byuser comment-author-oldnewthing bypostauthor even depth-2" id="comment-1281995">
				<div id="div-comment-1281995" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Raymond+Chen+-+MSFT' rel='external nofollow' class='url'>Raymond Chen - MSFT</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20170131-00/?p=95295#comment-1281995">
			January 31, 2017 at 7:31 am</a>		</div>

		<p>I agree that there&#8217;s plenty of blame to go around. The primary purpose of this article was to make people aware of the issue since it&#8217;s the sort of thing that may go unnoticed (until you wonder why nothing is charging).</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt depth-2" id="comment-1282006">
				<div id="div-comment-1282006" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Ben Voigt (Visual Studio and Development Technologies MVP with C++ focus)</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20170131-00/?p=95295#comment-1282006">
			January 31, 2017 at 8:28 am</a>		</div>

		<p>A single microcontroller, even of the 8-bit variety, is plenty powerful enough to monitor and manage a dozen independent ports.  You just need the external circuitry.  Independent load switches are quite cheap actually, I suspect the cost savings came from measuring total current, so only one high-side current-sense amplifier is needed.  For per-port control, you need per-port current measurement, and thus multiple high-side sense amplifiers, which might actually have added several dollars to the BOM.</p>

		
				</div>
		</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1282005">
				<div id="div-comment-1282005" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://coursepad.com' rel='external nofollow' class='url'>Li Huan</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20170131-00/?p=95295#comment-1282005">
			January 31, 2017 at 7:44 am</a>		</div>

		<p>Had this overcurrent issue with a particular USB cable. Used the original Lumia USB cable and everything gets charged.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1 parent" id="comment-1282035">
				<div id="div-comment-1282035" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Dmitry</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20170131-00/?p=95295#comment-1282035">
			January 31, 2017 at 3:49 pm</a>		</div>

		<p>Why power brick can not limit that stupid phone current to agreed 1.2mA?</p>

		
				</div>
		<ol class="children">
		<li class="comment even depth-2 parent" id="comment-1282045">
				<div id="div-comment-1282045" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Matteo Italia</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20170131-00/?p=95295#comment-1282045">
			January 31, 2017 at 4:03 pm</a>		</div>

		<p>That would mean lowering the output voltage, which is a Bad Thing as it could damage the phone.</p>

		
				</div>
		<ol class="children">
		<li class="comment odd alt depth-3" id="comment-1282075">
				<div id="div-comment-1282075" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Ismo</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20170131-00/?p=95295#comment-1282075">
			January 31, 2017 at 9:23 pm</a>		</div>

		<p>Limiting current can be done by using pwm, measuring  current when &#8220;on state&#8221; and adjusting the pulse ratio accordingly. That way no undervoltage condition exists. But dunno what that would do for a phone. The best solution was already given : measure each load individually.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even depth-3 parent" id="comment-1282165">
				<div id="div-comment-1282165" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Douglas Hill</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20170131-00/?p=95295#comment-1282165">
			February 1, 2017 at 10:19 am</a>		</div>

		<p>Actually, depending on what kind of charger it is, that&#8217;s what it&#8217;s supposedâ€  to do.</p>
<p>The USB Battery Charging spec has DCPs (the dumb/cheap ones) short the D+ and D- pins together (anything under 200 ohms counts as a short). On overload, the charger isn&#8217;t _required_ to current-limit, it is _allowed_ to shut off, but current limiting is the better thing to do. Go search for &#8220;DCP required operating range&#8221; to get a nice diagram. Essentially, it has to provide at least 0.5 A before current limiting to at least 2.0 V before shutting off. Above 1.5 A it can shutoff at any point.</p>
<p>For CDPs (the smarter-ish ones), the charger has to be able to provide at least 1.5 A before current limiting or shutoff. Again, search &#8220;CDP required operating range&#8221; to get a nice diagram.</p>
<p>So what a phone does is it sees the charger is a DCP or CDP and draws, say, 0.5 A. It then increases that by 0.1 A (okay, it&#8217;s more complicated to describe than that) and checks if the voltage has dropped significantly. If the voltage hasn&#8217;t dropped, it keeps going until it does (or the phone can&#8217;t draw any more). When it sees the voltage start to drop, it backs off just a little.</p>
<p>So that strategy works _really well_ when the charger limits the current, and fails spectacularly when the charger shuts off on overload, giving you the behavior discussed in the article.</p>
<p>â€  &#8220;supposed to&#8221; i.e. &#8220;OUGHT TO&#8221; from RFC 6919. It&#8217;s what all right-thinking sensible people would do. (sarcasm)</p>

		
				</div>
		<ol class="children">
		<li class="comment odd alt depth-4 parent" id="comment-1282615">
				<div id="div-comment-1282615" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">DNH</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20170131-00/?p=95295#comment-1282615">
			February 4, 2017 at 12:32 pm</a>		</div>

		<p>I have needed to return four MS Band 2 devices so far. They all started having problems with charging. I&#8217;ve been thinking the problem maybe correlated with business trips, when I&#8217;ve used the Surface brick to get USB power for the band. With my latest device I have avoided using the Surface brick to charge it and so far, no problems. Could this be related?</p>

		
				</div>
		<ol class="children">
		<li class="comment even depth-5" id="comment-1282745">
				<div id="div-comment-1282745" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Mark S</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20170131-00/?p=95295#comment-1282745">
			February 6, 2017 at 7:52 am</a>		</div>

		<p>Not likely &#8212; the battery is in the clasp, and the wiring inside the band itself seems to wear out over time from the constant flexing and pressure.  I&#8217;ve gone through four too now.  At some point they did a hardware revision that thickened the rubber, but it didn&#8217;t help.</p>
<p>For me, I suspect the sleep tracking is what does the most damage, since I sleep with my hands under my pillow which presumably puts a lot of strain on the band.  So I stopped doing that since there&#8217;s no more replacements.</p>
<p>Damn shame, because the band 2 was awesome, but now it&#8217;s just another in a long list of MS products that were ahead of their time but poorly marketed and slightly flawed.</p>
<p><a href="http://winsupersite.com/microsoft-band/one-possible-reason-microsoft-band-2-battery-problems" rel="nofollow">http://winsupersite.com/microsoft-band/one-possible-reason-microsoft-band-2-battery-problems</a><br />
<a href="http://winsupersite.com/microsoft-band/managing-my-second-band-2-defect-dead-battery-message" rel="nofollow">http://winsupersite.com/microsoft-band/managing-my-second-band-2-defect-dead-battery-message</a></p>

		
				</div>
		</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
		<li class="comment odd alt thread-even depth-1 parent" id="comment-1282645">
				<div id="div-comment-1282645" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">David van Leerdam</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20170131-00/?p=95295#comment-1282645">
			February 5, 2017 at 6:59 am</a>		</div>

		<p>Typical story for this decade. Products and services (half) broken out of box is the new normal. This particular issue has been there all the time and people have been complaining over this ever since. So please don&#8217;t act as if this is something newly discovered. Much appreciated.</p>

		
				</div>
		<ol class="children">
		<li class="comment even depth-2" id="comment-1282915">
				<div id="div-comment-1282915" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">zboot</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20170131-00/?p=95295#comment-1282915">
			February 6, 2017 at 12:48 pm</a>		</div>

		<p>How do you know this post wasn&#8217;t written two years ago?</p>

		
				</div>
		</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
		</ol><!-- .comment-list -->

		<div class="navigation pagination">
					</div>

	
			<p class="no-comments">Comments are closed.</p>
<!-- COMMENTS END -->
</div></td></tr></table>