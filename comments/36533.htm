<table class="commenttable" cellspacing="0" cellpadding="0"><tr><td><div class="commentdiv"><div class="commentdivhdr">
<!-- COMMENTS START -->
Comments (17)	</div>

	
			<div class="navigation pagination clear-both">
					</div>

		<ol class="comment-list">
					<li class="comment even thread-even depth-1" id="comment-252663">
				<div id="div-comment-252663" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://msdn.microsoft.com/library/default.asp?url=/library/en-us/fileio/base/findclose.asp?frame=true' rel='external nofollow' class='url'>DrPizza</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050203-00/?p=36533#comment-252663">
			February 3, 2005 at 7:42 am</a>		</div>

		<p>&quot;Since there is no &quot;Find close&quot; function&quot;</p>
<p>Huh?<br /></p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-252683">
				<div id="div-comment-252683" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://weblogs.asp.net/oldnewthing/' rel='external nofollow' class='url'>Raymond Chen</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050203-00/?p=36533#comment-252683">
			February 3, 2005 at 8:06 am</a>		</div>

		<p>That was in the context of MS-DOS. There is no &quot;Find close&quot; function in MS-DOS.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-252693">
				<div id="div-comment-252693" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Ben Hutchings</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050203-00/?p=36533#comment-252693">
			February 3, 2005 at 8:07 am</a>		</div>

		<p>DrPizza: <a target="_new" href="http://msdn.microsoft.com/library/en-us/fileio/base/findclose.asp" rel="nofollow">http://msdn.microsoft.com/library/en-us/fileio/base/findclose.asp</a></p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-252703">
				<div id="div-comment-252703" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">DrPizza</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050203-00/?p=36533#comment-252703">
			February 3, 2005 at 8:12 am</a>		</div>

		<p>Ben: check out the URL I used for my comment.</p>
<p>Raymond: Oh, I see.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-252713">
				<div id="div-comment-252713" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">fragmentation</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050203-00/?p=36533#comment-252713">
			February 3, 2005 at 8:19 am</a>		</div>

		<p>Another reason to enumerate all entries in a directory before recurse into subdirectories was perfomance. If you didn&#8217;t load smartdrv in DOS, the difference was very noticeable because directory entries is usually located near each other (same cluster usually) but far from subdir entries.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-252773">
				<div id="div-comment-252773" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">A</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050203-00/?p=36533#comment-252773">
			February 3, 2005 at 9:52 am</a>		</div>

		<blockquote><p>
  You also saw this from a Win32 program if you were enumerating against an older network server that was designed for MS-DOS clients (and which therefore doesn&#8217;t implement FindClose). </p>
<p>Do Windows 95 and NT 4.0 count as &quot;older network servers&quot;, or is it safe to assume that all 32-bit versions of Windows handle FindClose correctly over a network?
</p></blockquote>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-252783">
				<div id="div-comment-252783" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://weblogs.asp.net/oldnewthing/' rel='external nofollow' class='url'>Raymond Chen</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050203-00/?p=36533#comment-252783">
			February 3, 2005 at 9:56 am</a>		</div>

		<p>You are in better shape if both the server and client are running 32-bit operating systems.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-252813">
				<div id="div-comment-252813" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">anonymous</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050203-00/?p=36533#comment-252813">
			February 3, 2005 at 10:51 am</a>		</div>

		<blockquote><p>
  You can still use depth-first enumeration while avoiding the abandonment problem. Instead of recursing into a directory immediately after enumerating it, save it on a list. When you are finished enumerating the files in a directory, go back and process the list.</p>
<p>Um, isn&#8217;t that breadth-first enumeration, then?
</p></blockquote>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-252823">
				<div id="div-comment-252823" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://weblogs.asp.net/oldnewthing/' rel='external nofollow' class='url'>Raymond Chen</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050203-00/?p=36533#comment-252823">
			February 3, 2005 at 11:00 am</a>		</div>

		<p>No. You still recurse on all children before returning.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-252863">
				<div id="div-comment-252863" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Jon Potter</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050203-00/?p=36533#comment-252863">
			February 3, 2005 at 2:58 pm</a>		</div>

		<p>So you are just changing the order the children are recursed on (as if the subfolders all appeared at the end of the list instead of interspersed with files).</p>
<p></p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-252883">
				<div id="div-comment-252883" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://www.livejournal.com/~deadracoon' rel='external nofollow' class='url'>Ivan Rouzanov</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050203-00/?p=36533#comment-252883">
			February 3, 2005 at 3:21 pm</a>		</div>

		<p>Yet another reason for DOS programs to do depth-first search was memory considerations. We did not have a lot of memory back than so it was cool to not maintain any &quot;state&quot; or list and just do all the work in one scan processing just one file name at a time.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-252873">
				<div id="div-comment-252873" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://weblogs.asp.net/oldnewthing/' rel='external nofollow' class='url'>Raymond Chen</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050203-00/?p=36533#comment-252873">
			February 3, 2005 at 3:01 pm</a>		</div>

		<p>Yup. And if your per-file action is slow, you may want to throw *everything* onto the list, close the find handle, then go back and process the list. In that case, you process the list in exactly the same order they came out of the enumerator originally &#8211; no change in order.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-253063">
				<div id="div-comment-253063" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://bogol.blogspot.com' rel='external nofollow' class='url'>HA HA HA</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050203-00/?p=36533#comment-253063">
			February 4, 2005 at 10:39 am</a>		</div>

		<p>&#8216;clairEvoyance&#8217;? jeez chen ur letin me dwon here!</p>
<p><a target="_new" href="http://onelook.com/?w=clairevoyance&amp;ls=a" rel="nofollow">http://onelook.com/?w=clairevoyance&#038;ls=a</a></p>
<p>id aslo liek to sugest in the secand-to-last paragraph chagning &#8216;abandonment problem&#8217; to &#8216;abandonment issues&#8217;. but i gues tahts a lower proirity.<br /></p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-253073">
				<div id="div-comment-253073" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://weblogs.asp.net/larryosterman/archive/2005/02/04/367259.aspx' rel='external nofollow' class='url'>Larry Osterman's WebLog</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050203-00/?p=36533#comment-253073">
			February 4, 2005 at 2:07 pm</a>		</div>

		
		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-254083">
				<div id="div-comment-254083" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://www.neocranium.com/jasonw' rel='external nofollow' class='url'>Jason Whittington</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050203-00/?p=36533#comment-254083">
			February 9, 2005 at 8:42 am</a>		</div>

		<p>So given that we all agree that breadth-first is better, why do so many programs like findstr /s or dir /s do depth-first? Seems like any time I use dir /s to find a file it gets mired down in Temporary Internet Files or some similar dumb deep directory.  I find myself cursing at it wishing it was going breadth-first instead of depth-first.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-254103">
				<div id="div-comment-254103" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://weblogs.asp.net/oldnewthing' rel='external nofollow' class='url'>Raymond Chen</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050203-00/?p=36533#comment-254103">
			February 9, 2005 at 9:32 am</a>		</div>

		<p>Because human beings prefer seeing things depth-first.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-254273">
				<div id="div-comment-254273" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Rob</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050203-00/?p=36533#comment-254273">
			February 9, 2005 at 8:01 pm</a>		</div>

		<p>I think someone might have missed this lesson when writing the &quot;Find Files&quot; feature for Windows XP. Obviously I&#8217;m trolling, but frankly it worked much better 10 years ago in terms of both speed and accuracy. I&#8217;d love an explanation.</p>

		
				</div>
		</li><!-- #comment-## -->
		</ol><!-- .comment-list -->

		<div class="navigation pagination">
					</div>

	
			<p class="no-comments">Comments are closed.</p>
<!-- COMMENTS END -->
</div></td></tr></table>