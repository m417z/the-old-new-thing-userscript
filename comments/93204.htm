<table class="commenttable" cellspacing="0" cellpadding="0"><tr><td><div class="commentdiv"><div class="commentdivhdr">
<!-- COMMENTS START -->
Comments (18)	</div>

	
			<div class="navigation pagination clear-both">
					</div>

		<ol class="comment-list">
					<li class="comment byuser comment-author-dwalker-wk even thread-even depth-1" id="comment-1231494">
				<div id="div-comment-1231494" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/DWalker' rel='external nofollow' class='url'>DWalker</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20160328-00/?p=93204#comment-1231494">
			March 28, 2016 at 8:40 am</a>		</div>

		<p>I remember EMS and XMS memory!  Good times.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-dwalker-wk odd alt thread-odd thread-alt depth-1 parent" id="comment-1231501">
				<div id="div-comment-1231501" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/DWalker' rel='external nofollow' class='url'>DWalker</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20160328-00/?p=93204#comment-1231501">
			March 28, 2016 at 8:41 am</a>		</div>

		<p>I remember EMS and XMS memory!   Good times.</p>

		
				</div>
		<ol class="children">
		<li class="comment even depth-2" id="comment-1231513">
				<div id="div-comment-1231513" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">AK</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20160328-00/?p=93204#comment-1231513">
			March 28, 2016 at 9:04 am</a>		</div>

		<p>Oh yeah, separate versions of CONFIG.SYS for different combinations and parameters of HIMEM.SYS and EMM386.EXE. Good times&#8230;!</p>

		
				</div>
		</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
		<li class="comment odd alt thread-even depth-1" id="comment-1231521">
				<div id="div-comment-1231521" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Yukkuri</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20160328-00/?p=93204#comment-1231521">
			March 28, 2016 at 10:32 am</a>		</div>

		<p>&gt; Later during the execution of the program, it would ask for still more memory, and if the call succeeded, the program crashed!</p>
<p>I asked for the world, yes. But I didn&#8217;t expect you to actually give it to me!</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-odd thread-alt depth-1" id="comment-1231514">
				<div id="div-comment-1231514" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Yukkuri</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20160328-00/?p=93204#comment-1231514">
			March 28, 2016 at 10:33 am</a>		</div>

		<p>&gt; Later during the execution of the program, it would ask for still more memory, and if the call succeeded, the program crashed!</p>
<p>I asked for the world, yes. But I didn&#8217;t expect you to actually give it to me!</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-even depth-1" id="comment-1231541">
				<div id="div-comment-1231541" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Joshua</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20160328-00/?p=93204#comment-1231541">
			March 28, 2016 at 11:47 am</a>		</div>

		<p>Well sometimes you can do your job too good.</p>
<p>There was this guy who tried to run our motor exercise management software on Windows 95 instead of DOS like he should have. Unfortunately, while the software does run, the hard-realtime hardware management loop is no longer realtime. That guy was seriously risking a broken arm. No version of Windows was authorized for a reason.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-odd thread-alt depth-1" id="comment-1231523">
				<div id="div-comment-1231523" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://blog.differentpla.net' rel='external nofollow' class='url'>Roger Lipscombe</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20160328-00/?p=93204#comment-1231523">
			March 28, 2016 at 12:14 pm</a>		</div>

		<p>Not strictly relevant to the Windows DPMI implementation, but in terms of DPMI implementation &#8220;issues&#8221;&#8230;</p>
<p>Way back when, I was greatly enjoying the original Grand Theft Auto (which actually came in two versions, one for DOS, and one for Windows 95). The DOS version (which I preferred; it was slightly faster) shipped with the DOS/4GW extender.</p>
<p>At one point, I upgraded the memory in my PC and suddenly GTA wouldn&#8217;t run any more. If I took half the memory out, it ran fine. I started digging into the release notes for DOS4GW to see if there was a recent patch that might fix my problem. One of the items was something along the lines of &#8220;increased maximum supported virtual memory to 64MB&#8221;.</p>
<p>&#8220;Hmmm&#8221;, says I, and I drop them an email: &#8220;What if I&#8217;ve got 64MB of *physical* memory?&#8221;. A little while later, comes the sheepish reply: &#8220;Ah. We didn&#8217;t test that&#8230;&#8221;.</p>
<p>Cue me feeling slightly smug that I had more memory than the people who wrote the DOS extenders for some of my favourite games&#8230;</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-even depth-1" id="comment-1231552">
				<div id="div-comment-1231552" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://blog.differentpla.net/' rel='external nofollow' class='url'>Roger Lipscombe</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20160328-00/?p=93204#comment-1231552">
			March 28, 2016 at 12:57 pm</a>		</div>

		<p>Not strictly relevant to the Windows DPMI implementation, but in terms of DPMI implementation &#8220;issues&#8221;&#8230; Way back when, I was greatly enjoying the original Grand Theft Auto (which actually came in two versions, one for DOS, and one for Windows 95). The DOS version (which I preferred; it was slightly faster) shipped with the DOS/4GW extender. At one point, I upgraded the memory in my PC and suddenly GTA wouldn&#8217;t run any more. If I took half the memory out, it ran fine. I started digging into the release notes for DOS4GW to see if there was a recent patch that might fix my problem. One of the items was something along the lines of &#8220;increased maximum supported virtual memory to 64MB&#8221;. &#8220;Hmmm&#8221;, says I, and I drop them an email: &#8220;What if I&#8217;ve got 64MB of *physical* memory?&#8221;. A little while later, comes the sheepish reply: &#8220;Ah. We didn&#8217;t test that&#8230;&#8221;. Cue me feeling slightly smug that I had more memory than the people who wrote the DOS extenders for some of my favourite games&#8230;</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-yuhong-bao even thread-odd thread-alt depth-1 parent" id="comment-1231553">
				<div id="div-comment-1231553" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Yuhong+Bao' rel='external nofollow' class='url'>Yuhong Bao</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20160328-00/?p=93204#comment-1231553">
			March 28, 2016 at 4:52 pm</a>		</div>

		<p>I think most of the time for games it was a *deliberate decision* to only support running under pure DOS. Of course, if MS and IBM actually worked together and OS/2 2.x actually replaced DOS/Windows, it is unlikely that DOS gaming would last as long as it did.</p>

		
				</div>
		<ol class="children">
		<li class="comment odd alt depth-2 parent" id="comment-1231563">
				<div id="div-comment-1231563" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Scarlet Manuka</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20160328-00/?p=93204#comment-1231563">
			March 29, 2016 at 1:42 am</a>		</div>

		<p>You&#8217;re probably right; supporting running under Windows would have meant a lot of extra support work compared to just telling people how to make a DOS mode boot floppy which loaded minimal extra stuff, which was the option most games of the time took.</p>
<p>I did prefer to boot to real DOS rather than using MS-DOS Mode from Windows for playing DOS games. Some games were fine in MS-DOS mode but many had subtle issues &#8211; I forget the details, though I suspect sound was involved in a lot of them. It was easier just to boot to DOS with an appropriate config. (I had five configs defined &#8211; four DOS ones depending on whether we wanted CD and/or EMS drivers loaded, and one for Windows which was similar to the no CD, no EMS one but ran Windows in the autoexec. The tricky part was that my soundcard needed EMS for one of its emulation modes, so if I was running without EMS and wanted to play a game that was set up for that mode, I&#8217;d have to reboot and change configs.)</p>
<p>I kept doing that until I finally abandoned Win98 for XP and started using DOSBox. Of course by that time I also didn&#8217;t have the soundcard with the complicated behaviour.</p>

		
				</div>
		<ol class="children">
		<li class="comment byuser comment-author-yuhong-bao even depth-3 parent" id="comment-1231733">
				<div id="div-comment-1231733" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Yuhong+Bao' rel='external nofollow' class='url'>Yuhong Bao</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20160328-00/?p=93204#comment-1231733">
			March 29, 2016 at 1:34 pm</a>		</div>

		<p>&#8220;MS-DOS mode&#8221; is real DOS, and Win9x did ship with EMM386.</p>

		
				</div>
		<ol class="children">
		<li class="comment odd alt depth-4" id="comment-1231773">
				<div id="div-comment-1231773" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Scarlet Manuka</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20160328-00/?p=93204#comment-1231773">
			March 29, 2016 at 8:45 pm</a>		</div>

		<p>Sorry, you&#8217;re right about MS-DOS Mode, I misspoke; I was thinking more of running DOS applications within Windows (though I did have the impression that there were still a few problems I encountered with MS-DOS Mode, but I could easily be mistaken there). I did avoid using MS-DOS Mode as well, but that was mainly for the convenience &#8211; easier to boot into plain DOS, rebooting as necessary to change configs, than to boot into Windows and then reboot into MS-DOS Mode.</p>
<p>I&#8217;m not sure what your point is about Win9x and EMM386. I never claimed otherwise, it&#8217;s just that for some games you had to really squeeze out every bit of conventional memory possible. (Loading as much you could into the HMA helped a lot.) I think some of them also required EMS not to be running, but it&#8217;s been long enough ago that I don&#8217;t remember exactly.</p>

		
				</div>
		</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
		<li class="comment even depth-2" id="comment-1231734">
				<div id="div-comment-1231734" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">smf</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20160328-00/?p=93204#comment-1231734">
			March 29, 2016 at 4:00 pm</a>		</div>

		<p>&#8220;Of course, if MS and IBM actually worked together and OS/2 2.x actually replaced DOS/Windows, it is unlikely that DOS gaming would last as long as it did.&#8221;</p>
<p>Even XP had an improved DOS emulation to persuade people to switch from Windows 98. So I doubt it would have made much difference.</p>

		
				</div>
		</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
		<li class="comment odd alt thread-even depth-1" id="comment-1231614">
				<div id="div-comment-1231614" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Neil</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20160328-00/?p=93204#comment-1231614">
			March 29, 2016 at 4:55 am</a>		</div>

		<p>I remember one application that originally used a VCPI extender, so under Windows you had to run the 80286 version (which used EMS) instead. The application was later bought by Microsoft, and the next version used a DPMI extender. Sadly we didn&#8217;t discover the magic setting that limited the memory to the amount of physical RAM so we had to fake it by minimising the size of the page file.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-archangelpip even thread-odd thread-alt depth-1" id="comment-1231633">
				<div id="div-comment-1231633" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Darran+Rowe' rel='external nofollow' class='url'>Darran Rowe</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20160328-00/?p=93204#comment-1231633">
			March 29, 2016 at 9:07 am</a>		</div>

		<p>Raymond: is your post running late today?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-even depth-1" id="comment-1231813">
				<div id="div-comment-1231813" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Ivan K</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20160328-00/?p=93204#comment-1231813">
			March 30, 2016 at 3:12 am</a>		</div>

		<p>Growing older I think I missed the transition zone between using a boot disk vs. Dos from win95. DirectX (3, then 5) was the thing killed dos mode and made Win95 and beyond a gaming platform for me. The first pc I ever bought with my own money was a win95 machine, and seeing it run &#8220;the game&#8221; in DirextX vs Dos made my dos boot disks bitrot.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-odd thread-alt depth-1" id="comment-1231873">
				<div id="div-comment-1231873" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Dave Oldcorn</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20160328-00/?p=93204#comment-1231873">
			March 30, 2016 at 12:17 pm</a>		</div>

		<p>&gt;These issues were called out in the DPMI documentation, but since the applications assumed that they were running under their built-in extender, they figured that the warnings in the DPMI documentation didnâ€™t apply to them.<br />
If you had the DPMI documentation&#8230; most of us just had whatever documentation came with Watcom for DOS/4GW, which if I remember right wasn&#8217;t much, and this was in the very nascent days of the internet, when &#8216;standard&#8217; specs were a bit harder to come by. And that&#8217;s if you even used DPMI memory management explicitly rather than relying on the compiler&#8217;s malloc. (I didn&#8217;t. I did use the interrupt management capabilities, for sound cards, but that was about it when it came to explicitly talking to DPMI).</p>
<p>I was rather surprised when I dug later on and found a lot more DPMI existed than DOS/4GW supported. I&#8217;m not sure if the game had already shipped by that point&#8230;</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-yuhong-bao odd alt thread-even depth-1" id="comment-1232344">
				<div id="div-comment-1232344" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Yuhong+Bao' rel='external nofollow' class='url'>Yuhong Bao</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20160328-00/?p=93204#comment-1232344">
			April 4, 2016 at 5:13 pm</a>		</div>

		<p>This also reminds me of real mode paging where hardware interrupt handlers has to be page locked.</p>

		
				</div>
		</li><!-- #comment-## -->
		</ol><!-- .comment-list -->

		<div class="navigation pagination">
					</div>

	
			<p class="no-comments">Comments are closed.</p>
<!-- COMMENTS END -->
</div></td></tr></table>