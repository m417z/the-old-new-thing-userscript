<table class="commenttable" cellspacing="0" cellpadding="0"><tr><td><div class="commentdiv"><div class="commentdivhdr">
<!-- COMMENTS START -->
Comments (14)	</div>

	
			<div class="navigation pagination clear-both">
					</div>

		<ol class="comment-list">
					<li class="comment even thread-even depth-1" id="comment-823683">
				<div id="div-comment-823683" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">James Schend</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20100331-00/?p=14443#comment-823683">
			March 31, 2010 at 9:07 am</a>		</div>

		<p>If anybody reading this hasn&#8217;t had the pleasure of doing web development, let me just make it clear that every aspect of web development is exactly like this example! Every single aspect.</p>
<p>Baffling standards, wrongly-implemented, woefully incomplete for real-world use.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-823723">
				<div id="div-comment-823723" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">webdev</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20100331-00/?p=14443#comment-823723">
			March 31, 2010 at 1:10 pm</a>		</div>

		<p>@James Schend</p>
<p>Couldn&#8217;t agree more. Web development is 95% compensating for bad frameworks/browsers, and 5% being productive/creative.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-823733">
				<div id="div-comment-823733" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://alvaro.es/' rel='external nofollow' class='url'>&#193;lvaro G. Vicario</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20100331-00/?p=14443#comment-823733">
			March 31, 2010 at 1:57 pm</a>		</div>

		<p>Last but not least, we have the &quot;it works in my browser so it must be valid&quot; school of thought :)</p>
<p>A nice and instructive article. Nuff said.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-823753">
				<div id="div-comment-823753" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://www.mgk.ro' rel='external nofollow' class='url'>Aram Hăvărneanu</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20100331-00/?p=14443#comment-823753">
			March 31, 2010 at 3:15 pm</a>		</div>

		<p>How do you know all this stuff since you do rather low-level C stuff?</p>
<p>I imagine you needed to do some quick web think and was hit by the pain&#8230;</p>
<div class=post>[<i>Sorry, didn&#8217;t realize I was allowed to know about only one thing. -Raymond</i>]</div>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-823783">
				<div id="div-comment-823783" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Tom</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20100331-00/?p=14443#comment-823783">
			March 31, 2010 at 3:48 pm</a>		</div>

		<p>Douglas Crockford, inventor of JSON: &quot;The Web is broken and we need to fix it. &nbsp;&#8230; the Web is so poorly specified. &nbsp;The specifications were incomplete and were largely misinterpreted and many of those misinterpretations have become part of the canon.&quot; &nbsp;From his interview in the book <em>Coders at Work</em>.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-823793">
				<div id="div-comment-823793" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Anonymous Coward</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20100331-00/?p=14443#comment-823793">
			March 31, 2010 at 3:51 pm</a>		</div>

		<p>I&#8217;ve done quite a bit of web scripting in my time, and in my opinion the people who came up with that standard, as well as those who followed it and left us with the mess we&#8217;re in today, should be shot.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-823803">
				<div id="div-comment-823803" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://henning.makholm.net/' rel='external nofollow' class='url'>Henning Makholm</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20100331-00/?p=14443#comment-823803">
			March 31, 2010 at 4:39 pm</a>		</div>

		<p>And woe is unto anybody whose users type non-English letters into form text fields. The browser will, in its infinite wisdom, choose some way to convert the non-English text into bytes, percent-encode those bytes, and then happily neglect to tell the server which charset it used.</p>
<p>The only decoding that seems to work in practice is that if the bytes look like a valid UTF-8 encoding, then it&#8217;s very likely UTF-8; otherwise it is probably ISO-8859-1 or possibly Windows-1252, and if the user types one of those (not very common) glyph sequences whose 8859-1 representations happen to be valid UTF-8 encodings of something else, then he may or may not deserve what he gets.</p>
<p>Of course there are probably other corner cases that this heuristic does not catch&#8230;</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-823813">
				<div id="div-comment-823813" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Random832</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20100331-00/?p=14443#comment-823813">
			March 31, 2010 at 6:51 pm</a>		</div>

		<p>There&#8217;s a standard that says it has to be UTF-8 regardless of the encoding being used for content. So any browser still using the system codepage for it is wrong.</p>
<p>There was also a proposal floating around for a while to use %uXXXX via UTF-16 &#8211; javascript escape() does this, I don&#8217;t know that anything else does.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-823843">
				<div id="div-comment-823843" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://www.goldwatches.com' rel='external nofollow' class='url'>Watches</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20100331-00/?p=14443#comment-823843">
			March 31, 2010 at 9:45 pm</a>		</div>

		<p>This is why so many security vulnerabilities exist in which protection methods are bypassed by encoding.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-823883">
				<div id="div-comment-823883" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Jonathan</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20100331-00/?p=14443#comment-823883">
			March 31, 2010 at 11:24 pm</a>		</div>

		<p>I think ASP.NET does %uXXXX too.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-823823">
				<div id="div-comment-823823" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">jalf</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20100331-00/?p=14443#comment-823823">
			March 31, 2010 at 7:17 pm</a>		</div>

		<p>And then of course, there are gems such as the RFC for IRC, which leaves the encoding **entirely unspecified**.</p>
<p>It&#8217;s up to the individual client which encoding they&#8217;d like to use, and there is absolutely no mechanism for even telling other clients (or the server) which encoding to expect.</p>
<p>But yes, URL encodings are fun times too.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-824223">
				<div id="div-comment-824223" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Grumpy</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20100331-00/?p=14443#comment-824223">
			April 3, 2010 at 6:29 am</a>		</div>

		<blockquote><p>
  I&#8217;ve done quite a bit of web scripting in my time, and in my opinion the people who came up with that standard, as well as those who followed it and left us with the mess we&#8217;re in today, should be shot.
</p></blockquote>
<p>Goes for EVERYONE who has ever done work on a &quot;standard&quot;. I&#8217;ve recently been slimed by a standard for document management and it&#8217;s&#8230; well&#8230; crap. Too much thought, too little reality. These fellers need to get out into the world and face reality once in a while. I realize this may reduce them to a pile of dust but no pain, no gain.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-824263">
				<div id="div-comment-824263" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">html</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20100331-00/?p=14443#comment-824263">
			April 3, 2010 at 12:32 pm</a>		</div>

		<p>@Grumpy</p>
<p>This was what motivated the HTML5 standard. The previous committees had abstracted away the simplicity and reality of the web.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-824313">
				<div id="div-comment-824313" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://Http://brandonlive.com' rel='external nofollow' class='url'>Brandon Paddock</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20100331-00/?p=14443#comment-824313">
			April 4, 2010 at 2:28 pm</a>		</div>

		<p>It doesn&#8217;t help that there are multiple RFCs covering this, and that the common practices have changed over time. &nbsp;It also doesn&#8217;t help that the most popular RFC to follow varies by protocol (i.e. file: vs HTTP).</p>
<p>The space-to-plus conversion isn&#8217;t even part of the protocol RFCs and is instead part of the HTML spec, offering further inconsistency and potential for confusion since it&#8217;s only relevant to form submissions.</p>
<p>Another major trap people fall into is the desire to call a function like UrlEscape and expect it to magically make your URL &quot;right.&quot; In reality such a function would truly have to be magical. &nbsp; Not only do you need to encode each value individually with the proper mechanism, but you need to truly understand your clients and the encoding function(s) you&#8217;re relying on. &nbsp;Woe to thee with the task of consuming URLs from arbitrary sources, then parsing them for display and submission to arbitrary clients. &nbsp;I had this pleasure during Win7 development and probably jump-started the greying of my hair in the process. &nbsp; &nbsp;</p>

		
				</div>
		</li><!-- #comment-## -->
		</ol><!-- .comment-list -->

		<div class="navigation pagination">
					</div>

	
			<p class="no-comments">Comments are closed.</p>
<!-- COMMENTS END -->
</div></td></tr></table>