<table class="commenttable" cellspacing="0" cellpadding="0"><tr><td><div class="commentdiv"><div class="commentdivhdr">
<!-- COMMENTS START -->
Comments (48)	</div>

	
			<div class="navigation pagination clear-both">
					</div>

		<ol class="comment-list">
					<li class="comment even thread-even depth-1 parent" id="comment-1233235">
				<div id="div-comment-1233235" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">dave</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20160414-00/?p=93303#comment-1233235">
			April 14, 2016 at 7:21 am</a>		</div>

		<p>Well, I cast my non-existent vote to writing for the target audience., and the devil take the hindmost.</p>
<p>(1) Misreporting an error condition is never &#8220;for the better&#8221; if you want the problem to be fixed in a timely manner. </p>
<p>(2) I am unable to fathom a mind that will misinterpret an execution error as &#8220;referring to capital punishment&#8221;.  Have they never executed a plan? I say that &#8220;execute&#8221; is not programmer jargon, it&#8217;s just a plain old English word.</p>
<p>(3) If someone is so weird as to think that &#8220;execute&#8221; means killing someone, how can they understand &#8220;write&#8221;?  After all, they were not typing out a letter to their auntie at the time, so no-one was writing anything,</p>
<p>(4) I&#8217;ve exceeded my lifetime limit on tolerating the &#8220;translation&#8221; of technically accurate text into meaningless pablum on the grounds that people who can&#8217;t use the information anyway will not know what the words mean.</p>

		
				</div>
		<ol class="children">
		<li class="comment odd alt depth-2" id="comment-1233245">
				<div id="div-comment-1233245" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Boris</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20160414-00/?p=93303#comment-1233245">
			April 14, 2016 at 7:30 am</a>		</div>

		<p>But regardless of what you write in terms of a technically correct description, the average user will see it as &#8220;Something is seriously wrong with your machine; please contact an expert who can read this&#8221;. Therefore, I think it&#8217;s better for an error message just to say a few comforting words, and also include more details in a separate file, which can be viewed on clicking a button, for example.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-iboyd even depth-2 parent" id="comment-1233255">
				<div id="div-comment-1233255" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/IanBoyd' rel='external nofollow' class='url'>IanBoyd</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20160414-00/?p=93303#comment-1233255">
			April 14, 2016 at 7:56 am</a>		</div>

		<p>In the age of TOR, encryption, and bot networks, you have to be weary of your computer performing an illegal operation.</p>
<p>And you don&#8217;t want General Failure reading your hard drive.</p>

		
				</div>
		<ol class="children">
		<li class="comment odd alt depth-3 parent" id="comment-1233257">
				<div id="div-comment-1233257" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Joshua</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20160414-00/?p=93303#comment-1233257">
			April 14, 2016 at 8:17 am</a>		</div>

		<p>&#8220;illegal operation&#8221; was a poor choice of words. &#8220;invalid operation&#8221; would have been better but &#8220;invalid operation&#8221; &#8230; &#8220;invalid instruction&#8221; is poor, and it&#8217;s the most common kind since segmentation fault gets a completely different message.</p>

		
				</div>
		<ol class="children">
		<li class="comment even depth-4" id="comment-1233266">
				<div id="div-comment-1233266" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">dave</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20160414-00/?p=93303#comment-1233266">
			April 14, 2016 at 8:33 am</a>		</div>

		<p>But surely an &#8220;invalid operation&#8221; will be misconstrued as a medical procedure performed on someone weakened by injury or disease?</p>
<p> ;-)</p>

		
				</div>
		</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
		<li class="comment odd alt depth-3" id="comment-1233505">
				<div id="div-comment-1233505" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Mason Wheeler</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20160414-00/?p=93303#comment-1233505">
			April 15, 2016 at 6:58 am</a>		</div>

		<blockquote><p>And you don’t want General Failure reading your hard drive.</p></blockquote>
<p>Not to mention his subordinate, Colonel Panic&#8230;</p>

		
				</div>
		</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
		<li class="comment byuser comment-author-archangelpip even depth-2" id="comment-1233385">
				<div id="div-comment-1233385" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Darran+Rowe' rel='external nofollow' class='url'>Darran Rowe</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20160414-00/?p=93303#comment-1233385">
			April 14, 2016 at 12:38 pm</a>		</div>

		<p>I was beaten to this by a reply to another comment, I was slow.<br />
But the reporting of an access violation error is a side effect of another error anyway. So if you like, the actual error in the program is already misreported.<br />
The thing to remember is that the user just sees this as either &#8220;ignore and it will go away&#8221; or &#8220;must report to someone who knows more&#8221; while the developer will just look at logs, crash dumps or hook a debugger for a post mortem debug session. In the end, because the AV is a symptom, it is ignored anyway. The error could just say &#8220;the program frobbed its widget&#8221; for all people care, as long as it is understood that it means &#8220;the program crashed&#8221; that is the important thing.<br />
Oh and for the case of NX kicking in and it being reported as a write to a developer, this is properly reported in the crash dump and debugger when you do a post mortem debug.<br />
As for not fathoming people&#8217;s mindsets. If you think about it, there exists people who believe the Earth is flat and there are people who believe that space missions are hoaxes. Lack of knowledge and understanding can have a very big impact on what people think. It is also easy to forget that people who are not you can think in very different ways, so your assumptions can not apply.</p>

		
				</div>
		</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1 parent" id="comment-1233275">
				<div id="div-comment-1233275" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Stefan Kanthak</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20160414-00/?p=93303#comment-1233275">
			April 14, 2016 at 9:12 am</a>		</div>

		<p>Remove the &#8220;execute&#8221; permission from an executable file (.EXE, .COM, .CMD, .BAT) and try to run this executable via double-click.<br />
The Windows Explorer shows the following (generic) &#8220;Access denied&#8221; error message which may confuse its target audience (I&#8217;m citing the german text):<br />
&#8220;Auf das angegebene Gerät, bzw. den Pfad oder die Datei kann nicht zugegriffen werden. Sie verfügen eventuell nicht über ausreichende Berechtigungen, um auf das Element zugreifen zu können.&#8221;</p>
<p>MANY users who see this message will try to copy this file or open it in Notepad (especially if it&#8217;s a batch script) &#8230; and succeed.<br />
Now tell them why they can&#8217;t execute this file, but can copy it or open it in just any program of their choice&#8230;</p>

		
				</div>
		<ol class="children">
		<li class="comment byuser comment-author-mzzt even depth-2 parent" id="comment-1233335">
				<div id="div-comment-1233335" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/The+MAZZTer' rel='external nofollow' class='url'>The MAZZTer</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20160414-00/?p=93303#comment-1233335">
			April 14, 2016 at 11:13 am</a>		</div>

		<p>If the user is going around clearing the Execute permissions flag on their files, I would hope they would be aware of the consequences.</p>
<p>As you pointed out, this is why none of the security is configured this way by default. And in fact, to clear the Execute flag, you need to delve into the Advanced security settings. The normal security dialog has a removal of execute permission also remove read permission (though you can have execute without read).</p>

		
				</div>
		<ol class="children">
		<li class="comment odd alt depth-3 parent" id="comment-1233375">
				<div id="div-comment-1233375" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Stefan Kanthak</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20160414-00/?p=93303#comment-1233375">
			April 14, 2016 at 11:58 am</a>		</div>

		<p>If its not the user, but their administrator who adds an ACE &#8220;(D;CIIO;;WP;;WD)&#8221; to &#8220;%USERPROFILE%&#8221; (or at least &#8220;%TEMP%&#8221;, &#8220;%APPDATA%&#8221; and the &#8220;Downloads&#8221; folder), then this (technically correct, but for users not really comprehensible) error message changes magically?</p>
<p>JFTR: take a look at real^Wother operating systems, where newly created files are not created with execute permissions.<br />
Unfortunately Microsoft made a BIG mistake and bloody beginner&#8217;s error about 25 years ago when they decided to create files with execute permission&#8230; and allow arbitrary malware to run everywhere!</p>

		
				</div>
		<ol class="children">
		<li class="comment byuser comment-author-oldnewthing bypostauthor even depth-4 parent" id="comment-1233395">
				<div id="div-comment-1233395" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Raymond+Chen+-+MSFT' rel='external nofollow' class='url'>Raymond Chen - MSFT</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20160414-00/?p=93303#comment-1233395">
			April 14, 2016 at 12:38 pm</a>		</div>

		<p>25 years ago? Try 40 years ago. Windows file system semantics are compatible with MS-DOS file system semantics, which are compatible with CP/M file system semantics.</p>

		
				</div>
		<ol class="children">
		<li class="comment odd alt depth-5" id="comment-1233407">
				<div id="div-comment-1233407" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Joshua</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20160414-00/?p=93303#comment-1233407">
			April 14, 2016 at 1:59 pm</a>		</div>

		<p>His count is pretty good. NTFS was the first Win32. There&#8217;s no reason in particular why executing files w/o execute bit could not have been banished to Win16 layer only.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-oldnewthing bypostauthor even depth-5" id="comment-1233416">
				<div id="div-comment-1233416" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Raymond+Chen+-+MSFT' rel='external nofollow' class='url'>Raymond Chen - MSFT</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20160414-00/?p=93303#comment-1233416">
			April 14, 2016 at 2:41 pm</a>		</div>

		<p>&gt; There’s no reason in particular why executing files w/o execute bit could not have been banished to Win16 layer only.</p>
<p>Um, Windows 95 ran 32-bit apps, and in the early days of NT, most people still used FAT, not NTFS. Basically, every installer would have broken on NTFS, which is a pretty bad compat story for NTFS.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt depth-5" id="comment-1233426">
				<div id="div-comment-1233426" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Joshua</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20160414-00/?p=93303#comment-1233426">
			April 14, 2016 at 4:35 pm</a>		</div>

		<p>I was assuming you would track which files were executable even on FAT (which is not as hard as it sounds). The idea is to make the developers run smack into it when they build their first installer so by the time the installer ships it already knows.</p>
<p>Sadly, there was little way of predicting the .exe with image icon trick followed by the .jpg.exe trick that resulted in way too many viruses spreading by email. I was there. I saw it happen. I couldn&#8217;t understand because I had turned on show extensions really early on because what the *bleep* is this file type came up so often in our switchover to Win95 that imaging why anybody wouldn&#8217;t want to change it was hard. I had yet to encounter the ignorant user though.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even depth-5" id="comment-1233455">
				<div id="div-comment-1233455" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Stefan Kanthak</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20160414-00/?p=93303#comment-1233455">
			April 14, 2016 at 6:58 pm</a>		</div>

		<p>Neither MS-DOS nor CP/M had an NTFS filesystem nor ran Win32 applications.<br />
Both NTFS and Win32 were introduced about 25 years ago, and there was ABSOLUTELY no need to carry all the cruft from MS-DOS or CP/M over to the new API.<br />
Only the NTVDM plus the WoW subsystem which run the old 16-bit applications should have made compatible to MS-DOS and Windows 3.x!<br />
Existing (16-bit) installers would NOT have broken on NTFS then.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-oldnewthing bypostauthor odd alt depth-5 parent" id="comment-1233535">
				<div id="div-comment-1233535" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Raymond+Chen+-+MSFT' rel='external nofollow' class='url'>Raymond Chen - MSFT</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20160414-00/?p=93303#comment-1233535">
			April 15, 2016 at 9:10 am</a>		</div>

		<p>&gt; there was ABSOLUTELY no need to carry all the cruft from MS-DOS or CP/M over to the new API.</p>
<p>But there was ABSOLUTE need to carry all the cruft from 16-bit Windows to the new API. Every breaking change was a reason for somebody to not port their program to Win32. And Win32 managed to ship with only 117 breaking changes.. Saying &#8220;Oh, and the file system rules are now completely different&#8221; would be a very big breaking change. <a href="https://blogs.msdn.microsoft.com/oldnewthing/20120913-00/?p=6613" rel="nofollow">https://blogs.msdn.microsoft.com/oldnewthing/20120913-00/?p=6613</a></p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even depth-5" id="comment-1233575">
				<div id="div-comment-1233575" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Stefan Kanthak</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20160414-00/?p=93303#comment-1233575">
			April 15, 2016 at 12:44 pm</a>		</div>

		<p>You mean breaking changes like unprivileged running programs were not allowed to write their settings to %windir%\{system,win,control,&#8230;}.ini any more?<br />
The limitation to 8.3 filenames for 16-bit programs?<br />
The need to quote long filenames/pathnames containing spaces?<br />
&#8230;</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-oldnewthing bypostauthor odd alt depth-5 parent" id="comment-1233585">
				<div id="div-comment-1233585" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Raymond+Chen+-+MSFT' rel='external nofollow' class='url'>Raymond Chen - MSFT</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20160414-00/?p=93303#comment-1233585">
			April 15, 2016 at 1:14 pm</a>		</div>

		<p>&gt; breaking changes like unprivileged programs not being able to write settings to %windir%\{system,win,control,…}.ini any more?<br />
&gt; The limitation to 8.3 filenames for 16-bit programs?<br />
&gt; The need to quote long filenames/pathnames containing spaces?</p>
<p>None of those were breaking. INI mapping solved problem 1. Problems 2 and 3 were solved by short file names.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even depth-5" id="comment-1233615">
				<div id="div-comment-1233615" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Stefan Kanthak</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20160414-00/?p=93303#comment-1233615">
			April 16, 2016 at 4:31 am</a>		</div>

		<p>This depends on your understanding of compatibility!<br />
Programs using (for example) some %windir%\*.ini broke UNLESS an administrator created the INI file mapping, programs that expect 8.3 filenames break when NTFSDisable8dot3NameCreation is disabled, &#8230;</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt depth-5" id="comment-1233597">
				<div id="div-comment-1233597" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">jgh</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20160414-00/?p=93303#comment-1233597">
			April 15, 2016 at 3:44 pm</a>		</div>

		<p>&gt; The need to quote long filenames/pathnames containing spaces?</p>
<p>ok, you tell me how to parse REN MAY ACCOUNTS FINAL BACKUP ACCOUNTS FOR MAY</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even depth-5 parent" id="comment-1233635">
				<div id="div-comment-1233635" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">smf</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20160414-00/?p=93303#comment-1233635">
			April 16, 2016 at 7:57 am</a>		</div>

		<p>@Joshua</p>
<p>&gt;There’s no reason in particular why executing files w/o execute bit could not have been banished to Win16 layer only</p>
<p>You want to stop malware by forcing them to write it in Win16?</p>
<p>&gt;I was assuming you would track which files were executable even on FAT (which is not as hard as it sounds). </p>
<p>Tell us, don&#8217;t keep it to yourself.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt depth-5" id="comment-1233665">
				<div id="div-comment-1233665" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Stefan Kanthak</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20160414-00/?p=93303#comment-1233665">
			April 17, 2016 at 6:51 am</a>		</div>

		<p>&gt; You want to stop malware by forcing them to write it in Win16?</p>
<p>1. Windows for x64 has no NTVDM or WoW[16], so malware written for ancient and obsolete environments doesn&#8217;t run there.<br />
2. On other architectures where NTVDM or WoW[16] exist these can be disabled (that&#8217;s what every self-respecting administrator does, since many years): see MSKB 979682, 2436673 and 2859537</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even depth-5" id="comment-1233676">
				<div id="div-comment-1233676" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Joshua</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20160414-00/?p=93303#comment-1233676">
			April 17, 2016 at 1:29 pm</a>		</div>

		<p>I didn&#8217;t think I was going to reply to this thread again but smf pushed me to it.</p>
<p>The other half of the malware solution is easy. Because Win16 EXEs could not directly set their icon, they wouldn&#8217;t allowed to do it in the Win32 shell. The .doc file with the generic program icon ought to have been enough to scare people off. I pondered whether making shellexecute not work for Win16 EXEs would have helped but it really doesn&#8217;t. It&#8217;s the icon change that does it.</p>
<p>As for where to store the execute bit in FAT, it&#8217;s a problem that&#8217;s been solved twice. You could piggyback on LFN or you could use the solution used by the Linux umsdos filessytem of storing attributes in another file in the directory. A 16 bit program operating on a Win32 EXE is likely to revoke execute, but that really doesn&#8217;t matter because there can&#8217;t be a Win16 program designed to operate on Win32 that predates Win32. Bonus: If you take the umsdos solution and don&#8217;t hide the file from the 16bit layer, 16 bit backup software continues to work.</p>

		
				</div>
		</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
		<li class="comment byuser comment-author-alexcohn odd alt depth-2 parent" id="comment-1233595">
				<div id="div-comment-1233595" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Alex+Cohn' rel='external nofollow' class='url'>Alex Cohn</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20160414-00/?p=93303#comment-1233595">
			April 15, 2016 at 2:20 pm</a>		</div>

		<p>Now remove the executable permission from delete_all.sh and explain to the target audience what happens to their document when they run `source ./delete_all.sh`</p>

		
				</div>
		<ol class="children">
		<li class="comment even depth-3" id="comment-1233617">
				<div id="div-comment-1233617" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Stefan Kanthak</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20160414-00/?p=93303#comment-1233617">
			April 16, 2016 at 4:43 am</a>		</div>

		<p>You missed some alternatives!<br />
For *x: sh -c ./delete_all.sh or better $SH -c ./delete_all.sh<br />
For Windows: %COMSPEC% /C Call </p>
<p>JFTR: FType batfile=%COMSPEC% /C Call ^&#8221;%%L^&#8221; %%* and FType cmdfile=%COMSPEC% /C Call ^&#8221;%%L^&#8221; %%* fixed a vulnerability present in Windows for some 20 years.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt depth-3" id="comment-1233625">
				<div id="div-comment-1233625" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Stefan Kanthak</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20160414-00/?p=93303#comment-1233625">
			April 16, 2016 at 4:45 am</a>		</div>

		<p>You missed some alternatives!<br />
For *x: sh -c ./delete_all.sh or better $SH -c ./delete_all.sh<br />
For Windows: %COMSPEC% /C Call </p>
<p>JFTR: FType batfile=%COMSPEC% /C Call ^&#8221;%%L^&#8221; %%* and FType cmdfile=%COMSPEC% /C Call ^&#8221;%%L^&#8221; %%* fixed a vulnerability present in Windows for some 20 years.</p>

		
				</div>
		</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1233305">
				<div id="div-comment-1233305" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://adamrosenfield.com' rel='external nofollow' class='url'>Adam Rosenfield</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20160414-00/?p=93303#comment-1233305">
			April 14, 2016 at 10:14 am</a>		</div>

		<p>Thanks for the bonus chatter, Raymond.</p>
<p>One could also make the argument that telling the user the address XX of the faulting instruction and the location YY of the invalid memory is worse-than-useless technobabble.  They&#8217;re marginally useful for developers, but they&#8217;ll only confuse end users.  But without a full stack trace, minidump, or full memory dump, they very often will not be actionable for developers.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1 parent" id="comment-1233315">
				<div id="div-comment-1233315" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">smf</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20160414-00/?p=93303#comment-1233315">
			April 14, 2016 at 10:30 am</a>		</div>

		<p>Alternatives for &#8220;executed&#8221;</p>
<p>The memory could not be fetched.<br />
The memory could not be used.<br />
The memory could not be known.<br />
The memory could not be fulfilled.<br />
The memory could not be.</p>
<p>Saying the cpu was trying to write the memory is just plain weird.</p>

		
				</div>
		<ol class="children">
		<li class="comment byuser comment-author-mzzt even depth-2 parent" id="comment-1233345">
				<div id="div-comment-1233345" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/The+MAZZTer' rel='external nofollow' class='url'>The MAZZTer</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20160414-00/?p=93303#comment-1233345">
			April 14, 2016 at 11:31 am</a>		</div>

		<p>Those messages are even worse. The ACTUAL error is that the program is trying to run from a memory address that is not marked as containing code, but data&#8230; this indicates some sort of buffer overflow error or similar probably caused the code execution to jump to the invalid location.</p>
<p>Your average user is not going to care about any of that. The most important thing we can tell them is that their program stopped due to a bug that is most likely in the program, That&#8217;s about it. Any further details than that are only going to be useful to developers.</p>

		
				</div>
		<ol class="children">
		<li class="comment odd alt depth-3 parent" id="comment-1233435">
				<div id="div-comment-1233435" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Joshua</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20160414-00/?p=93303#comment-1233435">
			April 14, 2016 at 4:37 pm</a>		</div>

		<p>&#8220;The program is running data instead of code.&#8221; should cut it though.</p>

		
				</div>
		<ol class="children">
		<li class="comment byuser comment-author-archangelpip even depth-4 parent" id="comment-1233495">
				<div id="div-comment-1233495" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Darran+Rowe' rel='external nofollow' class='url'>Darran Rowe</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20160414-00/?p=93303#comment-1233495">
			April 15, 2016 at 6:23 am</a>		</div>

		<p>Then have end users ask where their computer is going?<br />
The message that pops up isn&#8217;t even useful or important for a developer anyway. There are two important things to remember here. First, the access violation is always going to be the result of another error, so it doesn&#8217;t really give you more than a symptom of the actual problem.<br />
Secondly, as a developer, you don&#8217;t rely on that message to figure out where the problem is at all. You will always have some more accurate method of figuring out what the real cause of the problem is in place, like logging. Also, you are always going to look at the crash dump, or attach a debugger to look at the state of the program after it has failed to get more information. This is important because you get information from this that you can&#8217;t get normally about the state of the program. This means you will get the true access violation exception, along with other useful stuff.</p>

		
				</div>
		<ol class="children">
		<li class="comment odd alt depth-5" id="comment-1233515">
				<div id="div-comment-1233515" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Muzer</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20160414-00/?p=93303#comment-1233515">
			April 15, 2016 at 7:48 am</a>		</div>

		<p>&#8220;This program has stopped working. This is usually caused by a problem in the program or in a {plugin/add-on/extension/whatever will be most widely understood}.</p>
<p>Technical details: Address: 0xwhatever, Instruction: 0xwhatever, type: {read, write, execute}&#8221;</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-archangelpip even depth-5" id="comment-1233525">
				<div id="div-comment-1233525" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Darran+Rowe' rel='external nofollow' class='url'>Darran Rowe</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20160414-00/?p=93303#comment-1233525">
			April 15, 2016 at 8:18 am</a>		</div>

		<p>@Muzer:<br />
What Windows does by default these days is actually the best IMO.<br />
<a href="http://imgur.com/80oaVoA" rel="nofollow">http://imgur.com/80oaVoA</a></p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt depth-5" id="comment-1233655">
				<div id="div-comment-1233655" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Azarien</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20160414-00/?p=93303#comment-1233655">
			April 17, 2016 at 2:10 am</a>		</div>

		<p>&#8220;The message that pops up isn’t even useful or important for a developer anyway. &#8221; &#8211; well, when I was fixing an old application to run on modern systems I immediately knew what was going on thanks to this message. Adding PAGE_EXECUTE in one call to VirtualAlloc fixed the problem.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-archangelpip even depth-5" id="comment-1233675">
				<div id="div-comment-1233675" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Darran+Rowe' rel='external nofollow' class='url'>Darran Rowe</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20160414-00/?p=93303#comment-1233675">
			April 17, 2016 at 9:59 am</a>		</div>

		<p>@Azarien:<br />
That says that you knew what the problem with the program was in the first place. (Or at least knew where the real problems were).<br />
But again, that wasn&#8217;t the point. First, you didn&#8217;t need to get the information from that dialog did you? If you attached a post mortem debugger or got it to save a crash dump then you would have still gotten the information. Visual Studio would have given you a nice message &#8220;Unhandled exception at 0x09ABCDEF in ctest.exe: 0xC0000005: Access violation executing location 0x09ABCDEF.&#8221; Windbg gives more verbose information. So you have moved from an isolated message to a full process context.<br />
Secondly, if you are worried about that message going away meaning you have less bragging rights &#8220;I understand that message, I&#8217;m awesome&#8221;, remember this has now moved to giving people arcane instructions to allow you to do witchcraft. This means you now look even more awesome.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-gregm odd alt depth-5" id="comment-1233895">
				<div id="div-comment-1233895" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/GregM' rel='external nofollow' class='url'>GregM</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20160414-00/?p=93303#comment-1233895">
			April 18, 2016 at 6:43 pm</a>		</div>

		<p>&#8220;First, you didn’t need to get the information from that dialog did you? If you attached a post mortem debugger or got it to save a crash dump then you would have still gotten the information. &#8221;</p>
<p>I take it you&#8217;ve never had a user send you a photo of the error message on their screen as the only information about an error message.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-archangelpip even depth-5" id="comment-1241385">
				<div id="div-comment-1241385" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Darran+Rowe' rel='external nofollow' class='url'>Darran Rowe</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20160414-00/?p=93303#comment-1241385">
			April 19, 2016 at 3:15 am</a>		</div>

		<p>@GregM:<br />
Interesting conclusion. Seeing a careful approach, wanting to get as much information about a problem and not relying on an ambiguous message as &#8220;never being sent a screenshot of an error&#8221;.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-gregm odd alt depth-5" id="comment-1244566">
				<div id="div-comment-1244566" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/GregM' rel='external nofollow' class='url'>GregM</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20160414-00/?p=93303#comment-1244566">
			April 20, 2016 at 7:47 am</a>		</div>

		<p>&#8220;Interesting conclusion. Seeing a careful approach, wanting to get as much information about a problem and not relying on an ambiguous message as “never being sent a screenshot of an error”.&#8221;</p>
<p>Nope, it was from the comments that implied there was no reason to put any of this information in the dialog box because there exist methods that provide better information.  It suggested that the commenter had never experienced a situation where that better information is not available, and thus the only information available was from the dialog box.  In that situation, if the dialog box did not provide any information, then the only option would be to tell that user &#8220;I&#8217;m sorry, there&#8217;s nothing I can do for you.  The next time this happens, you need to collect a crash dump.&#8221;  At least with that basic information, you may be able to tell the user that you have a pretty good idea what the problem is and the troubleshooting steps to try.  (Yes, this is based on real-life experiences.)</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-archangelpip even depth-5" id="comment-1244645">
				<div id="div-comment-1244645" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Darran+Rowe' rel='external nofollow' class='url'>Darran Rowe</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20160414-00/?p=93303#comment-1244645">
			April 20, 2016 at 9:32 am</a>		</div>

		<p>@GregM:<br />
Ah, your right. Even though I know that everyone is different, I then went and assumed that everyone is the same.<br />
I guess it is easy enough to assume certain things if that is what you are used to. At these times it reminds me how lucky I am being able to influence some things for the better.<br />
As a hint though, a process can create its own crash dump thanks to the debug help library. Also is it really bad to go back to the customer and ask for basic information, like what they were doing when it happened? Especially if the error could occur in several ways, or if it is an access violation which can happen in infinitely many unknown ways? Isn&#8217;t it also true that if you report a bug, one thing that you normally do is try to figure out repro steps, because after all, reproducing the bug is one of the best ways to get it fixed?<br />
This is one of those cases, like unit tests, where if you really can persuade people that its for the better then it makes a huge difference. Even if it means annoying people a bit to get better information.</p>

		
				</div>
		</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
		<li class="comment odd alt depth-3 parent" id="comment-1233636">
				<div id="div-comment-1233636" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">smf</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20160414-00/?p=93303#comment-1233636">
			April 16, 2016 at 8:03 am</a>		</div>

		<p>The user doesn&#8217;t care what it says, it just needs to have enough information that a developer can understand it. You could replace read/write/execute with the name of fruit and it would achieve it&#8217;s purpose.</p>
<p>Sometimes all you have is the error and no way of reproducing it, logging isn&#8217;t always enough.</p>

		
				</div>
		<ol class="children">
		<li class="comment even depth-4" id="comment-1244036">
				<div id="div-comment-1244036" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Ivan K</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20160414-00/?p=93303#comment-1244036">
			April 19, 2016 at 3:47 am</a>		</div>

		<p>You&#8217;d want to be careful about which fruit you choose&#8230; wouldn&#8217;t want old Granny Smith telling everyone that her Windows got broken by a few bad apples.</p>

		
				</div>
		</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
		<li class="comment byuser comment-author-andycadley2 odd alt thread-even depth-1" id="comment-1233405">
				<div id="div-comment-1233405" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/AndyCadley' rel='external nofollow' class='url'>AndyCadley</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20160414-00/?p=93303#comment-1233405">
			April 14, 2016 at 1:17 pm</a>		</div>

		<p>I learnt this lesson a long time ago, in the Windows 3 days, when my mum would frequently ask &#8220;Why does my computer keep telling me it&#8217;s made an illegal move? I&#8217;m not even playing chess.&#8221;</p>
<p>My programs tend to die with a &#8220;Sorry. Something went wrong and its probably my fault.&#8221; message and then log real error details elsewhere. There&#8217;s no point showing techno-babble to users, they won&#8217;t even pass it on correctly even if they do read it and at worst they&#8217;ll panic about it.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-odd thread-alt depth-1" id="comment-1233475">
				<div id="div-comment-1233475" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Drak</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20160414-00/?p=93303#comment-1233475">
			April 14, 2016 at 10:20 pm</a>		</div>

		<p>Well, at least it says more than &#8216;Guru meditation&#8217; :D</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-even depth-1" id="comment-1233476">
				<div id="div-comment-1233476" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Robert</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20160414-00/?p=93303#comment-1233476">
			April 15, 2016 at 2:29 am</a>		</div>

		<p>Some users of our software were concerned about the standard error message &#8220;Catastrophic failure&#8221; (caused by an unhandled exception in a DCOM server, so the call returned E_UNEXPECTED or something like that).</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-odd thread-alt depth-1" id="comment-1233506">
				<div id="div-comment-1233506" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Scott H.</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20160414-00/?p=93303#comment-1233506">
			April 15, 2016 at 7:39 am</a>		</div>

		<p>I was doing internet tech support in the &#8217;99-&#8217;02 era, when Windows 95 and 98 were still widely used. I spent many calls comforting scared users who got the Illegal Operation crash box, and was very glad when it was changed. It&#8217;s mostly used as a joke now but it was real life for me for awhile!</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-dwalker-wk odd alt thread-even depth-1 parent" id="comment-1233545">
				<div id="div-comment-1233545" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/DWalker' rel='external nofollow' class='url'>DWalker</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20160414-00/?p=93303#comment-1233545">
			April 15, 2016 at 11:56 am</a>		</div>

		<p>As has been alluded to, I think that turning off file extensions &#8220;by default&#8221; was a horrible, horrible, awful design decision.  The choice should not even be there!</p>

		
				</div>
		<ol class="children">
		<li class="comment byuser comment-author-dwalker-wk even depth-2 parent" id="comment-1233555">
				<div id="div-comment-1233555" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/DWalker' rel='external nofollow' class='url'>DWalker</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20160414-00/?p=93303#comment-1233555">
			April 15, 2016 at 11:57 am</a>		</div>

		<p>&#8230; and I could not reply in the proper sub-thread, because it apparently was already too deep&#8230;</p>

		
				</div>
		<ol class="children">
		<li class="comment odd alt depth-3" id="comment-1244365">
				<div id="div-comment-1244365" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Stefan Kanthak</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20160414-00/?p=93303#comment-1244365">
			April 19, 2016 at 3:36 pm</a>		</div>

		<p>&gt; and I could not reply in the proper sub-thread, because</p>
<p>you are obviously not able to recognize the scheme of the URL used for &#8220;Reply&#8221;&#8230;</p>

		
				</div>
		</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
		</ol><!-- .comment-list -->

		<div class="navigation pagination">
					</div>

	
			<p class="no-comments">Comments are closed.</p>
<!-- COMMENTS END -->
</div></td></tr></table>