<table class="commenttable" cellspacing="0" cellpadding="0"><tr><td><div class="commentdiv"><div class="commentdivhdr">
<!-- COMMENTS START -->
Comments (22)	</div>

	
			<div class="navigation pagination clear-both">
					</div>

		<ol class="comment-list">
					<li class="comment even thread-even depth-1" id="comment-1204481">
				<div id="div-comment-1204481" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Joshua</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20150914-00/?p=91601#comment-1204481">
			September 14, 2015 at 7:08 am</a>		</div>

		<p>Watch this technique become more popular until it is the de facto standard.</p>
<p>I&#39;m pretty sure it works as follows: The command line invokes the same function that the URL bar does, and anything in the URL bar with a space in it must be a search query (URLs do not contain spaces) and search engines eat the ? if the browser didn&#39;t already.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1204471">
				<div id="div-comment-1204471" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">M&#225;rton</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20150914-00/?p=91601#comment-1204471">
			September 14, 2015 at 7:30 am</a>		</div>

		<p>On Windows 10, Firefox can hijack the searches you type into the Windows search box, and open with your default Firefox search engine instead of Bing. How do they do that?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1204461">
				<div id="div-comment-1204461" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">John Doe</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20150914-00/?p=91601#comment-1204461">
			September 14, 2015 at 7:47 am</a>		</div>

		<p>@Joshua, you really like to hear yourself talk, don&#39;t you? &nbsp;I mean, to read yourself, whatever. &nbsp;You still took 8 minutes to read and answer, I&#39;d expect an instant, cohesive and relevant response at no more than 1 minute after the post. &nbsp;As if you&#39;d guess the post. &nbsp;Now that would make you a man!</p>
<p>Nonetheless, you&#39;re wrong. &nbsp;Current browsers take the leading question mark quite seriously, such that you can paste a URL and search for it instead of navigating to it. &nbsp;Also, the question mark works whether you search for something with or without spaces.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1204451">
				<div id="div-comment-1204451" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">George</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20150914-00/?p=91601#comment-1204451">
			September 14, 2015 at 8:00 am</a>		</div>

		<p>Wouldn&#39;t AssocQueryString+ASSOCSTR_EXECUTABLE save the need to call SHEvaluateSystemCommandTemplate? Or will it return a different value?</p>
<p>BTW, is this how the start menu in Windows 7 implements &quot;Search the Internet&quot;?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-wndsks even thread-even depth-1" id="comment-1204431">
				<div id="div-comment-1204431" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/skSdnW' rel='external nofollow' class='url'>skSdnW</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20150914-00/?p=91601#comment-1204431">
			September 14, 2015 at 8:18 am</a>		</div>

		<p>Most browsers support ? on the command line because it is required by the search internet from start menu feature added in Vista, documented @ <a rel="nofollow" target="_new" href="https://msdn.microsoft.com/en-us/library/windows/desktop/bb757032">msdn.microsoft.com/&#8230;/bb757032</a> (The sample there uses ASSOCSTR_EXECUTABLE which I guess could end up leaving out things on the command line like /profile=foo and /private ?)</p>
<p>One strange thing about the start menu internet search feature is that the the open verb is used to find the .exe but the NULL &quot;verb&quot; is used when it looks for the icon ( <a rel="nofollow" target="_new" href="https://windowssucks.wordpress.com/2013/02/04/to-open-or-null-that-is-the-verb">windowssucks.wordpress.com/&#8230;/to-open-or-null-that-is-the-verb</a> )</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1204411">
				<div id="div-comment-1204411" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Joshua</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20150914-00/?p=91601#comment-1204411">
			September 14, 2015 at 9:33 am</a>		</div>

		<p>@John Doe: I&#39;m not competing with anybody. I just happen to pick this blog up on the train usually a few seconds after its posted at 7:00am + 10 seconds. Looks like Mr. sdrawkcab name found a better answer though.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1204391">
				<div id="div-comment-1204391" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Myria</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20150914-00/?p=91601#comment-1204391">
			September 14, 2015 at 10:49 am</a>		</div>

		<p>Now that the concept exists of a &quot;default search provider&quot;, why not create a &quot;search&quot; verb for the http handler?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1204381">
				<div id="div-comment-1204381" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Stephan</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20150914-00/?p=91601#comment-1204381">
			September 14, 2015 at 11:35 am</a>		</div>

		<p>This post got me in the mood to code, so here&#39;s a Linux equivalent written in Bourne shell script in case anyone has a use for it:</p>
<p><a rel="nofollow" target="_new" href="http://blog.ssokolow.com/archives/2015/09/14/script-to-open-in-default-web-search-provider/">blog.ssokolow.com/&#8230;/script-to-open-in-default-web-search-provider</a></p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1204351">
				<div id="div-comment-1204351" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Lars</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20150914-00/?p=91601#comment-1204351">
			September 14, 2015 at 2:00 pm</a>		</div>

		<p>@Stephan: Debian has this already, in the form of the sensible-browser command. And yes, it is customizable, like sensible-pager and sensible-editor.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1204341">
				<div id="div-comment-1204341" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">@Stephan</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20150914-00/?p=91601#comment-1204341">
			September 14, 2015 at 2:02 pm</a>		</div>

		<p>nevermind, doesn&#39;t do the same thing&#8230;</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1204331">
				<div id="div-comment-1204331" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Wondering</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20150914-00/?p=91601#comment-1204331">
			September 14, 2015 at 2:25 pm</a>		</div>

		<p>At times when reading some of the comments people make I really wonder where their &#39;knowledge&#39; comes from. Search engines or browsers eat the &#39;?&#39; or most browsers support the &#39;?&#39; because it was for something added in Vista?????</p>
<p>Really?</p>
<p>Browsers support the &#39;?&#39; because it is part of the URL and it is to be passed to the host computer with the rest of the URL. I see it in RFC 1738, from late 1994, in section 3.3 if you care to look it up. So it needs to be passed because it is part of the URL and it is from way before Vista.</p>
<p>What the browsers are implementing is what to do with a URL that is not a &#39;correctly&#39; formed URL, and it sounds like most of them will pass it on to some (browser specific) default web site. And then the web site will have to some basic handling of what to do with that URL (which may not be formatted exactly like they want, but is close enough to something they can guess at).</p>
<p>Oh and while URL&#39;s shouldn&#39;t normally have spaces in them it has been very common in the past to find spaces in URLs and have them handled correctly most of the time.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-wndsks odd alt thread-odd thread-alt depth-1" id="comment-1204301">
				<div id="div-comment-1204301" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/skSdnW' rel='external nofollow' class='url'>skSdnW</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20150914-00/?p=91601#comment-1204301">
			September 14, 2015 at 3:35 pm</a>		</div>

		<p>@Wondering: The &#39;?&#39; we are talking about is not supposed to be part of the URL. If you invoke mybrowser.exe &quot;? foo&quot; then only &quot;foo&quot; should be passed as part of the URL. mybrowser &quot;? ?foo&quot; on the other hand should pass the encoded version of &quot;?foo&quot; which in most cases ends up with the browser opening a tab with a URL that ends with &quot;q=%3Ffoo&quot;</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1204291">
				<div id="div-comment-1204291" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Ben Voigt</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20150914-00/?p=91601#comment-1204291">
			September 14, 2015 at 3:37 pm</a>		</div>

		<p>@Wondering, we are talking about leading question mark, not the question mark that denotes the beginning of GET form fields. &nbsp;With a leading question mark, there is no hostname, so &quot;it is to be passed to the host computer with the rest of the URL&quot; is meaningless. &nbsp;(And I&#39;m not including relative URLs&#8230; they get combined with the base URL earlier, so even if the question mark appeared at the beginning of a relative URL, it isn&#39;t a leading question mark when the absolute URL is determined. &nbsp;Relative URLs aren&#39;t supported in the address bar.)</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-cheong odd alt thread-odd thread-alt depth-1" id="comment-1204261">
				<div id="div-comment-1204261" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/cheong00' rel='external nofollow' class='url'>cheong00</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20150914-00/?p=91601#comment-1204261">
			September 14, 2015 at 7:37 pm</a>		</div>

		<p>Actually, if you click the &quot;Magnifier&quot; icon on the address bar of IE11 (or press Ctrl-E shortcut) you&#39;ll see the address bar content change to &quot;? &quot; allow you to type search pharse behind. Therefore it ought to be intentional feature (at least for IE).</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1204251">
				<div id="div-comment-1204251" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Tester</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20150914-00/?p=91601#comment-1204251">
			September 14, 2015 at 10:48 pm</a>		</div>

		<p>I know, little programs and all :-)</p>
<p>But if you really use this code for anything serious, make sure you handle the fact where the &quot;%1&quot; is already defined with quotes in the template.</p>
<p>Firefox, for example, defines the template as follows:</p>
<p>&quot;C:Program Files (x86)Mozilla Firefoxfirefox.exe&quot; -osint -url &quot;%1&quot;</p>
<p>So you need some extra smarts to not end up with a command line / parameter set, where the too many quotes.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1204241">
				<div id="div-comment-1204241" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Kathy Odonnell</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20150914-00/?p=91601#comment-1204241">
			September 15, 2015 at 12:10 am</a>		</div>

		<p>&quot; Nobody knows for sure.</p>
<p>Windows does define a mechanism for determining the user&#39;s default Web browser, or more specifically, default handler for the http protocol. But that&#39;s as far as it goes. There is no standard mechanism for invoking the user&#39;s default search provider.&quot;</p>
<p>Raymond, now that we know that his is wrong and that there is a documented way, could you please update the article to correct it and link to the documentation?</p>
<div class="post">[<em>You&#39;re assuming that the user&#39;s default Web browser is equal to their default Start menu search provider. What if they&#39;re not? -Raymond</em>]</div>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1204191">
				<div id="div-comment-1204191" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Nick</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20150914-00/?p=91601#comment-1204191">
			September 15, 2015 at 7:50 am</a>		</div>

		<p>@Kathy: I doubt it. After all, that&#39;s kind of the point of the &quot;IE 6 won&#39;t do this&quot; comment. Besides this reads better (I laughed on that line).</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1204181">
				<div id="div-comment-1204181" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Max</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20150914-00/?p=91601#comment-1204181">
			September 15, 2015 at 7:54 am</a>		</div>

		<p>@Kathy: It&#39;s not really standard, though, and it&#39;s not Windows&#39; place to document it. It&#39;s de facto, because Windows implemented the functionality and invited browser makers to integrate with it, but there&#39;s no guarantee &#8211; and probably won&#39;t ever be, since Windows still has no concept of &quot;default search provider&quot;. That&#39;s under the control of the browser makers, and it&#39;s up to them to guarantee and document a way of invoking default search handler, with all the warranties that comes with.</p>
<p>It may sound like I&#39;m just being pedantic here, but it&#39;s an incredibly important distinction &#8211; if Windows writes documentation saying &quot;hey programmers, here&#39;s how you invoke your user&#39;s browser&#39;s default search handler&quot;, and if Raymond writes a blog post saying that&#39;s the official and documented way, then Microsoft is guaranteeing that that will work forever, in all browsers, and that if it doesn&#39;t work then you can call Microsoft support about it. That&#39;s simply not a guarantee Microsoft can make &#8211; this behavior is up to browser makers, and any one of them can change or remove it at any time. </p>
<p>By documenting it, Microsoft has guaranteed that the &quot;Search the Internet&quot; function on the start menu will always send that style of query, forever, but it cannot guarantee that browser makers will accept that style of query forever.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1204161">
				<div id="div-comment-1204161" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Voo</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20150914-00/?p=91601#comment-1204161">
			September 15, 2015 at 8:37 am</a>		</div>

		<p>@max That&#39;s overstating it. Just because Microsoft defines a public interface doesn&#39;t mean you can bug them about bugs in certain implementations.</p>
<p>MS defines a strict interface for DX12 for example, but if NVidia gets it wrong Microsoft still won&#39;t accept support calls for their divers. Same here: MS certainly could define an interface for invoking the default search provider and if a browser doesn&#39;t follow it, bad luck. </p>
<p>Not sure it&#39;s worth the hassle though</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1204061">
				<div id="div-comment-1204061" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">ErikF</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20150914-00/?p=91601#comment-1204061">
			September 15, 2015 at 11:45 am</a>		</div>

		<p>@Max: Also, just because users can enter &quot;? search query&quot; in the location bar doesn&#39;t necessarily mean that you can do that on the command line. For example, URLs accessed programmatically might be interpreted more strictly than ones entered manually (or through Favourites.)</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-mngoldeneagle even thread-even depth-1" id="comment-1203521">
				<div id="div-comment-1203521" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/MNGoldenEagle' rel='external nofollow' class='url'>MNGoldenEagle</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20150914-00/?p=91601#comment-1203521">
			September 17, 2015 at 10:30 am</a>		</div>

		<p>@Voo: To be fair, NVidia&#39;s divers are pretty shallow.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1203421">
				<div id="div-comment-1203421" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">xpclient</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20150914-00/?p=91601#comment-1203421">
			September 17, 2015 at 11:27 pm</a>		</div>

		<p>If only Windows had a Group Policy to prevent programs from automatically launching the default web browser, that is, open it only when the user manually opened it.</p>
<div class="post">[<em>Group Policy isn&#39;t psychic. How does it know that any particular call to CreateProcess was automatic as opposed to due to a user manually opening it (whatever that means)? I guess what you could do is set your default Web browser to Notepad.exe. And then when you want to run Firefox, you manually click the Firefox shortcut. -Raymond</em>]</div>

		
				</div>
		</li><!-- #comment-## -->
		</ol><!-- .comment-list -->

		<div class="navigation pagination">
					</div>

	
			<p class="no-comments">Comments are closed.</p>
<!-- COMMENTS END -->
</div></td></tr></table>