<table class="commenttable" cellspacing="0" cellpadding="0"><tr><td><div class="commentdiv"><div class="commentdivhdr">
<!-- COMMENTS START -->
Comments (5)	</div>

	
			<div class="navigation pagination clear-both">
					</div>

		<ol class="comment-list">
					<li class="comment even thread-even depth-1 parent" id="comment-1294446">
				<div id="div-comment-1294446" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Yukkuri</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20170428-00/?p=96065#comment-1294446">
			April 28, 2017 at 9:20 am</a>		</div>

		<p>The optimization manuals from both Intel and AMD are full of details about avoiding this, so they seem to think it is important</p>

		
				</div>
		<ol class="children">
		<li class="comment odd alt depth-2" id="comment-1294455">
				<div id="div-comment-1294455" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Klimax</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20170428-00/?p=96065#comment-1294455">
			April 28, 2017 at 10:04 am</a>		</div>

		<p>And a lot of restrictions were already removed.</p>

		
				</div>
		</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
		<li class="comment even thread-odd thread-alt depth-1" id="comment-1294465">
				<div id="div-comment-1294465" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Klimax</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20170428-00/?p=96065#comment-1294465">
			April 28, 2017 at 10:14 am</a>		</div>

		<p>First: It is covered by chapter 3.6.5 of Intel 64 and IA 32 Architectures Optimization Reference Manual.</p>
<p>As for severity of stall, according to manual it is same as is depth of pipeline.</p>
<p>Note: Chapter 2.3.5 has tables 2-21 &#8211; 2-24 that contain when S-L forwarding happens for Sandy Bridge. (A lot of cases will S-L)<br />
Apparently there were no significant changes to S-l since then.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-even depth-1 parent" id="comment-1294505">
				<div id="div-comment-1294505" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Patrick</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20170428-00/?p=96065#comment-1294505">
			April 28, 2017 at 1:10 pm</a>		</div>

		<p>Even before x86 had out-of-order execution, this was almost always considered the proper thing to do &#8211; the only exception would be if you need to prioritize code size (for example to keep an inner loop entirely in cache).<br />
The reason is that even though unaligned reads are allowed, the CPU still has to fetch a full machine word (if not more) from memory.</p>

		
				</div>
		<ol class="children">
		<li class="comment even depth-2" id="comment-1294915">
				<div id="div-comment-1294915" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Tor</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20170428-00/?p=96065#comment-1294915">
			May 2, 2017 at 3:59 am</a>		</div>

		<p>Sure, but in this case the alternative is a single byte write, which is never unaligned.</p>

		
				</div>
		</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
		</ol><!-- .comment-list -->

		<div class="navigation pagination">
					</div>

	
			<p class="no-comments">Comments are closed.</p>
<!-- COMMENTS END -->
</div></td></tr></table>