<table class="commenttable" cellspacing="0" cellpadding="0"><tr><td><div class="commentdiv"><div class="commentdivhdr">
<!-- COMMENTS START -->
Comments (9)	</div>

	
			<div class="navigation pagination clear-both">
					</div>

		<ol class="comment-list">
					<li class="comment even thread-even depth-1" id="comment-1139123">
				<div id="div-comment-1139123" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Joshua</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140717-00/?p=483#comment-1139123">
			July 17, 2014 at 7:05 am</a>		</div>

		<p>Well I could say use the select() model (winsock implements it) but it&#39;s just as hard on people who don&#39;t know it. Getting write() errors only when calling the next function, which is often read() is mega-confusing.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-bboorman odd alt thread-odd thread-alt depth-1" id="comment-1139133">
				<div id="div-comment-1139133" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Brian_EE' rel='external nofollow' class='url'>Brian_EE</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140717-00/?p=483#comment-1139133">
			July 17, 2014 at 7:34 am</a>		</div>

		<p>It was nice that the customer was honest (and more importantly aware) that they were giving a question with vague details. Sounds like they were trying to do the right thing and just needed a nudge in the correct direction.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1139143">
				<div id="div-comment-1139143" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Antonio Rodr&#237;guez</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140717-00/?p=483#comment-1139143">
			July 17, 2014 at 7:57 am</a>		</div>

		<p>Some customers understand that time is a valuable thing, and not to be wasted. They save you time and, as a bonus, they use to get their problem solved in a shorter time. On the other hand, most of the customers think that they way to go is giving vague information (&quot;my computer is broken!&quot;) and trying to intimidate you so you get their problem fixed faster. Sadly, they achieve exactly the opposite.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1139153">
				<div id="div-comment-1139153" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">icabod</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140717-00/?p=483#comment-1139153">
			July 17, 2014 at 8:18 am</a>		</div>

		<p>I was half-expecting the response to be &quot;Read the error &#8211; The timeout period on your semaphore has expired&quot; until I re-read and saw it was completion ports. &nbsp;Kind of glad to know it&#39;s not that obvious.</p>
<p>So does this mean that internally a semaphore is used, and the API doesn&#39;t realise to translate it to something more useable (would WSAGetLastError do it?)?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1139163">
				<div id="div-comment-1139163" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">icabod</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140717-00/?p=483#comment-1139163">
			July 17, 2014 at 8:20 am</a>		</div>

		<p>I&#39;ve re-read the post again and see that Winsock will indeed convert the error for you. &nbsp;Please disregard that part of my previous comment, but I&#39;m still curious to know if it&#39;s actually semaphores used internally (knowing that this would be implementation detail and liable to change).</p>
<div class="post">[<em>Sorry I didn&#39;t make it clear in the article. There was never any semaphore. This was an error in translation. The actual error was &quot;the I/O operation timed out&quot;, but the translation function converts the STATUS_IO_TIMEOUT code to ERROR_SEM_TIMEOUT (because you have to convert it to <span style="text-decoration:underline;">something</span>). -Raymond</em>]</div>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1139173">
				<div id="div-comment-1139173" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Gabe</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140717-00/?p=483#comment-1139173">
			July 17, 2014 at 8:34 am</a>		</div>

		<p>One would think that when the mechanism was first created, somebody could have made a Win32 error that means &quot;IO timeout&quot; rather than picking something that just has a similar name.</p>
<p>A quick search for &quot;ERROR_SEMAPHORE_TIMEOUT&quot; reveals a whole lot of people who are having trouble copying files and such. I doubt I would even consider a semaphore timeout to even be an actual error.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1139183">
				<div id="div-comment-1139183" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Haegar</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140717-00/?p=483#comment-1139183">
			July 17, 2014 at 9:56 am</a>		</div>

		<p>I encountered this error quite often on our server-software on Win2003-servers. We just retried the operation and it then failed with a well known error code (what was expected)</p>
<p>Since Windows Server 2008 the problem is gone. I suspect that&#39;s because the TCP/IP-stack was partly rewritten with Longhorn?</p>
<p>Raymond, you didn&#39;t mention what OS the customer used.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1139203">
				<div id="div-comment-1139203" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Jon</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140717-00/?p=483#comment-1139203">
			July 17, 2014 at 12:19 pm</a>		</div>

		<p>I suspect that the customer will still need to use their reset state, though, rather than mess with default Windows tcp timeout settings.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1140603">
				<div id="div-comment-1140603" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Marc</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20140717-00/?p=483#comment-1140603">
			July 22, 2014 at 8:59 am</a>		</div>

		<p>How does GQCSEx behave when an I/O operation has timed out for a socket? The docs say if GQCSEx returns FALSE, then no I/O operation was dequeued. I assume this means that ulNumEntriesRemoved will be zero so there is no overlapped structure to inspect.</p>

		
				</div>
		</li><!-- #comment-## -->
		</ol><!-- .comment-list -->

		<div class="navigation pagination">
					</div>

	
			<p class="no-comments">Comments are closed.</p>
<!-- COMMENTS END -->
</div></td></tr></table>