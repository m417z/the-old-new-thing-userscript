<table class="commenttable" cellspacing="0" cellpadding="0"><tr><td><div class="commentdiv"><div class="commentdivhdr">
<!-- COMMENTS START -->
Comments (2)	</div>

	
			<div class="navigation pagination clear-both">
					</div>

		<ol class="comment-list">
					<li class="comment even thread-even depth-1 parent" id="comment-1356745">
				<div id="div-comment-1356745" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Joshua</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20180816-00/?p=99505#comment-1356745">
			August 16, 2018 at 8:11 am</a>		</div>

		<p>I&#8217;m very disappointed the table of contents register load wasn&#8217;t simply the first two instructions of the function. (We saw earlier that it takes two instructions to load a constant into a register.) It costs one fewer loader fixups than fixing up the two pointer table that is used otherwise.</p>
<p>If your compiler/linker got smart it could correct internal calls to jump over the table of contents instructions when making module internal calls, so it ends up being actually cheaper in all cases.</p>

		
				</div>
		<ol class="children">
		<li class="comment byuser comment-author-oldnewthing bypostauthor odd alt depth-2" id="comment-1356755">
				<div id="div-comment-1356755" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Raymond+Chen+-+MSFT' rel='external nofollow' class='url'>Raymond Chen - MSFT</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20180816-00/?p=99505#comment-1356755">
			August 16, 2018 at 8:36 am</a>		</div>

		<p>Doing it that way would break the rule that there are no fixups in the code segment.</p>

		
				</div>
		</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
		</ol><!-- .comment-list -->

		<div class="navigation pagination">
					</div>

	
			<p class="no-comments">Comments are closed.</p>
<!-- COMMENTS END -->
</div></td></tr></table>