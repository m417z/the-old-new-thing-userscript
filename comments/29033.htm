<table class="commenttable" cellspacing="0" cellpadding="0"><tr><td><div class="commentdiv"><div class="commentdivhdr">
<!-- COMMENTS START -->
Comments (9)	</div>

	
			<div class="navigation pagination clear-both">
					</div>

		<ol class="comment-list">
					<li class="comment even thread-even depth-1" id="comment-442013">
				<div id="div-comment-442013" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Tom</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20061113-11/?p=29033#comment-442013">
			November 13, 2006 at 10:42 am</a>		</div>

		<p>Bit-wise operations on color DDBs is like a box of chocolates &#8212; you never know what you&#8217;re gonna get. &nbsp;But I must say that, using a palletized DDB just seems wrong. &nbsp;I can understand a DDB using differing bits per color per pixel as the BPCPP must match the display hardware for effective bltting, but doesn&#8217;t using a palettized DDB make blitting hard or (gasp!) less efficient? &nbsp;Do they even make palettized DDBs?</p>
<div class="post">[<i>I think you&#8217;ll enjoy Wednesday&#8217;s entry. -Raymond</i>]</div>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-kjkhyperion odd alt thread-odd thread-alt depth-1" id="comment-442023">
				<div id="div-comment-442023" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">KJK::Hyperion</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20061113-11/?p=29033#comment-442023">
			November 13, 2006 at 11:00 am</a>		</div>

		<p>Superkoko, you can use it as an obfuscated way to perform calculations. You can implement a Vernam cipher very &quot;handily&quot; with BitBlt, and since you can make up your own logic operations by providing an arbitrary truth table, there&#8217;s no limit to how hard you can obfuscate something as simple as a XOR. A more benign use is to XOR a bitmap with itself to blacken it, or NOT XOR to whiten. And once you get hooked up to PatBlt, there&#8217;s no going back&#8230;</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-mike-dimmick even thread-even depth-1" id="comment-442053">
				<div id="div-comment-442053" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Mike+Dimmick' rel='external nofollow' class='url'>Mike Dimmick</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20061113-11/?p=29033#comment-442053">
			November 13, 2006 at 11:36 am</a>		</div>

		<p>I&#8217;m using a custom blit to paint text from a custom font bitmap. We&#8217;re doing this because it is significantly harder to create a custom TrueType font, Windows CE only supports either TrueType or bitmap fonts (chosen at platform build time), and the OEM suppliers (and Microsoft for Windows Mobile) have already made the choice of TrueType.</p>
<p>The ternary raster operation opcode is 0x00B8074A and I leave it as an exercise to the reader to work out how it works ;) As a hint, the background colour of the font bitmap is white and the foreground colour is black.</p>
<p>Moving to a custom blit (i.e. one not declared in WinGDI.h) saved two blits per character, a screen-compatible DC, and a screen-compatible bitmap selected into that DC. Thanks, Raymond, for the hint that this was even possible.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-442063">
				<div id="div-comment-442063" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Jack Mathews</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20061113-11/?p=29033#comment-442063">
			November 13, 2006 at 11:44 am</a>		</div>

		<p>An &quot;interesting&quot; effect with bitwise and? &nbsp;Simulating palettization (or heat stroke) by anding off the low bits one by one.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-442103">
				<div id="div-comment-442103" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Dan McCarty</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20061113-11/?p=29033#comment-442103">
			November 13, 2006 at 1:01 pm</a>		</div>

		<p>AND&#8217;ing forest green with anything is always tricky, and the lesson is don&#8217;t make the classic mistake of not seeing the Forest for the Green!</p>
<p>(Thanks folks, I&#8217;ll be here all week except Tuesday. &nbsp;Make sure you try the Mahi Mahi.)</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-442003">
				<div id="div-comment-442003" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">SuperKoko</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20061113-11/?p=29033#comment-442003">
			November 13, 2006 at 10:35 am</a>		</div>

		<p>I remember that I once used he AND bitwise operation of an homogen source (with a function functionally equivalent to PatBlt) on an RGB 24 bits image destination.</p>
<p>The homogen source pixels had values such as RGB(-4,-4,-4) or RGB(-2**n, -2**n, -2**n).</p>
<p>The final effect is to decrease the number of colors of the image by rounding down colors.</p>
<p>The effect is interesting.</p>
<p>However, I don&#8217;t think that AND-ing a 24 bits image with another 24 bits image could make sense. At least, I&#8217;ve never used it.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-442163">
				<div id="div-comment-442163" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Charlie</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20061113-11/?p=29033#comment-442163">
			November 13, 2006 at 6:52 pm</a>		</div>

		<p>Given the stories I&#8217;ve heard about NES/Super NES development, I&#8217;m not fazed at all by the idea of XORing colors. People came up with cool graphical effects based on weird bitwise magic all the time.</p>
<p>The Super Nintendo&#8217;s graphics processor, in particular, had some truly bizarre features.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-442623">
				<div id="div-comment-442623" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">kokorozashi</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20061113-11/?p=29033#comment-442623">
			November 14, 2006 at 7:27 pm</a>		</div>

		<p>One thing I&#8217;d like to see covered (and yes I know this is the wrong place for suggestions, but for this suggestion I suspect Raymond&#8217;s suggestion box is also the wrong place) is a discussion of why such operations don&#8217;t seem to be present at all in GDI+ and what one is supposed to do instead. I have some vague ideas but no practical experience. I recently wrote my own blitter to do what I used to know on the Mac as deep masking, but I have a feeling that was not the best approach.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-442703">
				<div id="div-comment-442703" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Cheong</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20061113-11/?p=29033#comment-442703">
			November 14, 2006 at 11:35 pm</a>		</div>

		<p>So, this is why System.Drawing.Graphics object is not applicable to System.Drawing.Image of indexed image formats like GIF.</p>

		
				</div>
		</li><!-- #comment-## -->
		</ol><!-- .comment-list -->

		<div class="navigation pagination">
					</div>

	
			<p class="no-comments">Comments are closed.</p>
<!-- COMMENTS END -->
</div></td></tr></table>