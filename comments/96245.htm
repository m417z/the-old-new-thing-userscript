<table class="commenttable" cellspacing="0" cellpadding="0"><tr><td><div class="commentdiv"><div class="commentdivhdr">
<!-- COMMENTS START -->
Comments (19)	</div>

	
			<div class="navigation pagination clear-both">
					</div>

		<ol class="comment-list">
					<li class="comment even thread-even depth-1 parent" id="comment-1297975">
				<div id="div-comment-1297975" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://geelaw.blog/' rel='external nofollow' class='url'>GL</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20170529-00/?p=96245#comment-1297975">
			May 29, 2017 at 8:24 am</a>		</div>

		<p>Reminder: The `data:` was eaten again! BTW the buttons have strange layout.</p>

		
				</div>
		<ol class="children">
		<li class="comment byuser comment-author-oldnewthing bypostauthor odd alt depth-2 parent" id="comment-1297976">
				<div id="div-comment-1297976" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Raymond+Chen+-+MSFT' rel='external nofollow' class='url'>Raymond Chen - MSFT</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20170529-00/?p=96245#comment-1297976">
			May 29, 2017 at 9:35 am</a>		</div>

		<p>Ugh. The server software apparently thinks that DIVs are always block elements (even when set to inline), so it randomly inserts P elements. Will see what I can do to fool it.</p>

		
				</div>
		<ol class="children">
		<li class="comment even depth-3 parent" id="comment-1297985">
				<div id="div-comment-1297985" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Martin Bonner</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20170529-00/?p=96245#comment-1297985">
			May 29, 2017 at 11:44 am</a>		</div>

		<p>If you want an inline DIV, could you just call it SPAN?  (Or is there some subtle difference.)</p>

		
				</div>
		<ol class="children">
		<li class="comment byuser comment-author-oldnewthing bypostauthor odd alt depth-4 parent" id="comment-1298015">
				<div id="div-comment-1298015" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Raymond+Chen+-+MSFT' rel='external nofollow' class='url'>Raymond Chen - MSFT</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20170529-00/?p=96245#comment-1298015">
			May 29, 2017 at 2:25 pm</a>		</div>

		<p>SPANs cannot have borders by default.</p>

		
				</div>
		<ol class="children">
		<li class="comment even depth-5" id="comment-1298066">
				<div id="div-comment-1298066" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Neil</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20170529-00/?p=96245#comment-1298066">
			May 30, 2017 at 3:20 am</a>		</div>

		<p>Presumably the same server software is preventing you from using button-like elements?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-oldnewthing bypostauthor odd alt depth-5" id="comment-1298075">
				<div id="div-comment-1298075" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Raymond+Chen+-+MSFT' rel='external nofollow' class='url'>Raymond Chen - MSFT</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20170529-00/?p=96245#comment-1298075">
			May 30, 2017 at 6:50 am</a>		</div>

		<p>I used to use button-like elements, but stopped because if you clicked them, it would submit a comment!</p>

		
				</div>
		</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
		<li class="comment even depth-3 parent" id="comment-1298025">
				<div id="div-comment-1298025" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://geelaw.blog/' rel='external nofollow' class='url'>GL</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20170529-00/?p=96245#comment-1298025">
			May 29, 2017 at 7:54 pm</a>		</div>

		<p>The window art is working now but I guess there are still unmatched tags in the document. In this blog entry, the &#8220;Comments You can use simple markup such as &#8230;&#8221; is placed on the right of the main article, instead of below, like it does in all other entries.</p>

		
				</div>
		<ol class="children">
		<li class="comment byuser comment-author-oldnewthing bypostauthor odd alt depth-4" id="comment-1298265">
				<div id="div-comment-1298265" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Raymond+Chen+-+MSFT' rel='external nofollow' class='url'>Raymond Chen - MSFT</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20170529-00/?p=96245#comment-1298265">
			May 31, 2017 at 8:54 am</a>		</div>

		<p>Found it and fixed, thanks.</p>

		
				</div>
		</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
		<li class="comment even thread-odd thread-alt depth-1" id="comment-1297995">
				<div id="div-comment-1297995" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Roman</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20170529-00/?p=96245#comment-1297995">
			May 29, 2017 at 12:14 pm</a>		</div>

		<p>But why did it stop working, though? :-)</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-iboyd odd alt thread-even depth-1" id="comment-1298005">
				<div id="div-comment-1298005" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/IanBoyd' rel='external nofollow' class='url'>IanBoyd</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20170529-00/?p=96245#comment-1298005">
			May 29, 2017 at 1:56 pm</a>		</div>

		<p>I use:</p>
<p>    if (IsDebuggerPresent())<br />
       DebugBreak();</p>
<p>I took the cue from the Application Verifier, which throws OutputDebugString followed by a DebugBreak to get your attention when it&#8217;s found something wrong.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-odd thread-alt depth-1 parent" id="comment-1298045">
				<div id="div-comment-1298045" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">henke37</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20170529-00/?p=96245#comment-1298045">
			May 29, 2017 at 9:57 pm</a>		</div>

		<p>I could&#8217;ve sworn that there was indeed a default exception handler for this one. That silently swallowed it. Must&#8217;ve been self delusion at its finest.</p>

		
				</div>
		<ol class="children">
		<li class="comment odd alt depth-2" id="comment-1298125">
				<div id="div-comment-1298125" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">laonianren</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20170529-00/?p=96245#comment-1298125">
			May 30, 2017 at 9:53 am</a>		</div>

		<p>Me too!  It&#8217;s a mass hallucination.  Perhaps we were both fooled by the &#8220;Debug&#8221; in DebugBreak?  Or it was once true?</p>
<p>I tried it on Windows 10.  Curiously, if the breakpoint happens early in WinMain the program dies silently.  After the program has fully started I get the expected &#8220;&#8230; has stopped working&#8221; dialog.</p>

		
				</div>
		</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1 parent" id="comment-1298055">
				<div id="div-comment-1298055" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Anton</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20170529-00/?p=96245#comment-1298055">
			May 29, 2017 at 11:35 pm</a>		</div>

		<p>.NET applications have Debugger.Launch(), which seems to be rather more reliable. SSCLI doesn&#8217;t show how it works, though.</p>

		
				</div>
		<ol class="children">
		<li class="comment odd alt depth-2" id="comment-1298246">
				<div id="div-comment-1298246" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Zarat</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20170529-00/?p=96245#comment-1298246">
			May 31, 2017 at 8:32 am</a>		</div>

		<p>CoreCLR does have an implementation of .NET &#8220;Debugger.Launch&#8221; &#8211; you can follow it a bit across several files, down to &#8220;Debugger::LaunchDebuggerForUser&#8221; in src/debug/ee/debugger.cpp &#8211; in this file you can find the whole implementation spread across a lot of functions. It has fallbacks to DebugBreak, but also &#8220;knows&#8221; how to launch a &#8220;just in time debugger&#8221;.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even depth-2" id="comment-1298255">
				<div id="div-comment-1298255" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Zarat</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20170529-00/?p=96245#comment-1298255">
			May 31, 2017 at 8:36 am</a>		</div>

		<p>The part you are looking for is probably in CoreCLR in src/ToolBox/superpmi/superpmi/jitdebugger.cpp &#8220;GetDebuggerSettingInfoWorker&#8221; which reads out what debugger has been registered on the machine for &#8220;just in time debugging&#8221;</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-msn odd alt depth-2" id="comment-1298575">
				<div id="div-comment-1298575" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/poizan42' rel='external nofollow' class='url'>poizan42</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20170529-00/?p=96245#comment-1298575">
			June 3, 2017 at 2:25 pm</a>		</div>

		<p>It just uses the value Debugger from the registry key HKLM\SOFTWARE\Microsoft\Windows NT\CurrentVersion\AeDebug</p>

		
				</div>
		</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
		<li class="comment even thread-odd thread-alt depth-1 parent" id="comment-1298065">
				<div id="div-comment-1298065" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://hawk.ro' rel='external nofollow' class='url'>Mihai</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20170529-00/?p=96245#comment-1298065">
			May 30, 2017 at 2:25 am</a>		</div>

		<p>Just a curiosity: is this still done via int 3?</p>

		
				</div>
		<ol class="children">
		<li class="comment odd alt depth-2 parent" id="comment-1298225">
				<div id="div-comment-1298225" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">AlexShalimov</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20170529-00/?p=96245#comment-1298225">
			May 30, 2017 at 11:33 pm</a>		</div>

		<p>Yes, at least on VS 2012:<br />
000007FEFD4131F0  xchg        ax,ax<br />
000007FEFD4131F2  int         3<br />
000007FEFD4131F3  ret</p>

		
				</div>
		<ol class="children">
		<li class="comment even depth-3" id="comment-1298275">
				<div id="div-comment-1298275" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Someone</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20170529-00/?p=96245#comment-1298275">
			May 31, 2017 at 10:27 am</a>		</div>

		<p>DebugBreak is a function eported by kernel32.dll. Why do you think that the VisualStudio version will influence the code in that DLL?</p>

		
				</div>
		</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
		</ol><!-- .comment-list -->

		<div class="navigation pagination">
					</div>

	
			<p class="no-comments">Comments are closed.</p>
<!-- COMMENTS END -->
</div></td></tr></table>