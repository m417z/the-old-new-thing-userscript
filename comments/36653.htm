<table class="commenttable" cellspacing="0" cellpadding="0"><tr><td><div class="commentdiv"><div class="commentdivhdr">
<!-- COMMENTS START -->
Comments (41)	</div>

	
			<div class="navigation pagination clear-both">
					</div>

		<ol class="comment-list">
					<li class="comment even thread-even depth-1" id="comment-247173">
				<div id="div-comment-247173" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">David Heffernan</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050120-00/?p=36653#comment-247173">
			January 20, 2005 at 7:22 am</a>		</div>

		<p>This post would be better if the batch file actually worked.  Or even if it was in some way documented.</p>
<p>;-)</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-247193">
				<div id="div-comment-247193" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://www.iamflying.com' rel='external nofollow' class='url'>Scott</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050120-00/?p=36653#comment-247193">
			January 20, 2005 at 7:32 am</a>		</div>

		<p>The batch file doesnt work for me, has something do with %PATHTEXT% not being set, it seems.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-247253">
				<div id="div-comment-247253" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Nate</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050120-00/?p=36653#comment-247253">
			January 20, 2005 at 7:44 am</a>		</div>

		<p>It also doesn&#8217;t work if you specify an extension; &#8216;whereis xcopy&#8217; works but &#8216;whereis xcopy.exe&#8217; does not.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-247273">
				<div id="div-comment-247273" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://www.codeproject.com/script/articles/list_articles.asp?userid=152' rel='external nofollow' class='url'>Mike Dunn</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050120-00/?p=36653#comment-247273">
			January 20, 2005 at 7:46 am</a>		</div>

		<p>Works fine for me, but remember you have to leave off the extension on %1. So &quot;whereis notepad.exe&quot; won&#8217;t find anything, use &quot;whereis notepad&quot; instead.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-247293">
				<div id="div-comment-247293" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">A regular viewer</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050120-00/?p=36653#comment-247293">
			January 20, 2005 at 7:50 am</a>		</div>

		<p>I know Eric Lippert reads this blog quite often, but a considerable amount of VBScript that lies in Corporate Machines is bloat. FOR/? in CMD.EXE is very much unsung.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-247303">
				<div id="div-comment-247303" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">mschaef</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050120-00/?p=36653#comment-247303">
			January 20, 2005 at 7:51 am</a>		</div>

		<p>Ran fine for me.  Turned out to be very timely too&#8230; I had to use it to figure out which jdk a colleague&#8217;s machine was running. (so I hit the site, downloaded the script and went with it&#8230;)</p>
<p>Thanks, Raymond.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-247313">
				<div id="div-comment-247313" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">David Heffernan</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050120-00/?p=36653#comment-247313">
			January 20, 2005 at 7:51 am</a>		</div>

		<p>So it&#8217;s no use for DLLs since they aren&#8217;t included in PATHEXT.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-247343">
				<div id="div-comment-247343" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://weatherley.net' rel='external nofollow' class='url'>JamesW</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050120-00/?p=36653#comment-247343">
			January 20, 2005 at 7:55 am</a>		</div>

		<p>Does cmd.exe not have an equivalent of &#8216;which&#8217;?</p>
<p>james$ which mount_ntfs<br />
<br />/sbin/mount_ntfs</p>
<p>That just finds the executable that would run if you typed in its name &#8211; but that&#8217;s what I&#8217;d be looking for in PATH anyway.</p>
<p>@Scott &#8211; It&#8217;s %PATHEXT% (only one &#8216;T&#8217;) and that ought to be something like:<br />
<br />.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH</p>
<p>so Raymond&#8217;s script will be looking for stuff that Windows will execute too. Works for me (I named it seek.bat):</p>
<p>D:&gt;seek msdev<br />
<br />c:Program FilesMicrosoft Visual StudioCommonMSDev98BinMSDEV.COM<br />
<br />c:Program FilesMicrosoft Visual StudioCommonMSDev98BinMSDEV.EXE</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-247363">
				<div id="div-comment-247363" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://www.fleeb.com' rel='external nofollow' class='url'>fleeb</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050120-00/?p=36653#comment-247363">
			January 20, 2005 at 8:12 am</a>		</div>

		<p>To find &#8216;notepad.exe&#8217; (or anything else that specific), you could create the following batch file:</p>
<p>@echo %~$PATH:1</p>
<p>If it cannot find the file, it&#8217;ll say &#8216;ECHO is on.&#8217;.  Which, of course, is counter-intuitive.  Otherwise, it&#8217;ll print the path to the file it would execute if you just tried to run it as a command (sort of like the unix &#8216;which&#8217; command).</p>
<p>I found myself using this sort of trick a few months ago when I needed a quick-n-easy way to see if the user had installed some file somewhere from within a batch file:</p>
<p>call :mytest SpiffyApp.EXE<br />
<br />if not defined MYEXECUTABLEPATH goto :needexecutable<br />
<br />rem blah blah blah<br />
<br />rem stuff that uses MYEXECUTABLEPATH goes<br />
<br />rem in here.<br />
<br />:needexecutable<br />
<br />echo %0 may only be executed on machines with SpiffyApp installed.<br />
<br />goto :end<br />
<br />:mytest<br />
<br />set MYEXECUTABLEPATH=%~$PATH:1<br />
<br />goto :EOF<br />
<br />:end<br />
<br />endlocal<br /></p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-247373">
				<div id="div-comment-247373" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://Perriello' rel='external nofollow' class='url'>Vince</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050120-00/?p=36653#comment-247373">
			January 20, 2005 at 8:17 am</a>		</div>

		<p>Except for not including the cwd, it works great for me&#8230; I suppose you could create a temp internal path variable consisting of the current directory plus PATH. That would cover the remaining base, yes?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-247413">
				<div id="div-comment-247413" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Pavel A. Kostromitinov</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050120-00/?p=36653#comment-247413">
			January 20, 2005 at 8:27 am</a>		</div>

		<p>Oh man, once again 4nt.exe (so good in other places) turns to be incompatible with original cmd.exe</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-247473">
				<div id="div-comment-247473" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Wayne Steele</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050120-00/?p=36653#comment-247473">
			January 20, 2005 at 8:41 am</a>		</div>

		<p>Vince:<br />
<br />Here&#8217;s one that looks in your local directory as well:<br />
<br />@setlocal &amp;&amp; @set P2=.;%PATH% &amp;&amp; @for %%e in (%PATHEXT%) do @for %%i in (%1%%e) do @if NOT &quot;%%~$P2:i&quot;==&quot;&quot; echo %%~$P2:i</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-247483">
				<div id="div-comment-247483" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://lundie.ca/' rel='external nofollow' class='url'>Chris Lundie</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050120-00/?p=36653#comment-247483">
			January 20, 2005 at 8:48 am</a>		</div>

		<p>Thanks Raymond! I&#8217;ll let the MSN desktop search folks know that they&#8217;re trying too hard. (Just kidding, or am I?)</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-247513">
				<div id="div-comment-247513" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Herb</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050120-00/?p=36653#comment-247513">
			January 20, 2005 at 9:06 am</a>		</div>

		<p>Nearly identical to the one I&#8217;d puzzled out a few years back. If you want to eliminate the extension problem (allowing &quot;whereis notepad&quot; or &quot;whereis notepad.exe&quot;) you can modify it to be:</p>
<p>@for %%e in (%PATHEXT%) do @for %%i in (%~n1%%e) do @if NOT &quot;%%~$PATH:i&quot;==&quot;&quot; echo %%~$PATH:i</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-247523">
				<div id="div-comment-247523" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">lowercase josh</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050120-00/?p=36653#comment-247523">
			January 20, 2005 at 9:13 am</a>		</div>

		<p>This won&#8217;t work on old Win9x machines (that use command.com), since they don&#8217;t do the fun %~ stuff.  Poor, pitiful command.com&#8230;  :)</p>
<p>There&#8217;s also been a native win32 port of which in unxutils for a while, although you must specify the extension for that guy.</p>
<p>And if you want it to work when you add an extension, one way is to change (%1%%e) to (%~n1%%e), although that simply ignores it, along with any path you might give it.</p>
<p>fleeb:<br />
<br />@echo:%~$PATH:1<br />
<br />Though this isn&#8217;t really appropriate to shorten Raymond&#8217;s version because it&#8217;d print too many unsightly blank lines.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-247563">
				<div id="div-comment-247563" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">romanp</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050120-00/?p=36653#comment-247563">
			January 20, 2005 at 9:29 am</a>		</div>

		<p>Hmmm&#8230; I always use &quot;dir /s&quot; for this. works like a charm</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-247603">
				<div id="div-comment-247603" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Wayne Steele</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050120-00/?p=36653#comment-247603">
			January 20, 2005 at 9:44 am</a>		</div>

		<p>The problem with Dir /s is it take forever to look through a bunch of directories you&#8217;re not even using. Also, if you&#8217;ve got fiver different versions of nmake.exe on your machine, this will tell you which one is being invoked from your current environment.</p>
<p>BTW, the modified script I posted earlier seems to behave weirdly if you run it with everything on one line. This one works better:</p>
<p>@setlocal<br />
<br />@set P2=.;%PATH%<br />
<br />@for %%e in (%PATHEXT%) do @for %%i in (%1%%e) do @if NOT &quot;%%~$P2:i&quot;==&quot;&quot; echo %%~$P2:i<br /></p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-247613">
				<div id="div-comment-247613" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://weblogs.asp.net/ericlippert' rel='external nofollow' class='url'>Eric Lippert</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050120-00/?p=36653#comment-247613">
			January 20, 2005 at 9:48 am</a>		</div>

		<p>I think the point is not that the C# solution is the best way to solve this particular problem, but rather that it is a skeleton upon which can be built more utilities.</p>
<p>How would you modify your 90 character batch file to print out all files on the path with sizes greater than one meg, for example?</p>
<p>90 character batch files are great for simple tasks and throwaway code, but they&#8217;re hard to maintain, they&#8217;re hard to debug, and they&#8217;re hard to extend to any task that benefits from, say, variables that can contain numbers.<br /></p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-247683">
				<div id="div-comment-247683" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">ben</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050120-00/?p=36653#comment-247683">
			January 20, 2005 at 10:59 am</a>		</div>

		<p><a target="_new" href="http://msdn.microsoft.com/library/default.asp?url=/library/en-us/tools/tools/where.asp" rel="nofollow">http://msdn.microsoft.com/library/default.asp?url=/library/en-us/tools/tools/where.asp</a><br />
<br />Platform SDK : SDK Tools : WHERE</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-247693">
				<div id="div-comment-247693" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://www.edhanced.com/ask-mred/?q=mred-blog' rel='external nofollow' class='url'>Mr. Ed</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050120-00/?p=36653#comment-247693">
			January 20, 2005 at 11:12 am</a>		</div>

		<p>The real question is, why doesn&#8217;t the OS come with this command in the first place?<br /></p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-247713">
				<div id="div-comment-247713" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://www.spidynamics.com/products/listing/secureOBJ/' rel='external nofollow' class='url'>Tim Farley</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050120-00/?p=36653#comment-247713">
			January 20, 2005 at 11:18 am</a>		</div>

		<p>//4nt.exe&#8230;turns to be incompatible</p>
<p>Ah, but in 4NT you can do it this way:</p>
<p>@echo %@search[%1]</p>
<p>Handy translation table to be found here:<br />
<br /><a target="_new" href="http://jpsoft.com/help/batchparms.htm" rel="nofollow">http://jpsoft.com/help/batchparms.htm</a></p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-247723">
				<div id="div-comment-247723" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">A</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050120-00/?p=36653#comment-247723">
			January 20, 2005 at 11:38 am</a>		</div>

		<blockquote><p>
  Ah, but in 4NT you can do it this way:</p>
<p>Or just use the built-in WHICH command.
</p></blockquote>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-247793">
				<div id="div-comment-247793" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://spaces.msn.com/members/mpll' rel='external nofollow' class='url'>Pavel Lebedinsky</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050120-00/?p=36653#comment-247793">
			January 20, 2005 at 2:35 pm</a>		</div>

		<blockquote><p>
  The real question is, why doesn&#8217;t the OS come with this command in the first place?</p>
<p>Where.exe ships with Win2003.
</p></blockquote>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-247813">
				<div id="div-comment-247813" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">BlackTigerX</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050120-00/?p=36653#comment-247813">
			January 20, 2005 at 3:13 pm</a>		</div>

		<blockquote><p>
  but they&#8217;re hard to maintain, they&#8217;re hard to debug</p>
<p>&#8230;you are kidding right?
</p></blockquote>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-247823">
				<div id="div-comment-247823" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Eric TF Bat</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050120-00/?p=36653#comment-247823">
			January 20, 2005 at 3:23 pm</a>		</div>

		<p>Fleeb &#8211; the answer to the &quot;echo is on&quot; problem is:</p>
<p>@echo.%~$PATH:1</p>
<p>I don&#8217;t know when they put it in (it wasn&#8217;t in DOS 3), but echo followed by a dot will treat the rest of its argument literally &#8211; including leading spaces.  So that whereas</p>
<p>echo         hello</p>
<p>will print hello at the start of the line, even tho there are many spaces after the &quot;echo&quot; in that line,</p>
<p>echo.        hello</p>
<p>(with many spaces after the dot) will work as you expect.</p>
<p>(I hope this comes out in the comment.  Blog comment fields with no preview button irritate me, especially when they also do random conversions of their input.)</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-247733">
				<div id="div-comment-247733" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">J. Edward Sanchez</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050120-00/?p=36653#comment-247733">
			January 20, 2005 at 11:41 am</a>		</div>

		<p>In 4NT, echo %@search[%1] will search for *any* file on the PATH, but the following will find only executable commands (internal, external, aliases, etc.):</p>
<p>which %1</p>
<p>If you feed it a non-executable filename, it will display the assocated executable for the filename.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-247903">
				<div id="div-comment-247903" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Keith Moore</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050120-00/?p=36653#comment-247903">
			January 20, 2005 at 4:15 pm</a>		</div>

		<p>Eric &#8212; Maybe something like this:</p>
<p>@if (%_echo%)==() echo off<br />
<br />setlocal ENABLEEXTENSIONS</p>
<p>:Loop<br />
<br />for /F &quot;delims=; tokens=1*&quot; %%i in (&quot;%path%&quot;) do (set _cur=%%i&amp;set path=%%j)<br />
<br />for %%i in (&quot;%_cur%*&quot;) do if %%~zi GEQ 1048576 echo %%i<br />
<br />if not &quot;%path%&quot;==&quot;&quot; goto :Loop<br />
<br />goto :EOF</p>
<p>I know, I know &#8212; you make a very valid point. However, the task you mention (finding all files on the path greater than 1M in size) is *possible* with a batch file.</p>
<p>Honestly, I&#8217;d prefer Perl for something like this&#8230;</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-247983">
				<div id="div-comment-247983" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://www.blacksun.org.uk/' rel='external nofollow' class='url'>Paul</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050120-00/?p=36653#comment-247983">
			January 21, 2005 at 4:06 am</a>		</div>

		<p>That would be so much easier if you just used the Unix &#8216;find&#8217; command &#8211; for example, to find all files on the path larger than 2048 bytes:</p>
<p>for a in <code>echo $PATH | sed -e 's/:/ /g'</code> ; do find $a -type f -size +2k  ; done</p>
<p>I&#8217;ll freely admit there is some line noise in there, but it&#8217;s an awful lot clearer than the batch file horrors above. :-)</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-248093">
				<div id="div-comment-248093" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Mark Hampton</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050120-00/?p=36653#comment-248093">
			January 21, 2005 at 8:17 am</a>		</div>

		<p>My peeve with all but 4NT&#8217;s which command is that they ignore the HKLMsoftwaremicrosoftwindowscurrentversionApp Paths default entry for applications.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-248053">
				<div id="div-comment-248053" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://jeropa.homeip.net/wordpress/index.php?p=8' rel='external nofollow' class='url'>Anonymous</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050120-00/?p=36653#comment-248053">
			January 21, 2005 at 10:43 am</a>		</div>

		<p>Jibberish  &amp;raquo; Blog Archive   &amp;raquo; &amp;#8216;which&amp;#8217; for Windows</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-248143">
				<div id="div-comment-248143" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://www.developmentnow.com' rel='external nofollow' class='url'>Ben</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050120-00/?p=36653#comment-248143">
			January 21, 2005 at 11:08 am</a>		</div>

		<p>Well just wait until we get a real shell w/ Longhorn.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-248163">
				<div id="div-comment-248163" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">emmenjay</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050120-00/?p=36653#comment-248163">
			January 21, 2005 at 11:42 am</a>		</div>

		<p>This works like the Unix &quot;which&quot; program, rather than the &quot;whereis&quot; program.</p>
<p>The &quot;which&quot; program searches your PATH, while &quot;whereis&quot; searches a hard-coded set of common directories.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-248303">
				<div id="div-comment-248303" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Muck</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050120-00/?p=36653#comment-248303">
			January 22, 2005 at 10:23 am</a>		</div>

		<p>Ben, you can have a real shell *right now*. <a target="_new" href="http://www.cygwin.com/" rel="nofollow">http://www.cygwin.com/</a></p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-248493">
				<div id="div-comment-248493" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://www.codeproject.com/script/articles/list_articles.asp?userid=152' rel='external nofollow' class='url'>Mike Dunn</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050120-00/?p=36653#comment-248493">
			January 23, 2005 at 11:51 pm</a>		</div>

		<p>4NT is Da Bomb(tm) and it&#8217;s my command prompt of choice. Little things like list (quick file viewer) select (operate on a bunch of files at once, picking them from a menu), and a better for loop make life so much nicer.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-248583">
				<div id="div-comment-248583" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Anonymous Coward</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050120-00/?p=36653#comment-248583">
			January 24, 2005 at 7:12 am</a>		</div>

		<p>Second the <a target="_new" href="http://www.cygwin.com" rel="nofollow">http://www.cygwin.com</a> comment&#8230;I like to put the bin dir in my path and mix Windows and bash scripting. Doing &quot;dir /s&quot; seems to be way faster than the Cygwin &quot;find&quot; equivalent, but for grovelling through text, grep/awk/perl/python can&#8217;t be beat.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-248543">
				<div id="div-comment-248543" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://weblogs.asp.net/oldnewthing/archive/2005/01/24/359496.aspx' rel='external nofollow' class='url'>The Old New Thing</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050120-00/?p=36653#comment-248543">
			January 24, 2005 at 10:00 am</a>		</div>

		<p>Windows Services for Unix is available for free download.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-248943">
				<div id="div-comment-248943" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Remmargorp Laer A Ton</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050120-00/?p=36653#comment-248943">
			January 24, 2005 at 5:51 pm</a>		</div>

		<p>If you are on adventurous mood, you can always write a C# code with some interop that sequentially scans the MFT when HDD is found, skipping some less important data (there must be some, how else MFT is so big). You would still need a minifilter to get notifications of changes, as I suspect the filesystemwatcher may not be entirely up for the task &#8211; or could it be? Then you just need to write some code that keeps certain percentage of the beginning of the file/path index in memory, should it take too much memory, one can store compressed stream of it and start reading it from the pos that one in the memory ends parallel to using lucene.net to fuzzy match the part of the index on memory to your query.</p>
<p>Or is there a flaw somewhere in this design? The performance and fuzzy matching possibilities should be enough for you average 2 TB workstation like mine. Should do until we get the better one in LongHorn.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-249213">
				<div id="div-comment-249213" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://www.raboof.com/' rel='external nofollow' class='url'>Atif Aziz</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050120-00/?p=36653#comment-249213">
			January 26, 2005 at 12:04 am</a>		</div>

		<p>This is a cool example indeed, Raymond. </p>
<p>For those looking to include DLLs in the search, this can be done by simply modifying the outermost FOR loop as follows: </p>
<p>@for %%e in (%PATHEXT%;.dll) do &#8230; </p>
<p>Actually, to benefit from precise and already present funtionality in the OS that searches for binaries, one can create a tiny executable that wraps the SearchPath API. This is what I have done in a tool called FindPath that can be found here: </p>
<p><a target="_new" href="http://www.raboof.com/projects/findpath/findpath.aspx" rel="nofollow">http://www.raboof.com/projects/findpath/findpath.aspx</a> </p>
<p>The SearchPath API, and therefore the FindPath tool, actually look in more locations than just the PATH. See the following MSDN documentation on SearchPath for details: </p>
<p><a target="_new" href="http://msdn.microsoft.com/library/en-us/fileio/base/searchpath.asp" rel="nofollow">http://msdn.microsoft.com/library/en-us/fileio/base/searchpath.asp</a> </p>
<p>FindPath also goes one step further and can extract and use assembly manifests together with the Activation Context API to precisely locate the right version of a SxS-enabled DLL. This is useful for libraries like Common Controls 6.0, where doing a simple search along the PATH for COMCTL32.DLL won&#8217;t yield the right results in Windows XP and 2003.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-250143">
				<div id="div-comment-250143" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://weblogs.asp.net/oldnewthing/archive/2005/01/28/362565.aspx' rel='external nofollow' class='url'>The Old New Thing</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050120-00/?p=36653#comment-250143">
			January 28, 2005 at 1:02 pm</a>		</div>

		<p>The % pseudo-variable does the trick.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-261263">
				<div id="div-comment-261263" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://jelle.druyts.net/PermaLink.aspx?guid=e5bb3948-ee20-4e72-ac87-80d62480318d' rel='external nofollow' class='url'>Jelle Druyts</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050120-00/?p=36653#comment-261263">
			March 5, 2005 at 9:21 am</a>		</div>

		
		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-747373">
				<div id="div-comment-747373" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://www.pitadeveloper.com/blog/post/Whichbat-whereis-for-old-Unix-people-who-hack-their-Windows-something-fierce.aspx' rel='external nofollow' class='url'>PITADEV</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20050120-00/?p=36653#comment-747373">
			June 17, 2009 at 6:07 pm</a>		</div>

		<p>Which.bat &#8212; &quot;whereis&quot; for old Unix people who hack their Windows something fierce</p>

		
				</div>
		</li><!-- #comment-## -->
		</ol><!-- .comment-list -->

		<div class="navigation pagination">
					</div>

	
			<p class="no-comments">Comments are closed.</p>
<!-- COMMENTS END -->
</div></td></tr></table>