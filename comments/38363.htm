<table class="commenttable" cellspacing="0" cellpadding="0"><tr><td><div class="commentdiv"><div class="commentdivhdr">
<!-- COMMENTS START -->
Comments (35)	</div>

	
			<div class="navigation pagination clear-both">
					</div>

		<ol class="comment-list">
					<li class="comment even thread-even depth-1" id="comment-197663">
				<div id="div-comment-197663" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Jack Mathews</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040723-00/?p=38363#comment-197663">
			July 23, 2004 at 7:44 am</a>		</div>

		<p>Man, I <em>really wish</em> that CreateProcess had flags for if you want to fill out PROCESS_INFORMATION (starting with NOT filling them out by default)</p>
<p>About two weeks ago I looked through our codebase and found <em>so</em> many instances of it being done wrong (not CloseHandling threads and processes).  Then I looked a popular competing compiler and noticed it had thousands of handles open.  Sure enough, they were zombie threads from spawning the command line compiler.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-197673">
				<div id="div-comment-197673" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://www.stevex.org/dottext' rel='external nofollow' class='url'>Steve Tibbett</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040723-00/?p=38363#comment-197673">
			July 23, 2004 at 8:09 am</a>		</div>

		<p>This is one of my biggest complaints about Windows &#8211; tasks that I cannot kill.</p>
<p>This problem doesn&#8217;t seem to exist on the various Unix architectures &#8211; how is the interaction between processes and drivers different on Unix such that it&#8217;s possible to &quot;always&quot; kill a process there, compared to how it is on Windows?</p>
<p>Thanks<br />
<br /> &#8211; Steve<br /></p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-197683">
				<div id="div-comment-197683" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://www.stevex.org/dottext' rel='external nofollow' class='url'>Steve Tibbett</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040723-00/?p=38363#comment-197683">
			July 23, 2004 at 8:11 am</a>		</div>

		<p>Actually come to think of it what I run into more commonly are tasks that I cannot kill because I&#8217;m apparently not allowed to.  Or tasks whose priority I&#8217;m not allowed to change.</p>
<p>For example, EverQuest is a CPU hog, so I&#8217;d like to lower it&#8217;s priority.  Task manager says access is denied.  I&#8217;m logged in with Admin rights.  Why does this happen?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-197693">
				<div id="div-comment-197693" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Michael Hoffman</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040723-00/?p=38363#comment-197693">
			July 23, 2004 at 8:22 am</a>		</div>

		<p>Run the command &quot;at TIME /interactive taskmgr&quot; where TIME is one minute from now. At that time a Task Manager with SYSTEM privileges instead of your privileges will run. Then you can do all sorts of ill-advised things like change the priority of CSRSS.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-197703">
				<div id="div-comment-197703" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">DrPizza</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040723-00/?p=38363#comment-197703">
			July 23, 2004 at 8:25 am</a>		</div>

		<p>&quot;This problem doesn&#8217;t seem to exist on the various Unix architectures &#8211; how is the interaction between processes and drivers different on Unix such that it&#8217;s possible to &quot;always&quot; kill a process there, compared to how it is on Windows? &quot;<br />
<br />On all the *nix OSes I use (Linux, Solaris, AIX), there&#8217;s the same issue; you can&#8217;t kill something if it&#8217;s inside the kernel.  I would imagine for the same reason.</p>
<p>In either case it happens extremely rarely.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-197723">
				<div id="div-comment-197723" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Cooney</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040723-00/?p=38363#comment-197723">
			July 23, 2004 at 8:29 am</a>		</div>

		<blockquote><p>
  This problem doesn&#8217;t seem to exist on the various Unix architectures</p>
<p>You still have zombie processes on unix &#8211; they show up as status Z on top. I wonder why taskman doesn&#8217;t offer that sort of info.
</p></blockquote>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-197733">
				<div id="div-comment-197733" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">James Day</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040723-00/?p=38363#comment-197733">
			July 23, 2004 at 9:43 am</a>		</div>

		<p>Start Everquest with a batch file like this:</p>
<p>start /belownormal orion95.exe</p>
<p>Change the priority to whatever you desire. Assuming Everquest doesn&#8217;t itself adjust priority, other tasks will get more time.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-197743">
				<div id="div-comment-197743" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://www.sysinternals.com/ntw2k/freeware/procexp.shtml' rel='external nofollow' class='url'>Merle</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040723-00/?p=38363#comment-197743">
			July 23, 2004 at 10:26 am</a>		</div>

		<p>If you can&#8217;t kill them, try Process Explorer (linked above as my &quot;name&quot;).  It can kill unkillable things.</p>
<p>Taskman is just too protective.  Then again, the average user has access to taskman, and you don&#8217;t want the average user to kill off things like winlogon&#8230;</p>
<p>I would guess that it would also indicate these processes Raymond is mentioning.  It gives you pretty good details about tasks.  What I like best (over taskman) is that you can see command-line arguments.  Very convenient, esp if you have a lot of &quot;javaw&quot; processes floating around &#8212; which is Eclipse, and which is my job?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-197753">
				<div id="div-comment-197753" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://www.valhallalegends.com' rel='external nofollow' class='url'>Skywing</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040723-00/?p=38363#comment-197753">
			July 23, 2004 at 11:09 am</a>		</div>

		<p>Actually, you could kill those types of &quot;unkillable&quot; things that you &quot;need&quot; to run taskmgr as LocalSystem to kill while logged on as an administrator if you did a bit of work.</p>
<p>The reason why administrators seemingly can&#8217;t kill some processes but LocalSystem can is because of the process security descriptor.</p>
<p>To circumvent this, you need only take ownership of the process object and then modify the security descriptor to grant yourself PROCESS_TERMINATE access.</p>
<p>Other things that will prevent a process from getting terminated include an attached debugger (kill the debugger process first).  In the debugger case, though, you will probably get a Win32 error of ERROR_ACCESS_DENIED returned from TerminateProcess (as opposed to the &quot;stuck in kernel mode due to buggy driver&quot; case, where TerminateProcess succeeds and yet appears to do nothing).</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-197773">
				<div id="div-comment-197773" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Alex Feinman</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040723-00/?p=38363#comment-197773">
			July 23, 2004 at 11:31 am</a>		</div>

		<p>Most recently I came accross &quot;unkillable&quot; process, while debugging my own video server application. The moment it activates Windows Media 9 writer object, it is impossible to kill &#8211; no way, even if started under VStudio debugger. If it crashed or had to be abnormally terminated, the process will stay in memory until the machine is rebooted. Only if WMWriter has been stopped properly the process will exit.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-197833">
				<div id="div-comment-197833" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://www.dcc.ufrj.br/~cesarb/' rel='external nofollow' class='url'>Cesar Eduardo Barros</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040723-00/?p=38363#comment-197833">
			July 23, 2004 at 3:03 pm</a>		</div>

		<blockquote><p>
  This problem doesn&#8217;t seem to exist on the various Unix architectures</p>
<p>This is wrong, the exact same problem exists in all Unix architectures.</p>
<p>The processes in the &#8216;Z&#8217; (zombie) state are not really unkillable; in fact, they have already been killed. They are waiting for the parent process to collect its return value, and have already freed almost all of its resources (the only remaining resource it has is the structure which tracks its state in the kernel &#8212; much like the &quot;process object&quot; Raymond mentioned.) They waste almost no memory, and when the parent dies, they are &quot;reparented&quot; (if the grandparent already died, the init process becomes the parent, and it will make the zombie go away).</p>
<p>The true unkillable processes are the ones in the &#8216;D&#8217; state (uninterruptible sleep). If you try to kill one (or send any other signal), the kernel will wait until it comes out of that state before killing it (or letting it handle the signal). A broken driver or hung hardware (exactly the causes Raymond mentioned) or a bug in the kernel (much rarer, I believe it&#8217;s also a possible cause on Windows, and also much rarer there) can make a process unkillable, either waiting in uninterruptible sleep for something that will never happen, or (less common) stuck in a loop in the kernel (the latter case won&#8217;t show as &#8216;D&#8217;, but as an unkillable running process using 100% CPU).</p>
<p>What happens is that (again, the same as Raymond mentioned Windows does) a process cannot be killed while in the kernel; whatever code the kernel is running will either receive a request to interrupt what it&#8217;s doing (if it&#8217;s in interruptible sleep) or will finish what it&#8217;s doing without even noticing (if it&#8217;s not waiting for anything; for instance, if you just asked it what time it is). If neither happen, the process can&#8217;t be killed.</p>
<p>A special case is the init process (the process with PID 1); it ignores the KILL signal (which cannot be ignored by any other process), and the kernel will panic (the Unix equivalent of a BSOD) if it exits (or is killed).</p>
<p>As an aside, I remember hearing that you could make notepad.exe impossible to kill via taskman by simply renaming it to winlogon.exe; is that still true, or did taskman.exe get smarter?
</p></blockquote>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-197863">
				<div id="div-comment-197863" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Anonymous Coward</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040723-00/?p=38363#comment-197863">
			July 23, 2004 at 6:57 pm</a>		</div>

		<p>The canonical example that happens on UNIX is when processes are doing i/o to an NFS server and something happens to the network.  With defaults of hard mounting, and/or 10,000 retries no amount of kill -9 gets the processes back.</p>
<p>Most UNIX code is fairly bad at checking for filesystem i/o failures (when was the last time you saw someone checking the result of close?) hence the default of hard mounting.</p>
<p>Mind you much of the Windows code I have looked at isn&#8217;t much better.  Older code was because in the days of floppy disks and small hard drives, disk full and i/o errors were more likely to happen.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-197873">
				<div id="div-comment-197873" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://www.tringali.org' rel='external nofollow' class='url'>Scott Tringali</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040723-00/?p=38363#comment-197873">
			July 23, 2004 at 7:19 pm</a>		</div>

		<p>So, if I get one of these unkillable processes, I shouldn&#8217;t worry, because it&#8217;s &lt;PRINCESS BRIDE&gt;mostly dead&lt;/PRINCESS BRIDE&gt;, right? Of course, only the truly obsessive want it gone out of their process list just because it bothers them.</p>
<p>Except&#8230;</p>
<p>There&#8217;s this feature that recycle programs.  If I try to launch Finale twice, it detects one instance is running, and raises the existing window.  Except, when it&#8217;s mostly dead, it won&#8217;t let me launch a new one.</p>
<p>So when one Finale goes mostly dead, I&#8217;m out of luck.  I can&#8217;t restart it.</p>
<p>So how do I work around that?  Ending the process via task manager gives me &quot;permission denied&quot;, and a command-line kill and kill -f don&#8217;t work either.  Even if I run the shell as Admin.</p>
<p>I&#8217;ve had to reboot many times just to clear out the &quot;mostly dead&quot; process, because I really needed it to be &quot;all dead&quot;.<br /></p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-197883">
				<div id="div-comment-197883" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Ben Cooke</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040723-00/?p=38363#comment-197883">
			July 23, 2004 at 7:19 pm</a>		</div>

		<p>Cesar,</p>
<p>If you try to kill any process named winlogon.exe, Windows 2000 task manager displays a message box explaining that it&#8217;s a critical system process and that it cannot be killed.</p>
<p>I don&#8217;t have a Windows XP system handy to test there.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-197893">
				<div id="div-comment-197893" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://weblogs.asp.net/oldnewthing/' rel='external nofollow' class='url'>Raymond Chen</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040723-00/?p=38363#comment-197893">
			July 23, 2004 at 7:40 pm</a>		</div>

		<p>I already described how to debug this problem. Use the kernel debugger to determine which driver has taken the thread hostage.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-197903">
				<div id="div-comment-197903" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Almost Anonymous</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040723-00/?p=38363#comment-197903">
			July 23, 2004 at 10:00 pm</a>		</div>

		<p>Remember folks, name your viruses winlogin.exe!!<br /></p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-197913">
				<div id="div-comment-197913" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Almost..</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040723-00/?p=38363#comment-197913">
			July 23, 2004 at 10:07 pm</a>		</div>

		<p>yes.. winlogin.exe</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-197923">
				<div id="div-comment-197923" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">qwerty</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040723-00/?p=38363#comment-197923">
			July 24, 2004 at 5:03 am</a>		</div>

		<p>Yup, I&#8217;ve got WinXP Pro SP1 and it also has a hardcoded check for &quot;winlogon.exe&quot;.  LOL</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-197963">
				<div id="div-comment-197963" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://www.tringali.org' rel='external nofollow' class='url'>Scott Tringali</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040723-00/?p=38363#comment-197963">
			July 24, 2004 at 10:07 am</a>		</div>

		<p>I don&#8217;t really mind the hung process &#8211; but how do I tell it not try to recycling a hung process, so I can start my app without rebooting or running a debugger?</p>
<p>At work, I debug programs.  At home, I just want to use Finale to print up some music.  I can&#8217;t debug it, or Windows for that matter.</p>
<p>Another example, exiting Netscape will go off in the background and do &quot;some stuff&quot;.  If I decide I need to start Netscape between the time it closes the window and it&#8217;s done grinding away at the disk, I can&#8217;t.  I click on the icon to launch, and it finds netscape.exe still running, and does nothing else.</p>
<p>How do I stop programs from recylcing themselves?  (I&#8217;m smart enough not to launch two apps at once, if I didn&#8217;t want to.)<br /></p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-197973">
				<div id="div-comment-197973" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://weblogs.asp.net/oldnewthing/' rel='external nofollow' class='url'>Raymond Chen</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040723-00/?p=38363#comment-197973">
			July 24, 2004 at 10:13 am</a>		</div>

		<p>That&#8217;s how the program was written; you&#8217;ll have to take it up with each program.</p>
<p>Windows comes with a debugger (ntsd) that I often use to connect to a wedged program to figure out why it is stuck.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-197993">
				<div id="div-comment-197993" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Nicholas Allen</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040723-00/?p=38363#comment-197993">
			July 24, 2004 at 1:42 pm</a>		</div>

		<p>Such is the tyranny of DDE.  You can set the MOZ_NO_REMOTE environment variable to 1 and your browser won&#8217;t be bothered to check for already running instances.  But running multiple instances out of the same profile is a not-at-all not-even-a-little totally unsupported scenario.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-198013">
				<div id="div-comment-198013" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Keith Moore [exmsft]</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040723-00/?p=38363#comment-198013">
			July 25, 2004 at 6:57 pm</a>		</div>

		<p>(Sorry for jumping into this thread a little late&#8230;)</p>
<p>Skywing wrote &quot;Terminating a process or thread is actually implemented as a kernel mode APC, and most drivers disable kernel mode APCs while doing processing, delaying the termination request until kernel APCs are re-enableed.&quot;</p>
<p>A more likely reason for a hung/unkillable process is that it has made an I/O request to a driver that a) pended the IRP, and b) didn&#8217;t make it cancellable first. NT&#8217;s IO manager adds a reference to the thread object that initiates the IRP, and this reference is not removed until the IRP either completes or is cancelled.</p>
<p>My Toshiba laptop has a process 00HOTKEY.EXE that responds to the goofy special-purpose buttons littering the system case. If you try to kill this process, it won&#8217;t actually go away because it&#8217;s *always* waiting for a non-cancellable IRP to complete. In those rare cases where I really want to kill it, I &quot;kill -f &lt;pid&gt;&quot;, then press one of the goofy buttons. The button press causes the pended IRP to complete, which dereferences the thread object, which dereferences the process object, which allows all of the expected cleanup to occur.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-198023">
				<div id="div-comment-198023" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Petr Kadlec</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040723-00/?p=38363#comment-198023">
			July 26, 2004 at 4:01 am</a>		</div>

		<p>Ad recycling hung processes: Some time ago, I have been solving some problems with my WLAN. As a part of the SW for the adapter, there is a GUI applet to check state of the connection, set WEP keys etc. If it hangs and you kill it, it won&#8217;t allow another instance to run. So I debugged it, found that it uses a global atom to enforce that restriction, and wrote a simple tool that just deletes that atom&#8230;</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-198033">
				<div id="div-comment-198033" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Petr Kadlec</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040723-00/?p=38363#comment-198033">
			July 26, 2004 at 4:02 am</a>		</div>

		<p>:-o Sorry, but I am reasonably sure I hit Submit only once (and no refresh, mind you) !</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-198063">
				<div id="div-comment-198063" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Qbeuek</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040723-00/?p=38363#comment-198063">
			July 26, 2004 at 7:08 am</a>		</div>

		<p>&quot;If the driver is not as well-behaved (or if the hardware that the driver is managing is acting up), it may take a long time for it to clean up the incomplete I/O. During that time, the driver holds that thread (and therefore the process that the thread belongs to) hostage.&quot;</p>
<p>I guess the built-in NetBios driver isn&#8217;t well-behaved &#8211; when trying to access a share on a turned-off machine (or through a slow link), the process becomes unkillable :-(</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-198803">
				<div id="div-comment-198803" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">rhino-x</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040723-00/?p=38363#comment-198803">
			July 27, 2004 at 3:42 pm</a>		</div>

		<p>That&#8217;s because the redirector filesystem driver is a giant black hole that sucks things in and refuses to let go.<br /></p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-199203">
				<div id="div-comment-199203" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://ilyabirman.ru' rel='external nofollow' class='url'>Ilya Birman</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040723-00/?p=38363#comment-199203">
			July 28, 2004 at 9:53 am</a>		</div>

		<p>My ATI TV Player that came on a CD with graphics card driver sometimes hangs when recording something with Digital VCR. The TV Player GUI hangs completely and you cannot kill it no way. When you kill it in taskman, it reports no error. You just press &quot;yes, i&#8217;m really sure i want to kill it&quot; and the confirm dialog closes. The process remains in the list. The WINDOW remains on the screen. It&#8217;s very funny if it&#8217;s in always on top mode, because since this moment the only thing you can do to be able to work with your system is reboot. This is not about hung drivers, because, as I have already said, the WINDOW is still always-on-top!</p>
<p>So what can I do with it? Is there a magic &quot;kill -something&quot; to kill it?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-199483">
				<div id="div-comment-199483" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Norman Diamond</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040723-00/?p=38363#comment-199483">
			July 28, 2004 at 6:13 pm</a>		</div>

		<p>7/28/2004 9:53 AM Ilya Birman</p>
<p>&gt; The WINDOW remains on the screen.</p>
<p>Can you minimize the window?  In my experience the Windows GUI can force some hung application windows to minimize even without the application&#8217;s consent, though with others it doesn&#8217;t.  One of Mr. Chen&#8217;s postings a few months ago touched on this.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-199833">
				<div id="div-comment-199833" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Jason</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040723-00/?p=38363#comment-199833">
			July 29, 2004 at 6:07 pm</a>		</div>

		<p><a target="_new" href="http://www.microsoft.com/resources/documentation/Windows/XP/all/reskit/en-us/Default.asp?url=/resources/documentation/Windows/XP/all/reskit/en-us/prmb_tol_wqsv.asp" rel="nofollow">http://www.microsoft.com/resources/documentation/Windows/XP/all/reskit/en-us/Default.asp?url=/resources/documentation/Windows/XP/all/reskit/en-us/prmb_tol_wqsv.asp</a></p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-200673">
				<div id="div-comment-200673" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://www.clustertech.it/blog/archive/2004/08/03/240.aspx' rel='external nofollow' class='url'>Maurizio Tammacco Blog</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040723-00/?p=38363#comment-200673">
			August 3, 2004 at 10:54 am</a>		</div>

		
		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-201793">
				<div id="div-comment-201793" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://www.sibelius.com' rel='external nofollow' class='url'>Ander</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040723-00/?p=38363#comment-201793">
			August 6, 2004 at 2:18 pm</a>		</div>

		<p>Scott Tringali&gt; If I try to launch Finale twice, it detects one instance is running, and raises the existing window&#8230;</p>
<p>Why would you want to run Finale even once? Haven&#8217;t you tried Sibelius?<br /></p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-240803">
				<div id="div-comment-240803" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://chrisoverbeek.com/crashblog/archive/0001/01/01/720.aspx' rel='external nofollow' class='url'>crashBlog</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040723-00/?p=38363#comment-240803">
			January 9, 2005 at 2:39 pm</a>		</div>

		
		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-244223">
				<div id="div-comment-244223" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://www.clustertech.it/blog/archive/0001/01/01/240.aspx' rel='external nofollow' class='url'>Maurizio Tammacco's Blog</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040723-00/?p=38363#comment-244223">
			January 14, 2005 at 7:59 am</a>		</div>

		
		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-457263">
				<div id="div-comment-457263" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://blogs.msdn.com/oldnewthing/archive/2006/12/29/1379914.aspx' rel='external nofollow' class='url'>The Old New Thing</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040723-00/?p=38363#comment-457263">
			December 29, 2006 at 10:00 am</a>		</div>

		<p>Random stuff.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-671123">
				<div id="div-comment-671123" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://godkillzyou.wordpress.com/2008/02/12/end-process-doesnt-end-process-in-vista-the-solution/' rel='external nofollow' class='url'>&quot;End Process&quot; Doesn&#8217;t &quot;End Process&quot; In Vista [The Solution] &laquo; In Case You&#8217;re Interested&#8230;</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20040723-00/?p=38363#comment-671123">
			September 27, 2008 at 5:04 pm</a>		</div>

		<p>PingBack from <a rel="nofollow" target="_new" href="http://godkillzyou.wordpress.com/2008/02/12/end-process-doesnt-end-process-in-vista-the-solution/" rel="nofollow">http://godkillzyou.wordpress.com/2008/02/12/end-process-doesnt-end-process-in-vista-the-solution/</a></p>

		
				</div>
		</li><!-- #comment-## -->
		</ol><!-- .comment-list -->

		<div class="navigation pagination">
					</div>

	
			<p class="no-comments">Comments are closed.</p>
<!-- COMMENTS END -->
</div></td></tr></table>