<table class="commenttable" cellspacing="0" cellpadding="0"><tr><td><div class="commentdiv"><div class="commentdivhdr">
<!-- COMMENTS START -->
Comments (4)	</div>

	
			<div class="navigation pagination clear-both">
					</div>

		<ol class="comment-list">
					<li class="comment even thread-even depth-1" id="comment-1301445">
				<div id="div-comment-1301445" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Kevin Fee</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20170705-00/?p=96535#comment-1301445">
			July 5, 2017 at 1:38 pm</a>		</div>

		<p>I followed the link to Joe Duffy&#8217;s blog, which had a link back to your blog. On that page (&#8220;A high waiter count on a free critical section may indicate a lock convoy&#8221; which has its comments closed) there&#8217;s another link (&#8220;about lock convoys&#8221;) which 404s.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1 parent" id="comment-1301467">
				<div id="div-comment-1301467" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Neil</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20170705-00/?p=96535#comment-1301467">
			July 6, 2017 at 3:18 am</a>		</div>

		<p>&#8220;If shared readers arrive when there is a waiting writer, they will queue up behind the writer&#8221;</p>
<p>&#8220;in the time between the last reader exits and the exclusive waiter acquires, a totally unrelated thread might come in and steal the lock&#8221;</p>
<p>So when the last reader exits, the lock forgets that it has a waiting writer?</p>

		
				</div>
		<ol class="children">
		<li class="comment byuser comment-author-oldnewthing bypostauthor even depth-2 parent" id="comment-1301475">
				<div id="div-comment-1301475" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Raymond+Chen+-+MSFT' rel='external nofollow' class='url'>Raymond Chen - MSFT</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20170705-00/?p=96535#comment-1301475">
			July 6, 2017 at 5:09 am</a>		</div>

		<p>When the last reader exits, the waiting writer is woken. At this point, the writer is no longer waiting (it is running and racing to acquire the lock), so the &#8220;shared readers queue behind a waiting writer&#8221; rule does not apply.</p>

		
				</div>
		<ol class="children">
		<li class="comment odd alt depth-3" id="comment-1301505">
				<div id="div-comment-1301505" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://skuldwyrm.no/' rel='external nofollow' class='url'>Roger HÃ¥gensen</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20170705-00/?p=96535#comment-1301505">
			July 6, 2017 at 6:57 pm</a>		</div>

		<p>And I assume the Writer gets a failed lock and then gets back in the queue (most likely).</p>

		
				</div>
		</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
		</ol><!-- .comment-list -->

		<div class="navigation pagination">
					</div>

	
			<p class="no-comments">Comments are closed.</p>
<!-- COMMENTS END -->
</div></td></tr></table>