<table class="commenttable" cellspacing="0" cellpadding="0"><tr><td><div class="commentdiv"><div class="commentdivhdr">
<!-- COMMENTS START -->
Comments (40)	</div>

	
			<div class="navigation pagination clear-both">
					</div>

		<ol class="comment-list">
					<li class="comment byuser comment-author-matteo even thread-even depth-1" id="comment-811983">
				<div id="div-comment-811983" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Matteo+Italia' rel='external nofollow' class='url'>Matteo Italia</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20100216-00/?p=14923#comment-811983">
			February 16, 2010 at 7:21 am</a>		</div>

		<p>These are quite common &quot;vulnerabilities&quot;; I remember that few years ago a self-proclaimed, 16-years-old &quot;security expert&quot;, discovered an incredible security vulnerability of the Windows firewall: if you&#8217;re an administrator, it can be configured and even shut down with some shell commands.</p>
<p>And this person went on TV several times.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-nathan_works odd alt thread-odd thread-alt depth-1" id="comment-811993">
				<div id="div-comment-811993" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/nathan_works' rel='external nofollow' class='url'>nathan_works</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20100216-00/?p=14923#comment-811993">
			February 16, 2010 at 7:25 am</a>		</div>

		<p>Did you hear about that tracer-T program ?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-812003">
				<div id="div-comment-812003" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Kv3</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20100216-00/?p=14923#comment-812003">
			February 16, 2010 at 7:25 am</a>		</div>

		<p>Yes, but shouldn&#8217;t the bug still be checked out? I mean not as a security vulnerability, but as more of a stability bug.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-812023">
				<div id="div-comment-812023" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Marquess</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20100216-00/?p=14923#comment-812023">
			February 16, 2010 at 7:40 am</a>		</div>

		<p>@Kv3</p>
<p>It says “Yes, this is a bug, and yes it needs to be fixed” in the article.</p>
<p>Yeah, I think they got that part covered.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-812033">
				<div id="div-comment-812033" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Paul</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20100216-00/?p=14923#comment-812033">
			February 16, 2010 at 7:53 am</a>		</div>

		<p>Did they fix that one in 3.1 where you could overpower the user of another computer, launch a command prompt and delete win.com?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-812043">
				<div id="div-comment-812043" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Joe Dietz</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20100216-00/?p=14923#comment-812043">
			February 16, 2010 at 8:26 am</a>		</div>

		<p>Yes and no. &nbsp;Some security products perform a sort of UAC-style sandboxing of the administrator account, either by not allowing the administrator full administrator privileges, or by disallowing some other functionality later. &nbsp;These products typically rely on ring-0 remaining more privileged than ring-3 to enforce this. &nbsp;Of course to enforce this you have to be able to tightly control or at least monitor what ring-0 code that the ring-3 administrator is allowed to load (protected media path might be an in-box example of such a security scheme). &nbsp;At that point, ring-0 exploits become interesting from a security standpoint.</p>
<p>Of course, you could also point out that layering mandatory access control over a discretionary access control system is a fools errand, partially because drivers will always have bugs.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-812083">
				<div id="div-comment-812083" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Alexandre Grigoriev</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20100216-00/?p=14923#comment-812083">
			February 16, 2010 at 8:56 am</a>		</div>

		<p>Actually, this class of bugs (when an IOCTL to a driver is causing kernel buffer overflow) is legitimate and considered serious enough. Even though the IOCTL can only be issued from a privileged process.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-812093">
				<div id="div-comment-812093" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Marquess</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20100216-00/?p=14923#comment-812093">
			February 16, 2010 at 8:57 am</a>		</div>

		<p>They should also fix that vulnerability where they ask a user out to a drink an somehow make the latter tell his password.</p>
<p>And don&#8217;t get me started on rubber-hose cryptanalysis.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-812113">
				<div id="div-comment-812113" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">M&#233;dinoc</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20100216-00/?p=14923#comment-812113">
			February 16, 2010 at 9:24 am</a>		</div>

		<p>Actually, this may become a real vulnerability with those pesky &quot;protect copyrighted contents from the user&quot; measures: DRM requires the kernel to forbid things even to the computer administrator.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-812133">
				<div id="div-comment-812133" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">bozox</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20100216-00/?p=14923#comment-812133">
			February 16, 2010 at 9:30 am</a>		</div>

		<p><a href="http://blogs.msdn.com/oldnewthing/archive/2009/12/04/9932270.aspx" rel="nofollow"></a> Raymond&#8217;s corollary to the Godwin&#8217;s law: no matter what, someone will bring up DRM eventually.</p>
<div class=post>[<i>Second corollary: Followed by driver-signing. -Raymond</i>]</div>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-812163">
				<div id="div-comment-812163" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Nick Lamb</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20100216-00/?p=14923#comment-812163">
			February 16, 2010 at 9:44 am</a>		</div>

		<p>Security bug: A bug which affects the system security</p>
<p>System security: Defined by the user</p>
<p>Maybe the user has a program which runs with administrator privileges and calls this particular function with externally provided parameters. This may (by the function&#8217;s definition and the customer&#8217;s requirements) seem to be completely safe. But thanks to this bug, it no longer is. A security bug.</p>
<p>Therefore, all bugs are potentially security bugs. Hence the OpenBSD bug fixing policy and Linus&#8217; refusal to flag particular kernel bugs or git commits as &#8220;security&#8221;. The marketing department gets to have people who tell everyone how safe your OS is, but the technical people just have to fix bugs.</p>
<div class=post>[<i>If you write a component which <a href="http://blogs.msdn.com/oldnewthing/archive/2009/09/24/9898728.aspx" rel="nofollow">will push whatever button in the nuclear reactor control room anybody tells it to</a>, that&#8217;s not a flaw in the control room. -Raymond</i>]</div>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-812203">
				<div id="div-comment-812203" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Christian</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20100216-00/?p=14923#comment-812203">
			February 16, 2010 at 10:45 am</a>		</div>

		<p>I would be very happy if this strict idea of &quot;Admin=can load driver=can do anything&quot; would still be true.</p>
<p>And I was shocked when MS gave in to Gibson with XP SP2 and reduced the maximum amount of open TCP-connections (that are not yet established) and dumped down the raw interface so that it does not allow DDOS over this.</p>
<p>Not only is this against the priciple behind this blog posting (installing winpcap to inject packets is possible on vista64 as far as I know and nobdy filters anything away) but also against the interest of the owner of the pc (with the filesharing software making lots of outbound connections ;-) &nbsp;), just to protect random targets on the internet.</p>
<p>Too bad, that MS gave in</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-812233">
				<div id="div-comment-812233" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Nick</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20100216-00/?p=14923#comment-812233">
			February 16, 2010 at 12:15 pm</a>		</div>

		<p>@bozox:</p>
<p>As a corollary to Godwin, does the person who brings up DRM also lose the argument?</p>
<p>Sure, this bug requires administrative access to exploit, but what if there&#8217;s a DIFFERENT bug that allows for privilege escalation? &nbsp;Now a normal user can exploit this bug as well!</p>
<p>Gosh, no wonder Windows is so terrible! Microsoft obviously needs more eyes to see these kinds of obvious problems.</p>
<div class=post>[<i>I thought I mentioned in the article that this is a bug that should get fixed. It&#8217;s not a security bug, but it should be fixed as a defense-in-depth measure. -Raymond</i>]</div>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-812243">
				<div id="div-comment-812243" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Nick</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20100216-00/?p=14923#comment-812243">
			February 16, 2010 at 12:20 pm</a>		</div>

		<p>@Christian:</p>
<p>How is it not still the case that &quot;Admin=can load driver=can do anything&quot;? &nbsp;On my Win7 machine I&#8217;m an admin, I can load a driver, and that driver runs in the kernel. &nbsp;Are you talking about requiring signed drivers on 64-bit?</p>
<p>Also, MS hardly &quot;gave in&quot; to Steve&#8217;s wild ramblings about the doom of the Internet. &nbsp;They didn&#8217;t get rid of &quot;raw sockets&quot; like he cried, and they didn&#8217;t even limit the number of open TCP connections. &nbsp;What they did limit was the number of <em>half-open</em> connections. &nbsp;Big difference. &nbsp;Poorly written peer-to-peer clients had an issue with this limit, but pretty much everything else worked fine even with it in place.</p>
<p>Not that it matters. &nbsp;The artificial limit was removed in Vista SP2 and Win7.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-812253">
				<div id="div-comment-812253" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Josh</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20100216-00/?p=14923#comment-812253">
			February 16, 2010 at 12:35 pm</a>		</div>

		<p>@Nick: The may not have gotten rid of raw sockets completely, but they totally hosed a project of mine that relied on forged return address headers and a three way protocol implemented in UDP to enable semi-anonymous file sharing without the overhead of a proxy server.</p>
<p>I can&#8217;t really blame them for it, but that won&#8217;t stop me from holding a minor grudge for making that project more annoying (the documentation of the change was hard to find at the time, so I spent quite a while trying to figure out the problem without success).</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-812263">
				<div id="div-comment-812263" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Nick</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20100216-00/?p=14923#comment-812263">
			February 16, 2010 at 12:38 pm</a>		</div>

		<p>[I thought I mentioned in the article that this is a bug that should get fixed. It&#8217;s not a security bug, but it should be fixed as a defense-in-depth measure. -Raymond]</p>
<p>Sorry, I guess I didn&#8217;t make my sarcasm clear enough. &nbsp;My point was just that the argument that your original bug was a security problem was the same as my fake argument in that post. &nbsp;I figure they&#8217;re the same thing except that in the original case the &quot;exploit&quot; is typing in the password of an administrative account.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-812373">
				<div id="div-comment-812373" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Anonymous Coward</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20100216-00/?p=14923#comment-812373">
			February 16, 2010 at 4:21 pm</a>		</div>

		<p>Whether this is a security bug depends on what about logging in as an admin changes so that the bug works. This information isn&#8217;t provided, so it&#8217;s impossible for us to judge and therefore you shouldn&#8217;t push your opinion on us as we can&#8217;t verify it.</p>
<p>And this isn&#8217;t just a theoretical objection either. There are lots of things I can&#8217;t do on my computer even when I&#8217;m logged in as an administrator without entering a password or logging in with a ‘special’ account. And processes I run don&#8217;t always have all the permissions that I have either.</p>
<div class=post>[<i>As I recall, the driver basically says &#8220;if (!UserIsAdmin()) return STATUS_ACCESS_DENIED;&#8221; -Raymond</i>]</div>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-812393">
				<div id="div-comment-812393" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">PiersH</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20100216-00/?p=14923#comment-812393">
			February 16, 2010 at 8:56 pm</a>		</div>

		<p>If this isn&#8217;t a security breach then signed-only driver loading on x64 isn&#8217;t a security feature. What is it, then?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-812413">
				<div id="div-comment-812413" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Jonathan</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20100216-00/?p=14923#comment-812413">
			February 16, 2010 at 9:42 pm</a>		</div>

		<p>PiersH: It&#8217;s a stability feature, which verifies that all drivers passed the WHQL test suite.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-812423">
				<div id="div-comment-812423" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Worf</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20100216-00/?p=14923#comment-812423">
			February 17, 2010 at 12:38 am</a>		</div>

		<p>Raw sockets wasn&#8217;t a new feature, because you could do them way back when WinSock 2 was around (Win95 era). It&#8217;s just that Winsock saw an IP header and rewrote the source address always.</p>
<p>XP was the first Windows to get rid of this, and SP2 put it back. Probably not necessary anymore since people moved to syn-cookies which made syn-flooding useless (spoofing source addresses is a necessity to syn flood. Otherwise your stack will see a syn-ack reply and do a RST, which frees up the host).</p>
<p>As for getting rid of stupid things in Vista/7, that&#8217;s more because the stack got rewritten with NDIS 6 and its new dataflow architecture.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-812463">
				<div id="div-comment-812463" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">GWO</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20100216-00/?p=14923#comment-812463">
			February 17, 2010 at 1:55 am</a>		</div>

		<p>@bozox: Raymond&#8217;s corollary to the Godwin&#8217;s law: no matter what, someone will bring up DRM eventually</p>
<p>Without getting into the ethics of DRM, it does seem to act as a counter-example to Raymond&#8217;s assertion that &#8220;You&#8217;re an administrator; you already pwn the machine.&#8221;</p>
<div class=post>[<i>By pwn, I mean &#8220;have compromised security and gained administrator level access.&#8221; -Raymond</i>]</div>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-812483">
				<div id="div-comment-812483" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Marquess</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20100216-00/?p=14923#comment-812483">
			February 17, 2010 at 2:46 am</a>		</div>

		<p>Well, there is that driver (which I won&#8217;t here), that is properly signed, and whose job is to load other drivers. Reportedly still works in Windows NT 6.1.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-812493">
				<div id="div-comment-812493" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">640k</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20100216-00/?p=14923#comment-812493">
			February 17, 2010 at 2:53 am</a>		</div>

		<blockquote><p>
  Poorly written peer-to-peer clients had an issue with this limit, but pretty much everything else worked fine even with it in place.
</p></blockquote>
<p>No, firefox also stumble on this limit when opening to many tabs to fast. I guess M$ defines this as a &quot;feature&quot;.</p>
<blockquote><p>
  The artificial limit was removed in Vista SP2 and Win7.
</p></blockquote>
<p>More info (proof) on this would be appreciated.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-812503">
				<div id="div-comment-812503" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">640k</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20100216-00/?p=14923#comment-812503">
			February 17, 2010 at 2:58 am</a>		</div>

		<blockquote><p>
  PiersH: It&#8217;s a stability feature, which verifies that all drivers passed the WHQL test suite.
</p></blockquote>
<p>No it&#8217;s not. The signed-only limit is only there to make all driver developers pay for a authenticode cert. You have to PAY to run code in ring0.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-812513">
				<div id="div-comment-812513" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">ring leader</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20100216-00/?p=14923#comment-812513">
			February 17, 2010 at 3:06 am</a>		</div>

		<p>This is why drivers should run in ring1 instead of ring0.</p>
<p>As OS/2 did.</p>
<p>As the i386 expected software to do.</p>
<p>A buggy driver should not be able to bring the system down.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-812523">
				<div id="div-comment-812523" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Marquess</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20100216-00/?p=14923#comment-812523">
			February 17, 2010 at 3:22 am</a>		</div>

		<p>@640k:</p>
<p>Last time I checked, domain certificates were sufficient.</p>
<p>@ring leader:</p>
<p>What&#8217;s that ring 1 you&#8217;re referring to there? Two of the three supported architectures for Windows NT 3.x didn&#8217;t have more than two rings!</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-812553">
				<div id="div-comment-812553" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Nick Lamb</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20100216-00/?p=14923#comment-812553">
			February 17, 2010 at 6:59 am</a>		</div>

		<p>[If you write a component which will push whatever button in the nuclear reactor control room anybody tells it to, that&#8217;s not a flaw in the control room. -Raymond]</p>
<p>At 26C3 several people demonstrated some very subtle nasty tricks that rely on bugs people like you would feel confident aren&#8217;t &#8220;security bugs&#8221;. These are great for black hats because (thanks to the kind of thinking you&#8217;ve demonstrated) they don&#8217;t tend to get patched, unlike &#8220;real&#8221; security bugs.</p>
<p>My favourite doesn&#8217;t really relate to this scenario, although it does involve a hardware driver. This a trick which requires that your victim has GigE and a particular network card which has a corruption bug when unexpectedly receiving jumbograms. The grey hat manages to deliver crafted packets through a firewall to userspace on a machine despite firewall rules that forbid any packet of that sort, and all because of this &#8220;non security&#8221; bug.</p>
<div class=post>[<i>Where did I ever say that this bug shouldn&#8217;t be fixed? For this bug to become a security issue, two things need to go wrong. Surely this takes lower priority than fixing security issues that arise when only one thing goes wrong? -Raymond</i>]</div>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-mike-dimmick odd alt thread-odd thread-alt depth-1" id="comment-812583">
				<div id="div-comment-812583" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Mike+Dimmick' rel='external nofollow' class='url'>Mike Dimmick</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20100216-00/?p=14923#comment-812583">
			February 17, 2010 at 7:28 am</a>		</div>

		<p>Unfortunately most people are still administrators on their own computers; certainly on Windows 2000 and XP, and it&#8217;s (sadly) common for them to turn UAC off, or put it in no-prompt mode, on Windows Vista and even 7.</p>
<p>It&#8217;s not much of a mitigation if very few people are running in that configuration. Chances are that some piece of regular malware &#8211; usually purporting to be a &#8216;security scanner&#8217; &#8211; will start to use the hole.</p>
<p>(Low rights regular user since 2003 &#8211; but part-time IT support at my job.)</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-812603">
				<div id="div-comment-812603" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">David Walker</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20100216-00/?p=14923#comment-812603">
			February 17, 2010 at 7:31 am</a>		</div>

		<p>@640K: &nbsp;Do you really think that making drivers be signed is for MS to make money? &nbsp;The amount of money is trivial in the scheme of things.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-812633">
				<div id="div-comment-812633" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Nick Lamb</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20100216-00/?p=14923#comment-812633">
			February 17, 2010 at 9:04 am</a>		</div>

		<p>[Where did I ever say that this bug shouldn&#8217;t be fixed? For this bug to become a security issue, two things need to go wrong. Surely this takes lower priority than fixing security issues that arise when only one thing goes wrong? -Raymond]</p>
<p>You didn&#8217;t say it shouldn&#8217;t be fixed, black hats aren&#8217;t relying on you never fixing it, they&#8217;re relying on your customers never applying the patch because the other six patches that month were labelled &quot;security fix, important&quot; and this one wasn&#8217;t so they never got to it.</p>
<p>As to priorities, those are an entirely unrelated can of worms. Accepting that all bugs can have security implications AND that it&#8217;s often easier to fix the bug than figure out the exact security implications doesn&#8217;t lead to any obvious policy about which order to fix them in. No easy answers, I&#8217;m afraid.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-812673">
				<div id="div-comment-812673" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">ring leader</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20100216-00/?p=14923#comment-812673">
			February 17, 2010 at 10:56 am</a>		</div>

		<p>@Marquess:</p>
<p>Only a few ancient NT kernels do support other architectures. Most NT kernels, all of those developed the last 10 years, only run on architectures with 4 ring, x86-32/x86-64/itanium.</p>
<div class=post>[<i>Are you saying that Windows NT should declare that it will only run on processors with 4 rings from now on? -Raymond</i>]</div>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-812683">
				<div id="div-comment-812683" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">ring leader</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20100216-00/?p=14923#comment-812683">
			February 17, 2010 at 11:10 am</a>		</div>

		<p>[Are you saying that Windows NT should declare that it will only run on processors with 4 rings from now on? -Raymond]</p>
<p>NT supports lots of hardware feautures which are not available on all supported architectures. OS/2 was ported to ppc which only have 2 rings. NT could follow it&#8217;s example.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-812723">
				<div id="div-comment-812723" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">640k</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20100216-00/?p=14923#comment-812723">
			February 17, 2010 at 11:55 am</a>		</div>

		<blockquote><p>
  Marquess: Last time I checked, domain certificates were sufficient.
</p></blockquote>
<p>The rules for drivers signing changes on regular basis. There are currently several windows oses with different requirements. The requirements are also dependant on the architecture and edition, which results in an abundance of different combinations of OSs, SPs, architectures &amp; editions.</p>
<p>Self signed certificates are not allowed any more for driver signing. Even if a domain certificate would be allowed, it requires a domain controllant. That&#8217;s another word for &quot;windows server license + server hardware&quot;. An authenticode cert is cheap compared to that.</p>
<p>No matter what you do, no matter how hard you try, if you want to run code in ring0, you will always have to pay.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-812743">
				<div id="div-comment-812743" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Nick</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20100216-00/?p=14923#comment-812743">
			February 17, 2010 at 12:41 pm</a>		</div>

		<blockquote><p>
  &gt; More info (proof) on this would be appreciated.
</p></blockquote>
<p>Have some proof: <a rel="nofollow" target="_new" href="http://support.microsoft.com/kb/969710" rel="nofollow">http://support.microsoft.com/kb/969710</a></p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-812773">
				<div id="div-comment-812773" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Marquess</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20100216-00/?p=14923#comment-812773">
			February 17, 2010 at 2:57 pm</a>		</div>

		<p>@640k</p>
<p>Windows Server is good at other things beside authorizing certificates. More importantly, when you need custom (in-house) drivers and can&#8217;t afford to run in test mode, you are probably in a situation where you are going to need a server anyway.</p>
<p>(Just checked: Server 2008 R2 Standard goes for about 680€ these days. And well worth it.)</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-812813">
				<div id="div-comment-812813" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Drak</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20100216-00/?p=14923#comment-812813">
			February 17, 2010 at 10:40 pm</a>		</div>

		<p>@Nick Lamb</p>
<p>&quot;they&#8217;re relying on your customers never applying the patch because the other six patches that month were labelled &quot;security fix, important&quot; and this one wasn&#8217;t so they never got to it.&quot;</p>
<p>And that&#8217;s why you turn update notifications on and apply the updates when it tells you they are there?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-812853">
				<div id="div-comment-812853" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">640k</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20100216-00/?p=14923#comment-812853">
			February 18, 2010 at 4:27 am</a>		</div>

		<p>You don&#8217;t enable automatic updates for server. Ever.</p>
<p>Recent patches broke, OCS, Exchange, Sharepoint. Only yo name a few server software which was incompatible with ms own patches.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-813123">
				<div id="div-comment-813123" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Drak</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20100216-00/?p=14923#comment-813123">
			February 18, 2010 at 10:29 pm</a>		</div>

		<p>Ah, but I&#8217;d say that a lot of people running Windows and getting exploits on their PCs are NOT servers, but home users.</p>
<p>And they should just turn those updates on.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-813163">
				<div id="div-comment-813163" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">GWO</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20100216-00/?p=14923#comment-813163">
			February 19, 2010 at 1:02 am</a>		</div>

		<p>[By pwn, I mean &#8220;have compromised security and gained administrator level access.&#8221; -Raymond]</p>
<p>Fair enough. &nbsp; But Adminstrators still have some checks on their activity. &nbsp;DRM means there&#8217;s a second airlock that no-one can access, behind which content providers put their content.</p>
<p>A bug that allows administrators through this content-provider-airlock is still a security bug, at least when viewed from the point of view of a content provider.</p>
<p>I don&#8217;t know if this is such a bug, but a bug that allows arbitrary code-injection into the DRM enabling parts of the kernel could conceivably easily intercept some system calls and allow people to copy content that should be non-copyable.</p>
<div class=post>[<i>Fair enough, but malware authors are not particularly interested in this second class of security flaw. -Raymond</i>]</div>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-813923">
				<div id="div-comment-813923" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Syllopsium</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20100216-00/?p=14923#comment-813923">
			February 22, 2010 at 9:12 am</a>		</div>

		<p>OS/2 never used ring 1. Primarily it used rings zero (kernel) and ring 3 (user mode).</p>
<p>In rare occasions it was also possible for OS/2 to use ring 2. This was primarily used by specially marked 16 bit IOPL (Input/Output Privilege Level) DLLs and permitted &#8216;direct&#8217; access to I/O ports. In reality there were the delights of thunking from the 32bit program to the 16 bit DLL, and then call gates and instruction trapping enforced by the kernel/processor.</p>
<p>More than you could ever possibly want to know, written by Holger Veit here : <a rel="nofollow" target="_new" href="http://www.edm2.com/0307/32-bit-io.html" rel="nofollow">http://www.edm2.com/0307/32-bit-io.html</a></p>
<p>Later on it was possible to write almost entirely 32 bit device drivers; this is a subject already *way* offtopic for here. Google it.</p>
<p>This also leads to two other points :</p>
<p>1) Comparing anything to the aberation that was OS/2 PPC is a mistake. PowerPC is not x86. OS/2 PPC was technically and commercially stilborn. OS/2 x86 from 2.x onwards consists of a lot of 16 bit assembly and an increasing amount of 32 bit code in user mode (Gpi, Win were initially 16 bit until 2.0 SP1 and 3.0 respectively). It is architecturally different than many other operating systems.</p>
<p>2) Comparing Windows security to OS/2 security is laughable. OS/2 is a single user system strongly tied to x86 architecture and with no significant security subsystem. It has more holes than swiss cheese, even with the optional, obscure &#8216;security subsystem&#8217;.</p>
<p>I loved OS/2, and used it until 1999 : far longer than anyone sane should have done. After that, I switched to NT 4.</p>
<p>OS/2 never went through the re-engineering that Windows did between 3.x 16 bit and NT, so would have died eventually (not only did NT evolve significantly, it also did it right). It was good at the time, but move on, please?</p>

		
				</div>
		</li><!-- #comment-## -->
		</ol><!-- .comment-list -->

		<div class="navigation pagination">
					</div>

	
			<p class="no-comments">Comments are closed.</p>
<!-- COMMENTS END -->
</div></td></tr></table>