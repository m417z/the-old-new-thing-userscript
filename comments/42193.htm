<table class="commenttable" cellspacing="0" cellpadding="0"><tr><td><div class="commentdiv"><div class="commentdivhdr">
<!-- COMMENTS START -->
Comments (6)	</div>

	
			<div class="navigation pagination clear-both">
					</div>

		<ol class="comment-list">
					<li class="comment even thread-even depth-1" id="comment-127653">
				<div id="div-comment-127653" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://dotsql.dyndns.org:8674/weblog/' rel='external nofollow' class='url'>Damit</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20031013-00/?p=42193#comment-127653">
			October 13, 2003 at 12:42 pm</a>		</div>

		<p>Is it because g_fMouseInClient is initialized to 0 (FALSE) ?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-127663">
				<div id="div-comment-127663" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://blogs.gotdotnet.com/raymondc/' rel='external nofollow' class='url'>Raymond Chen</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20031013-00/?p=42193#comment-127663">
			October 13, 2003 at 12:44 pm</a>		</div>

		<p>That&#8217;s half of it. But the mouse never moved, so why does it beep?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-127673">
				<div id="div-comment-127673" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://thoemmi.dyndns.org/tfr/' rel='external nofollow' class='url'>Thomas Freudenberg</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20031013-00/?p=42193#comment-127673">
			October 13, 2003 at 12:54 pm</a>		</div>

		<p>YOu explained it two weeks ago in your post &quot;Why do I get spurious WM_MOUSEMOVE messages?&quot;: &quot;Often, Windows wants to do that follow-on work even though the mouse hasn&#8217;t actually moved. The most obvious example is when a window is shown, hidden or moved.&quot;</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-127683">
				<div id="div-comment-127683" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://ian.joeuser.com' rel='external nofollow' class='url'>Ian Hanschen</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20031013-00/?p=42193#comment-127683">
			October 13, 2003 at 1:14 pm</a>		</div>

		<p>just taking a stab at it..</p>
<p>When an app calls GetMessage(), the WM not only dispatches messages from other threads and clears out the message queue, but it also checks the system input queue.  &lt;guessing part because I&#8217;ve not verified&gt; This code checks the win32thread structure for the timestamp of the last mouse message sent.  If it is 0, or does not match,  a WM_MOUSEMOVE input message with the current timestamp is pushed onto the message queue.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-127693">
				<div id="div-comment-127693" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Dmitriy Zaslavskiy</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20031013-00/?p=42193#comment-127693">
			October 13, 2003 at 1:59 pm</a>		</div>

		<p>Raymond,<br />
 Sorry for off topic question, could you blog about using user API from multiple theads, and GUI api (i.e. painting from multiple threads onto the same window). Normally user handles are scopped by desktop and so it seems that multiple threads are already using user/gui subsystems from multiple threads, yet there are some API such as DestroyWindow that require explicitly to be called from the creator thread. There are also some info about &quot;trying&quot; not creating parent/child windows from diff. threads.<br />
Could you comment on the source of all that. Is GDI/USER code multithread safe or not?<br />
Thanks in advance.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-127703">
				<div id="div-comment-127703" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://supersat.livejournal.com/' rel='external nofollow' class='url'>Karl</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20031013-00/?p=42193#comment-127703">
			October 13, 2003 at 3:29 pm</a>		</div>

		<p>I would assume Windows sends a WM_MOUSEMOVE to apps on startup if the cursor is inside the client area because some apps need to know the position of the mouse cursor whenever it is inside the client area to maintain a consistant user experience. For example, if you launch a web browser with a page that has a link directly under the mouse cursor, you&#8217;d expect the cursor to change immediately to indicate it&#8217;s a link.</p>

		
				</div>
		</li><!-- #comment-## -->
		</ol><!-- .comment-list -->

		<div class="navigation pagination">
					</div>

	
			<p class="no-comments">Comments are closed.</p>
<!-- COMMENTS END -->
</div></td></tr></table>