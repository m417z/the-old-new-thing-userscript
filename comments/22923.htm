<table class="commenttable" cellspacing="0" cellpadding="0"><tr><td><div class="commentdiv"><div class="commentdivhdr">
<!-- COMMENTS START -->
Comments (12)	</div>

	
			<div class="navigation pagination clear-both">
					</div>

		<ol class="comment-list">
					<li class="comment even thread-even depth-1" id="comment-614283">
				<div id="div-comment-614283" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Reinder</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20080331-01/?p=22923#comment-614283">
			March 31, 2008 at 2:06 pm</a>		</div>

		<p>&quot;Imagine the uproar if, in response to a misspelling, a curse word were listed as a suggested replacement.&quot;</p>
<p>I rate that DH4 (&lt;<a rel="nofollow" target="_new" href="http://www.paulgraham.com/disagree.html&gt;" rel="nofollow"></a><a href="http://www.paulgraham.com/disagree.html&#038;gt" rel="nofollow">http://www.paulgraham.com/disagree.html&#038;gt</a>;), but the logic is broken. The hidden assumption here is that all words in the dictionary must be candidates for replacements. That need not be the case. As a counterexample (DH6) check the dictionary in Mac OS X. When I type &quot;fick&quot;, it has more than 10 suggestions for me, but not <em>that</em> four-letter word. If I type that word, it does not complain about spelling.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-614303">
				<div id="div-comment-614303" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Tom</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20080331-01/?p=22923#comment-614303">
			March 31, 2008 at 2:27 pm</a>		</div>

		<p>The VirtualRegistry thing seems interesting. &nbsp;Where I work, we would like to deploy beta releases of software for customer feedback along with official releases. &nbsp;Access to application resources, COM objects and DLLs can be done side-by-side (.local or .manifest files), but that doesn&#8217;t work for the registry. &nbsp;We could make an &quot;application-beta&quot; registry key, but that seems like a poor choice since now you have to recompile the application or change some other configuration file. &nbsp;Using a virtual registry would, I think, be a great way to implement the solution.</p>
<p>Unfortunately, I&#8217;m still in XP land, so my only choice looks to be using DLL redirection with a local advapi32.dll that intercepts registry calls. &nbsp;There is a short paper on that here &lt; <a rel="nofollow" target="_new" href="http://packetstormsecurity.org/papers/win/intercept_apis_dll_redirection.pdf" rel="nofollow">http://packetstormsecurity.org/papers/win/intercept_apis_dll_redirection.pdf</a> &gt;.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-614313">
				<div id="div-comment-614313" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">MJP</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20080331-01/?p=22923#comment-614313">
			March 31, 2008 at 5:03 pm</a>		</div>

		<p>Reinder:</p>
<p>As the linked article mentions, MS Word also has the same exact behavior.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-614343">
				<div id="div-comment-614343" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Gabe</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20080331-01/?p=22923#comment-614343">
			April 1, 2008 at 2:43 am</a>		</div>

		<p>Reinder: The definition of &quot;in the dictionary&quot; is probably that the word is recognized as a word that can be misspelled and is suggested as a correction. If a spell checker does not recognize a word as misspelled and does not suggest it as a correction, the word is not in the dictionary; it is merely on the ignore list, like numbers or words with all caps might be.</p>
<p>I would say that these curse words are in the spell checker&#8217;s vocabulary, but intentionally excluded from its dictionary.</p>
<p>In other news, I would have to say that Chris Jackson&#8217;s articles are interesting in general. The app compat ones are especially interesting, as one might expect from a reader of this blog.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-614363">
				<div id="div-comment-614363" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Larry Lard</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20080331-01/?p=22923#comment-614363">
			April 1, 2008 at 8:39 am</a>		</div>

		<blockquote><p>
  I rate that DH4
</p></blockquote>
<p>Oh please, of all places, not here.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-614433">
				<div id="div-comment-614433" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">-</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20080331-01/?p=22923#comment-614433">
			April 1, 2008 at 12:23 pm</a>		</div>

		<p>I find it rather amusing that in the &quot;NTFS timestamps&quot; article, when the author saves a small file of 6792 bytes, NTFS actually manages to fragment it in two clusters. At least said clusters are just 13 megabytes far from each other.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-614603">
				<div id="div-comment-614603" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">DeFag</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20080331-01/?p=22923#comment-614603">
			April 2, 2008 at 7:31 am</a>		</div>

		<p>MS Defrag:</p>
<p>According to MS, NTFS is better than FAT because you never have to defrag. NTFS is enough advanced to prevent any fragmentation.</p>
<p>But this was only true until symantec launched it&#8217;s defrag program, then MS bundled defrag with w2k to wipe out the competition.</p>
<p>Current algorithm implemented in M$ defrag: Move (fragment as much as possible) competitor&#8217;s apps to slow places on disc.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-614723">
				<div id="div-comment-614723" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Yeti</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20080331-01/?p=22923#comment-614723">
			April 2, 2008 at 1:10 pm</a>		</div>

		<p>Misspellings and suggested replacements &#8230;</p>
<p>When I was writing my diploma thesis (in 1991, on a german Windows for Workgroups 3.11 using a then-up-to-date version of MS-Word), I incidentally discovered that its dictionary did not contain the word &quot;Maustreiber&quot; (mouse-driver) and it actually suggested &quot;masturbiere&quot; (need I translate that?) as replacement.</p>
<p>This is no joke and this behaviour persisted up to a version I used on my Win2k-Machine some years later.</p>
<blockquote><p>
  Y.
</p></blockquote>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-615183">
				<div id="div-comment-615183" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">PC-Historian</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20080331-01/?p=22923#comment-615183">
			April 3, 2008 at 1:26 pm</a>		</div>

		<p>@defrag: Don&#8217;t let history get in the way of your Microsoft-bashing. &nbsp;Symantec did not invent NTFS defrag. &nbsp;Executive Software introduced NTFS defrag, by licensing the Windows NT source code and selling a custom version (!) of Windows NT 3.51 which supported defrag. &nbsp;<a rel="nofollow" target="_new" href="http://technet.microsoft.com/en-us/sysinternals/bb897427.aspx" rel="nofollow">http://technet.microsoft.com/en-us/sysinternals/bb897427.aspx</a> &nbsp;Check Help&#8211;&gt;About in Win2K and XP, there&#8217;s a copyright notice there for Executive Software.</p>
<p>Defragmentation is especially prone to the placebo effect because of the importance that many people attach to it. &nbsp;Witness the myth that ext3 &quot;never&quot; needs defragmentation. &nbsp;What this actually means is that ext3 is designed to &quot;resist&quot; fragmentation through some preallocation heuristics.</p>
<p>This is *exactly* the same claim as was touted for NTFS back in 1993. &nbsp;The only difference is that the Linux fanboys believe it. &nbsp;My theory is that this is because Windows bundles a defragger and Linux does not.</p>
<p>(The ext3 anti-defragmentation design, incidentally, plays havoc with virtual disk compaction. &nbsp;NTFS plays much more nicely with virtual hard drive containers.)</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-615373">
				<div id="div-comment-615373" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Yuhong Bao</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20080331-01/?p=22923#comment-615373">
			April 4, 2008 at 1:51 am</a>		</div>

		<p>&quot;Executive Software introduced NTFS defrag, by licensing the Windows NT source code and selling a custom version (!) of Windows NT 3.51 which supported defrag.&quot;</p>
<p>No not a custom version of NT, Diskeeper 1.x replaced some NT system files when it is installed. Would you be able to do that today? Probably not, because of WFP.</p>
<p>Another example is OpenNT. The developers licensed NT source code to get info needed to create a replacement for a POSIX subsystem for NT. Can you do that today? Anyway, later it was renamed Interix and acquired by MS, which later renamed it as Services for UNIX. Now it is part of Server 2003 R2 and Vista Enterprise and Ultimate as Subsystems for UNIX-based Applications (SUA).</p>
<p>Another example is Citrix&#8217;s WinFrame, which was a custom version of NT 3.51 that was a terminal server. Can you do such a custom version of NT nowadays? Again Citrix licensed NT source code from MS. Later MS refused to license NT 4.0 source code to Citrix. Finally it resulted in NT 4 TSE and Citrix&#8217;s MetaFrame on top of it.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-615883">
				<div id="div-comment-615883" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Gabe</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20080331-01/?p=22923#comment-615883">
			April 5, 2008 at 2:37 am</a>		</div>

		<p>The problem with companies licensing source code and then shipping modified versions of it is that they then have to ship modified versions of every security fix and service pack that uses that code. I remember that it seemed like it took forever for Citrix to ship WinFrame service packs.</p>
<p>Of course, another problem is that it doesn&#8217;t scale. What if I want to have WinFrame and NTDefrag installed but both ship custom versions of NTOSKRNL?</p>
<p>In other words, it is not in the users&#8217; best interests to use software that is modified versions of licensed OS source code. MS should definitely license anything that requires a modified kernel so that there is a single entity coordinating kernel changes.</p>
<p>For things that don&#8217;t need to be in the kernel (like Interix), MS would probably be willing to license Windows source.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-615983">
				<div id="div-comment-615983" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Yuhong Bao</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20080331-01/?p=22923#comment-615983">
			April 5, 2008 at 4:02 pm</a>		</div>

		<p>&quot;The problem with companies licensing source code and then shipping modified versions of it is that they then have to ship modified versions of every security fix and service pack that uses that code. I remember that it seemed like it took forever for Citrix to ship WinFrame service packs.&quot;</p>
<p>Back in 1995, that was not as big of a problem as it is today, because security updates wasn&#8217;t as much of a concern.</p>
<p>BTW, that is why MS worked with Diskeeper to add built-in defrag APIs for NT 4. Diskeeper 2.x and later uses these APIs. And that is probably why MS took away the NT 4 license from Citrix. Finally an agreement with Citrix was reached that resulted in NT 4 TSE and MetaFrame.</p>

		
				</div>
		</li><!-- #comment-## -->
		</ol><!-- .comment-list -->

		<div class="navigation pagination">
					</div>

	
			<p class="no-comments">Comments are closed.</p>
<!-- COMMENTS END -->
</div></td></tr></table>