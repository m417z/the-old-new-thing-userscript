<table class="commenttable" cellspacing="0" cellpadding="0"><tr><td><div class="commentdiv"><div class="commentdivhdr">
<!-- COMMENTS START -->
Comments (15)	</div>

	
			<div class="navigation pagination clear-both">
					</div>

		<ol class="comment-list">
					<li class="comment byuser comment-author-sfmans even thread-even depth-1 parent" id="comment-1373915">
				<div id="div-comment-1373915" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/lesession' rel='external nofollow' class='url'>lesession</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20181218-00/?p=100505#comment-1373915">
			December 18, 2018 at 7:15 am</a>		</div>

		<p>With Windows 10 build 1809 there is yet a third option, Settings -&gt; Storage -&gt; Free up space now. </p>
<p>This doesn&#8217;t appear to offer access to emptying out the system restore points; should space-conscious users therefore be using all three destinations to tidy up?</p>

		
				</div>
		<ol class="children">
		<li class="comment byuser comment-author-entegygmail-com odd alt depth-2 parent" id="comment-1373945">
				<div id="div-comment-1373945" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Entegy' rel='external nofollow' class='url'>Entegy</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20181218-00/?p=100505#comment-1373945">
			December 18, 2018 at 7:34 am</a>		</div>

		<p>From what I remember from Insider builds, Disk Cleanup will be moving entirely to the Settings app and getting new features there only. The older tool should be considered deprecated now.</p>

		
				</div>
		<ol class="children">
		<li class="comment byuser comment-author-jernej-ms-live even depth-3 parent" id="comment-1374055">
				<div id="div-comment-1374055" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/ender9' rel='external nofollow' class='url'>ender9</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20181218-00/?p=100505#comment-1374055">
			December 19, 2018 at 1:40 am</a>		</div>

		<p>Which is a shame, because the new UI is awful.</p>

		
				</div>
		<ol class="children">
		<li class="comment byuser comment-author-jan-ringos odd alt depth-4" id="comment-1374075">
				<div id="div-comment-1374075" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Jan+Ringo%C5%A1' rel='external nofollow' class='url'>Jan Ringo≈°</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20181218-00/?p=100505#comment-1374075">
			December 19, 2018 at 7:23 am</a>		</div>

		<p>That can be said about everything that has moved to Settings. E.g. volume mixer recently (Insider).</p>

		
				</div>
		</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
		<li class="comment byuser comment-author-henke even thread-odd thread-alt depth-1" id="comment-1373935">
				<div id="div-comment-1373935" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Henke37' rel='external nofollow' class='url'>Henke37</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20181218-00/?p=100505#comment-1373935">
			December 18, 2018 at 7:30 am</a>		</div>

		<p>Another fun piece of metadata is the DACL data. It&#8217;s even deduplicated so that you can&#8217;t charge it against one specific file/directory most of the time.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-mzzt odd alt thread-even depth-1" id="comment-1373965">
				<div id="div-comment-1373965" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/The+MAZZTer' rel='external nofollow' class='url'>The MAZZTer</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20181218-00/?p=100505#comment-1373965">
			December 18, 2018 at 7:45 am</a>		</div>

		<p>WinDirStat will use the disk free space in addition to walking the tree. It will take the difference of the two and display a node called &#8220;Unknown Space&#8221; or something like that. Even if you run it elevated there will always be Unknown Space; probably overhead or alternate data streams or other bits you can&#8217;t count by just counting up file bytes.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-joker150491 even thread-odd thread-alt depth-1" id="comment-1373995">
				<div id="div-comment-1373995" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Joker_vD' rel='external nofollow' class='url'>Joker_vD</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20181218-00/?p=100505#comment-1373995">
			December 18, 2018 at 12:25 pm</a>		</div>

		<p>Also, some tools don&#8217;t cope too well when your filesystem is not a tree or even a DAG. Some of them are also confused by cross-volume links.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-joshudson odd alt thread-even depth-1 parent" id="comment-1374005">
				<div id="div-comment-1374005" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Joshua_______' rel='external nofollow' class='url'>Joshua_______</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20181218-00/?p=100505#comment-1374005">
			December 18, 2018 at 12:41 pm</a>		</div>

		<p>I usually alter System Volume Information to give admins read (recursively).</p>
<p>The general result is the only thing that escapes du is a nice little feature called Volume Shadow Copy. I&#8217;m told it&#8217;s great when you want it, but it&#8217;s not so great when it starts preserving copies of periodic backups and you wonder where your disk is going. At least on/off is easy.</p>

		
				</div>
		<ol class="children">
		<li class="comment even depth-2" id="comment-1374035">
				<div id="div-comment-1374035" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Anonymous</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20181218-00/?p=100505#comment-1374035">
			December 18, 2018 at 8:05 pm</a>		</div>

		(The content was deleted per user request)
		
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-aadsso-1live-com00034001d01cd865 odd alt depth-2" id="comment-1374065">
				<div id="div-comment-1374065" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Neil+Rashbrook+%28Copy+1%29' rel='external nofollow' class='url'>Neil Rashbrook (Copy 1)</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20181218-00/?p=100505#comment-1374065">
			December 19, 2018 at 3:13 am</a>		</div>

		<p>Volume shadow copies show up there for me too, assuming that the disk space tool has been given the appropriate permissions.</p>

		
				</div>
		</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
		<li class="comment byuser comment-author-alexcohn even thread-odd thread-alt depth-1 parent" id="comment-1374015">
				<div id="div-comment-1374015" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Alex+Cohn' rel='external nofollow' class='url'>Alex Cohn</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20181218-00/?p=100505#comment-1374015">
			December 18, 2018 at 12:58 pm</a>		</div>

		<p>adding up file sizes, doesn&#8217;t it miss the wasted space of partially occupied disk blocks?</p>

		
				</div>
		<ol class="children">
		<li class="comment byuser comment-author-warrenelven-ca odd alt depth-2 parent" id="comment-1374025">
				<div id="div-comment-1374025" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/warrens' rel='external nofollow' class='url'>warrens</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20181218-00/?p=100505#comment-1374025">
			December 18, 2018 at 2:36 pm</a>		</div>

		<p>Free disk space is always reported as a multiple of the cluster size.</p>
<p>If you do a &#8220;dir&#8221; at a command prompt on an NTFS partition with default cluster size, you&#8217;ll find that the &#8220;bytes free&#8221; value is always divisible by 4096, even though the reported number of bytes for the file in the directory is not.</p>

		
				</div>
		<ol class="children">
		<li class="comment byuser comment-author-alexcohn even depth-3 parent" id="comment-1374045">
				<div id="div-comment-1374045" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Alex+Cohn' rel='external nofollow' class='url'>Alex Cohn</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20181218-00/?p=100505#comment-1374045">
			December 18, 2018 at 9:47 pm</a>		</div>

		<p>&gt; The third party tool is probably calculating disk space used by walking the entire disk and adding up file sizes.</p>
<p>The question is whether this approach can provide information about the partially occupied clusters.</p>

		
				</div>
		<ol class="children">
		<li class="comment byuser comment-author-henke odd alt depth-4" id="comment-1374145">
				<div id="div-comment-1374145" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Henke37' rel='external nofollow' class='url'>Henke37</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20181218-00/?p=100505#comment-1374145">
			December 20, 2018 at 10:02 am</a>		</div>

		<p>Just a matter of asking the correct question. Just as the generic file property sheet can show both logical and effective size of files, so can your 3rd party program.</p>

		
				</div>
		</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
		<li class="comment byuser comment-author-marc-klenotic even thread-even depth-1" id="comment-1374625">
				<div id="div-comment-1374625" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='https://social.msdn.microsoft.com/profile/Marc+K+4096' rel='external nofollow' class='url'>Marc K 4096</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20181218-00/?p=100505#comment-1374625">
			December 26, 2018 at 9:16 am</a>		</div>

		<p>The best third party tools read the MFT directly.</p>

		
				</div>
		</li><!-- #comment-## -->
		</ol><!-- .comment-list -->

		<div class="navigation pagination">
					</div>

	
			<p class="no-comments">Comments are closed.</p>
<!-- COMMENTS END -->
</div></td></tr></table>