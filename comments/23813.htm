<table class="commenttable" cellspacing="0" cellpadding="0"><tr><td><div class="commentdiv"><div class="commentdivhdr">
<!-- COMMENTS START -->
Comments (20)	</div>

	
			<div class="navigation pagination clear-both">
					</div>

		<ol class="comment-list">
					<li class="comment even thread-even depth-1" id="comment-590283">
				<div id="div-comment-590283" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Good Point</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20080115-00/?p=23813#comment-590283">
			January 15, 2008 at 11:33 am</a>		</div>

		<p>I think the really interesting part would be why WM_SHOWWINDOW is not sent under those certain cirsumstances.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-590293">
				<div id="div-comment-590293" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">philq</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20080115-00/?p=23813#comment-590293">
			January 15, 2008 at 11:35 am</a>		</div>

		<p>I can&#8217;t wait for tomorrow. &nbsp;WM_WINDOWPOSCHANGING is hands-down my favorite message. &nbsp;I would say it&#8217;s everybody&#8217;s favorite, but there is a surprising lack of discussion of favorite win32 messages on the internet. &nbsp;Between WM_WINDOWPOSCHANGING and AttachThreadInput() the operating system is your oyster.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-590303">
				<div id="div-comment-590303" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Michael</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20080115-00/?p=23813#comment-590303">
			January 15, 2008 at 11:44 am</a>		</div>

		<p>Good entry as usual, but don&#8217;t you mean the opposite of &gt;&gt;&quot;If WM_WINDOWPOSCHANGED is redundant with WM_MOVE, WM_SIZE, and WM_SHOWWINDOW, then why do we have those other messages anyway?&quot;&lt;&lt; ?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-590323">
				<div id="div-comment-590323" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Stephen Eilert</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20080115-00/?p=23813#comment-590323">
			January 15, 2008 at 11:53 am</a>		</div>

		<p>@Michael</p>
<p>&quot;Good entry as usual, but don&#8217;t you mean the opposite of &gt;&gt;&quot;If WM_WINDOWPOSCHANGED is redundant with WM_MOVE, WM_SIZE, and WM_SHOWWINDOW, then why do we have those other messages anyway?&quot;&lt;&lt; ?&quot;</p>
<p>I don&#8217;t think so. If WM_WINDOWPOSCHANGED provides more information, the others are redundant and might as well not exist.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-590333">
				<div id="div-comment-590333" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Michael</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20080115-00/?p=23813#comment-590333">
			January 15, 2008 at 11:57 am</a>		</div>

		<p>Yes I get that, maybe I&#8217;m just thick headed but the first part of the sentence makes it sounds like it&#8217;s WM_WINDOWPOSCHANGED that&#8217;s redundant, which is clearly not the case.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-590343">
				<div id="div-comment-590343" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">ulric</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20080115-00/?p=23813#comment-590343">
			January 15, 2008 at 12:04 pm</a>		</div>

		<p>hum.. I&#8217;m an old-style charles-petzold kinda guy and I like the old messages. Especially since the WM_SIZE notification is generally all that a window needs. &nbsp;Move? Never needed it. &nbsp;WM_SHOWWINDOW is fine.. bizzare the client had a problem with it. &nbsp;I like simple messages.</p>
<p>btw, that sample code is a little funny, since it implies window could be both shown and hidden..</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-590363">
				<div id="div-comment-590363" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Blech</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20080115-00/?p=23813#comment-590363">
			January 15, 2008 at 12:08 pm</a>		</div>

		<p>&quot;It sort of combines the other state change notifications, WM_MOVE, WM_SIZE, and WM_SHOWWINDOW&quot;</p>
<p>I never could get my head around that. The first two I have no problem with, but WM_SHOWWINDOW? The position isn&#8217;t changing, is it? Just whether it is shown or not.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-590383">
				<div id="div-comment-590383" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Blech</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20080115-00/?p=23813#comment-590383">
			January 15, 2008 at 12:11 pm</a>		</div>

		<p>&quot;What if the window is never shown? Does this mean that the program will never initialize itself?&quot;</p>
<p>Might make sense in some cases. If a program is, for example, displaying an image but is not visible why go to the expense of loading the file? It really depends what they mean by &quot;initialize its state&quot;.</p>
<p>&quot;The WM_NCCREATE and WM_CREATE are the more traditional places to do window initialization.&quot;</p>
<p>Maybe they really did mean application, and not window.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-590393">
				<div id="div-comment-590393" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">John</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20080115-00/?p=23813#comment-590393">
			January 15, 2008 at 12:13 pm</a>		</div>

		<p>Flags like these drive me nuts, especially in the Windows API.</p>
<p>Presumably you can&#8217;t both show and hide a window at the same time, so why do you have separate flags for them? &nbsp;Also, why are some flags &quot;negative&quot; when the others are &quot;positive&quot;? &nbsp;Wouldn&#8217;t it make more sense to check for the presence of a flag rather than the lack of a flag? &nbsp;&quot;If the window was moved&quot; makes more sense than &quot;if the window was not not moved&quot;. &nbsp;This is the same thing you brought up a while ago about checkboxes with text like &quot;Enable whatever&quot; and &quot;Disable whatever&quot;. &nbsp;Very annoying.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-590403">
				<div id="div-comment-590403" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">noone in particular</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20080115-00/?p=23813#comment-590403">
			January 15, 2008 at 12:17 pm</a>		</div>

		<p>Great stuff.</p>
<p>I just now learned about the existence of WM_WINDOWPOSCHANGED, and I am doing MFC-programming for 4 years now&#8230;</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-590443">
				<div id="div-comment-590443" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">J</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20080115-00/?p=23813#comment-590443">
			January 15, 2008 at 12:49 pm</a>		</div>

		<p>&quot;Presumably you can&#8217;t both show and hide a window at the same time, so why do you have separate flags for them?&quot;</p>
<p>What if the window is neither shown nor hidden, but instead was resized? &nbsp;What value do you propose to set the SHOW flag if 1 means the window was shown and 0 means the window was hidden? &nbsp;Separate flags are essential for the design of the WM_WINDOWPOSCHANGED handler.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-590493">
				<div id="div-comment-590493" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Mike</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20080115-00/?p=23813#comment-590493">
			January 15, 2008 at 1:35 pm</a>		</div>

		<p>I don&#8217;t think it&#8217;s strange at all to do (re-)initialization when the window is shown if you use e.g. DDraw (incl. D3D) which requires it &#8211; old contents are almost certainly lost.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-590513">
				<div id="div-comment-590513" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">John</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20080115-00/?p=23813#comment-590513">
			January 15, 2008 at 2:38 pm</a>		</div>

		<p>@J: &nbsp;Oops. &nbsp;You are correct in that regard.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-590623">
				<div id="div-comment-590623" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">AK</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20080115-00/?p=23813#comment-590623">
			January 15, 2008 at 7:13 pm</a>		</div>

		<p>SWP_NOxxx flags come from SetWindowPos, has nothing to do with new flags added over time AFAIK (but, SetWindowPos should probably been implemented the other way around, where you specify a mask of valid params instead of excluding stuff, but too late for that now ofcourse)</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-590633">
				<div id="div-comment-590633" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://sarathc.wordpress.com' rel='external nofollow' class='url'>Sarath</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20080115-00/?p=23813#comment-590633">
			January 15, 2008 at 7:59 pm</a>		</div>

		<p>I&#8217;ve used this message before to detect Scrollbar available or not by GetWindowLog()</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-590643">
				<div id="div-comment-590643" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">hexatron</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20080115-00/?p=23813#comment-590643">
			January 15, 2008 at 11:47 pm</a>		</div>

		<p>I suppose if I thought about this, it would explain why, under Windows 3.0, I never used ShowWindow, but instead moved the windows off- or on-screen with MoveWindow. But I won&#8217;t.</p>
<p>I notice the WM_WINDOWPOSCHANGED documentation says all this good stuff I never knew (this message generates the WM_MOVE,etc, and you are better off reacting to these in the WM_WINDOWPOSCHANGED). It makes me think I should re-read all the Win32 documentation (never mind MFC and the outer darkness of non-C/C++ windows programming). &nbsp;Then I remember I probably only have one human lifetime at my disposal, and I&#8217;ve already squandered most of that.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-590653">
				<div id="div-comment-590653" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">hexatron</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20080115-00/?p=23813#comment-590653">
			January 16, 2008 at 12:18 am</a>		</div>

		<p>As for flag, I just did a count of the 2002 Windows SDK:</p>
<p>The include files together contain about 100,000 #defines.</p>
<p>Of these, 625 are evaluate directly as 0 (or 0L, 0x0000, etc). Of course, many more are indirectly zero (#define ZERO 0 &amp; #define HIDDENZERO ZERO)</p>
<p>The memorable one is FILE_ATTRIBUTE_NORMAL, as in</p>
<p>if(attributes &amp; FILE_ATTRIBUTE_NORMAL){</p>
<p>/// in your dreams, sucker!!!</p>
<p>}</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-590593">
				<div id="div-comment-590593" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://lambert.geek.nz/' rel='external nofollow' class='url'>Miral</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20080115-00/?p=23813#comment-590593">
			January 15, 2008 at 6:38 pm</a>		</div>

		<p>&quot;I never could get my head around that. The first two I have no problem with, but WM_SHOWWINDOW? The position isn&#8217;t changing, is it? Just whether it is shown or not.&quot;</p>
<p>Ah, but WM_SHOWWINDOW is related to the ShowWindow API, which can both show/hide and resize windows (minimising, maximising, and restoring are all size changes). &nbsp;So they are related.</p>
<p>&quot;Also, why are some flags &quot;negative&quot; when the others are &quot;positive&quot;? &nbsp;Wouldn&#8217;t it make more sense to check for the presence of a flag rather than the lack of a flag?&quot;</p>
<p>Because new flags are added over time, and existing programs won&#8217;t be providing that flag. &nbsp;Therefore &quot;flag not present&quot; must always be &quot;default behaviour&quot; and &quot;flag present&quot; must be &quot;modified behaviour&quot;. &nbsp;Sometimes the modified behaviour is telling it to do something it wasn&#8217;t doing before, other times it&#8217;s telling it to *not* do something that it was doing before.</p>
<p>So yes, it leads to non-ideal names for things, but there&#8217;s not much else you can do to maintain backwards compatibility short of defining an entire new API (which is a bit of overkill for a simple flag).</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-591073">
				<div id="div-comment-591073" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Blech</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20080115-00/?p=23813#comment-591073">
			January 17, 2008 at 12:02 pm</a>		</div>

		<blockquote><p>
  Ah, but WM_SHOWWINDOW is related to the ShowWindow API, which can both show/hide and resize windows (minimising, maximising, and restoring are all size changes). &nbsp;So they are related.
</p></blockquote>
<p>I&#8217;m related to my father, but it doesn&#8217;t mean he can get passed to all the functions I can.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-665563">
				<div id="div-comment-665563" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://blogs.msdn.com/wpfsdk/archive/2008/09/08/custom-window-chrome-in-wpf.aspx' rel='external nofollow' class='url'>Windows Presentation Foundation SDK</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20080115-00/?p=23813#comment-665563">
			September 8, 2008 at 2:05 pm</a>		</div>

		<p>Guest post by Joe Castro, WPF product team developer This document covers the design and some implementation</p>

		
				</div>
		</li><!-- #comment-## -->
		</ol><!-- .comment-list -->

		<div class="navigation pagination">
					</div>

	
			<p class="no-comments">Comments are closed.</p>
<!-- COMMENTS END -->
</div></td></tr></table>