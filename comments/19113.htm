<table class="commenttable" cellspacing="0" cellpadding="0"><tr><td><div class="commentdiv"><div class="commentdivhdr">
<!-- COMMENTS START -->
Comments (24)	</div>

	
			<div class="navigation pagination clear-both">
					</div>

		<ol class="comment-list">
					<li class="comment even thread-even depth-1" id="comment-709263">
				<div id="div-comment-709263" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Someone You Know</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090217-01/?p=19113#comment-709263">
			February 17, 2009 at 10:00 am</a>		</div>

		<p>As a former bus driver, I can tell you that using the odometer to determine the bus&#8217;s position also requires that the odometer actually be working. For some bus companies this is a non-trivial assumption.</p>
<p>I wonder how they handle things like detours due to road work and emergencies. If the dispatchers can modify the routes the central computer is referencing in real time, then this is a really cool toy that the bus company I used to work for would&#8217;ve killed for.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-709303">
				<div id="div-comment-709303" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Mark (The other Mark)</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090217-01/?p=19113#comment-709303">
			February 17, 2009 at 11:14 am</a>		</div>

		<p>If I were designing it, and I didn&#8217;t, I&#8217;d have it &quot;resync&quot; data at certain points. It has to at some point, even lane changes would be enough to eventually corrupt the data is this was never done, but even daily resyncs would be enough to prevent that.</p>
<p>Given that when I rode a bus regularly, the DC Metro had a computerized voice announcing upcoming stops. The bus as a whole should have the data to transmit which stops it makes, which would correct any errors in tracking a detour would cause before more then one or a few stops receive bad data. Even better, the bad data would be of the good news variety- Changing a &quot;Just missed it&quot; to a &quot;Just barely caught it&quot;.</p>
<p>Of course, the problem might not occur enough to warrant correction, or the data feed might not be flexible to include the stop information, etc. But it&#8217;s an interesting problem.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-709323">
				<div id="div-comment-709323" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">James Schend</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090217-01/?p=19113#comment-709323">
			February 17, 2009 at 11:25 am</a>		</div>

		<p>Is there some reason none of these bus-tracking sites ever track SoundTransit buses?</p>
<div class=post>[<i>Um, i&#8217;m seeing ST buses on the site, for example, <a href="http://onebusaway.org/where/text/stop.action?id=71336" rel="nofollow">there&#8217;s an eastbound 545 arriving in 6 minutes</a>. -Raymond</i>]</div>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-709383">
				<div id="div-comment-709383" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://www.thehappymoron.com/blog' rel='external nofollow' class='url'>Scott</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090217-01/?p=19113#comment-709383">
			February 17, 2009 at 1:30 pm</a>		</div>

		<p>If you can detour to a later stop and catch the bus with more time to spare, why not make that stop your regular stop?</p>
<p>You can leave later and reduce your overall transit time.</p>
<div class=post>[<i>I have to go up a steeper hill to get to the later stop. -Raymond</i>]</div>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-709433">
				<div id="div-comment-709433" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Dave</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090217-01/?p=19113#comment-709433">
			February 17, 2009 at 2:43 pm</a>		</div>

		<p>argh. &nbsp;ever since this thing launched, mybus.org (whose data it uses) has been unusable because of load.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-709463">
				<div id="div-comment-709463" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://onebusaway.org' rel='external nofollow' class='url'>Brian Ferris</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090217-01/?p=19113#comment-709463">
			February 17, 2009 at 3:35 pm</a>		</div>

		<p>I&#8217;m the lead developer on OneBusAway. &nbsp;Thanks for the great post, but a couple comments:</p>
<p>1) We only track King County routes and ST routes operating in King County, since those routes are actually operated by KC Metro directly. &nbsp;We&#8217;re working to find data feeds for other systems, but obviously we can&#8217;t track buses that don&#8217;t have tracking equipment.</p>
<p>2) We are working on integrating service alerts to handle things like construction and adverse weather reroutes. &nbsp;We had basic support for canceled and rerouted routes during the great Snowpocalypse of &#8217;08, but it needs a lot of work.</p>
<p>3) I&#8217;m embarrassed to admit that the map interface (<a href="http://onebusaway.org/where/standard/" target=_new rel=nofollow rel="nofollow">http://onebusaway.org/where/standard/</a>) is actually broken for IE at the moment. &nbsp;We&#8217;re working on it (<a href="http://code.google.com/p/onebusaway/issues/detail?id=110" rel="nofollow">http://code.google.com/p/onebusaway/issues/detail?id=110</a>).</p>
<p>4) OneBusAway is open source software. &nbsp;Wanna hack the transit system? &nbsp;Join us:</p>
<p><a href="http://code.google.com/p/onebusaway/" target=_new rel=nofollow rel="nofollow">http://code.google.com/p/onebusaway/</a></p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-709473">
				<div id="div-comment-709473" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://supersat.livejournal.com/' rel='external nofollow' class='url'>Karl</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090217-01/?p=19113#comment-709473">
			February 17, 2009 at 3:36 pm</a>		</div>

		<p>The automatic vehicle location system is actually slightly more sophisticated than that. There are a bunch of battery-powered transmitters scattered throughout King County (see <a rel="nofollow" target="_new" href="http://www5.metrokc.gov/sdc/DataImages/EMITTER.jpg" rel="nofollow">http://www5.metrokc.gov/sdc/DataImages/EMITTER.jpg</a> for a map) that buses use to correct their location, so minor drifts in the odometer (or reroutes) are automatically corrected.</p>
<p>Rumor has it that they&#8217;ll eventually be switching to a GPS-based system, which will let MyBus/BusView/One Bus Away work even during reroutes.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-709483">
				<div id="div-comment-709483" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://onebusaway.org' rel='external nofollow' class='url'>Brian Ferris</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090217-01/?p=19113#comment-709483">
			February 17, 2009 at 3:44 pm</a>		</div>

		<p>One more comment. &nbsp;OneBusAway has actually been around for six months. &nbsp;We use the the same internal tracker feed that MyBus uses (as opposed to screen scrapping MyBus like some other tools). &nbsp;MyBus has been down since the Feb 6th service revision of Metro KC routes. &nbsp;I&#8217;m not sure what happened with the revision to cause problems, but I agree that MyBus has not been the same since.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-709543">
				<div id="div-comment-709543" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Duke of New York</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090217-01/?p=19113#comment-709543">
			February 17, 2009 at 4:45 pm</a>		</div>

		<p>Neat. I wanted to set up something like this when I arrived in Seattle in 2005, but didn&#8217;t have a dedicated machine to run it on.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-709573">
				<div id="div-comment-709573" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Siebe Tolsma</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090217-01/?p=19113#comment-709573">
			February 17, 2009 at 5:29 pm</a>		</div>

		<p>The comments above all seem to have one thing in common: A very complicated system to do what a human could do much better, and probably a lot cheaper as well.</p>
<p>What&#8217;s wrong with a list of stops and having the bus driver push a button which plays whatever announcement audio track there is for the upcoming stop?</p>
<div class=post>[<i>How does that let me find out how many minutes away my bus is when I&#8217;m standing at the bus stop? -Raymond</i>]</div>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-709583">
				<div id="div-comment-709583" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Absotively</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090217-01/?p=19113#comment-709583">
			February 17, 2009 at 6:13 pm</a>		</div>

		<p>Siebe Tolsma: If you want to simplify it that far, the traditional solution is to provide the driver with a microphone. &nbsp;Why would you put in a pre-recorded announcement system if you want to get rid of &quot;very complicated system[s] to do what a human could do much better, and probably a lot cheaper as well&quot;?</p>
<p>This system looks very cool. &nbsp;I&#8217;d love to have this in Edmonton, where the buses are often a minute or two late or &#8211; much worse &#8211; early.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-709603">
				<div id="div-comment-709603" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Mark</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090217-01/?p=19113#comment-709603">
			February 17, 2009 at 6:37 pm</a>		</div>

		<p>One of my friends worked on ones of these systems. &nbsp;He and the company he worked for spent months trying to track down a &#8216;ghost bus&#8217; that claimed it was going to arrive in a few minutes, then seconds etc but never did.</p>
<p>Eventually they tracked it down to another bus company using the same frequencysystem, but the bus was going down the motorway, not stopping in the town.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-709613">
				<div id="div-comment-709613" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Siebe Tolsma</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090217-01/?p=19113#comment-709613">
			February 17, 2009 at 6:50 pm</a>		</div>

		<p>[How does that let me find out how many minutes away my bus is when I&#8217;m standing at the bus stop? -Raymond]</p>
<p>It wouldn&#8217;t &#8212; I was commenting on the &#8220;upcoming stop&#8221; ideas, switching lanes, detours, when the system has to announce the next stop and so on. I may have read them in a different (wrong) context.</p>
<div class=post>[<i>I went back and re-read the comments that preceded yours, and the only two that discussed detours/lane switches, etc. are the first two, which were both in the context of keeping bus prediction data in sync. By the way, Metro buses use the even-lower-tech-than-your-suggestion &#8220;bus driver has a microphone&#8221; technique for announcing stops. -Raymond</i>]</div>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-709623">
				<div id="div-comment-709623" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">pallu</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090217-01/?p=19113#comment-709623">
			February 17, 2009 at 7:46 pm</a>		</div>

		<p>They allow you to take your bike on the bus in Seattle?! Its bad enough having to climb over prams to get off the bus without having bikes as well.</p>
<div class=post>[<i>As I noted some time ago, <a href="http://blogs.msdn.com/oldnewthing/archive/2006/07/03/655252.aspx" rel="nofollow">The bike goes on the outside of the bus</a>. -Raymond</i>]</div>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-709673">
				<div id="div-comment-709673" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Dave</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090217-01/?p=19113#comment-709673">
			February 17, 2009 at 9:32 pm</a>		</div>

		<p>brian, thanks for commenting; i freely admit that i failed the correlation-does-not-imply-causality test. &nbsp;today mybus.org was fine during off-peak times (according to my highly random sampling), but as soon as 3:45-ish came around and the first commute runs started up, it wedged wholesale. &nbsp;c&#8217;est la vie; if you build it they will come.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-709723">
				<div id="div-comment-709723" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://www.cs.washington.edu/homes/supersat/' rel='external nofollow' class='url'>Karl</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090217-01/?p=19113#comment-709723">
			February 18, 2009 at 12:21 am</a>		</div>

		<p>Dave: If MyBus is down, try King County&#8217;s version: <a rel="nofollow" target="_new" href="http://trackerloc.kingcounty.gov/" rel="nofollow">http://trackerloc.kingcounty.gov/</a>. I believe it&#8217;s virtually identical to MyBus, but is running on a better-maintained server (e.g. not one sitting beneath some grad student&#8217;s desk &#8212; MyBus IS a research project, after all!).</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-709773">
				<div id="div-comment-709773" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">David F</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090217-01/?p=19113#comment-709773">
			February 18, 2009 at 6:05 am</a>		</div>

		<p>Wow I would love something like that here.</p>
<p>Buses run on average every half hour from 9am til 6pm, with the &quot;on average&quot; being key. There&#8217;s a schedule, but it doesn&#8217;t have any significant link with reality.</p>
<p>Their &quot;online information strategy&quot; isn&#8217;t really comparable. They last year invested in &nbsp;wirelessly connected electronic signs on some of the stops, but they only display the same unrelated-to-reality schedule on printed schedule below it.</p>
<p>Plus their website, which only shows tables of the &#8216;schedules&#8217; often goes down about halfway through the month due to exceeding it&#8217;s bandwidth quota, not coming back up until the month after.</p>
<p>Not bad for a town of 40K+ people. Stop teasing me with your tales of competent mass transport operators!</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-709783">
				<div id="div-comment-709783" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">GP</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090217-01/?p=19113#comment-709783">
			February 18, 2009 at 6:14 am</a>		</div>

		<p>I&#8217;ve been actively developing a (proprietary) application for tracking buses for the last 3 years &#8211; we also have SMS, wap, web, LEDs on stations. We track our buses via GPS though &#8211; odometer&#8217;s accuracy proved much worse than GPS.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-709803">
				<div id="div-comment-709803" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Ulrich</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090217-01/?p=19113#comment-709803">
			February 18, 2009 at 7:19 am</a>		</div>

		<p>One easy way to resynchronize would be the door opening. This will (usually) happen only at bus stops, whose positions are fixed. As long as a detour did not occur since the last stop, GPS will probably not be much more accurate, considering that there is quite some variability in traffic anyway, so being a few yards more accurate will not matter.</p>
<p>We did something like that for trains a few years ago. But then, GPS is getting so cheap the savings in avoiding using it are not really worth the trouble.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-709823">
				<div id="div-comment-709823" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Mark (The other Mark)</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090217-01/?p=19113#comment-709823">
			February 18, 2009 at 10:34 am</a>		</div>

		<p>The door opening always (or almost always) occurs at Bus Stops, but you still need to figure out which stop.</p>
<p>Unlike trains, busses (At least the DC Metro area ones) do not always stop at each stop. Should there be no one at the waiting area for pickup, and no current rider signals a stop, the bus will not stop. Using only an odometer it would seem impossible to figure out the diffence between a detour and a &quot;missed&quot; stop.</p>
<p>However, as it appears that A) they have no control over the data feed, they are using a feed which someone else has made availible, and B) The data feed apparently already has built in error correction, although not as robust as some might like, the problem appears to be solved.</p>
<p>It&#8217;s still, to me, an interesting problem, in the sense of some of the old brain teaser interview questions. If you were designing such a system from the ground up, likely with the goal of minimizing hardware cost and maximizing accuracy, at the sacrifice of wiz-bang features, how would you do so?</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-709843">
				<div id="div-comment-709843" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Someone You Know</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090217-01/?p=19113#comment-709843">
			February 18, 2009 at 10:44 am</a>		</div>

		<p>@Ulrich</p>
<p>I wouldn&#8217;t want to rely on any bus systems not dedicate to providing position data to help provide position data. Although people are only supposed to get on and off a bus at bus stops, the driver might open the doors for any number of other reasons (e.g., to verbally abuse a woman who is vomiting onto the side of the bus, or to admit police officers looking for an escaped felon, both of which have happened to me) and it might end up being more hassle to correct all of those errors than to just install a GPS device.</p>
<p>Also, the positions of bus stops aren&#8217;t necessarily fixed, although that may be true in Seattle. When I was a bus driver, we had a few routes where passengers could get off anywhere along a certain stretch of road.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-709883">
				<div id="div-comment-709883" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">James Schend</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090217-01/?p=19113#comment-709883">
			February 18, 2009 at 1:02 pm</a>		</div>

		<p>Oh, interesting. It does have some SoundTransit routes&#8211; I assumed it didn&#8217;t have SoundTransit because it doesn&#8217;t have route 510. (The only one I care about.) Oh well.</p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-709923">
				<div id="div-comment-709923" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Chris Ozone</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090217-01/?p=19113#comment-709923">
			February 18, 2009 at 3:31 pm</a>		</div>

		<p>In Seattle, they are using GPS for vehicle positioning.</p>
<p>But the positioning algorithm also uses the odometer and the door state. See <a rel="nofollow" target="_new" href="http://www.init-ch.com/share/reference_english/Seattle_Reference__2_.pdf" rel="nofollow">http://www.init-ch.com/share/reference_english/Seattle_Reference__2_.pdf</a></p>

		
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-710183">
				<div id="div-comment-710183" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn">Rick</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/oldnewthing/20090217-01/?p=19113#comment-710183">
			February 19, 2009 at 8:57 pm</a>		</div>

		<p>To follow up on Karl&#8217;s comment: &nbsp;the transmitters are called signposts. &nbsp;The AVL system knows the route and knows where the signposts should be picked up. &nbsp;When the bus picks up the signal from the signpost it notifies the AVL system, which uses the known distance from the last signpost to correct the odometer. &nbsp;</p>
<p>If a bus misses a certain number of expected signposts, I believe 2 or 3, then the AVL system marks the bus as being off-route. &nbsp;When the bus starts going past the expected signposts, the AVL system decides that it is back on route and resyncs.</p>
<p>My knowledge of the AVL system is about a dozen years old, so this all depends on whether either the system or my memory has changed. &nbsp;My understanding is that they haven&#8217;t rolled out the GPS-based replacement yet.</p>
<p>It was a pretty cool system for its day. &nbsp;But it was already showing its age back in the mid-90&#8217;s.</p>

		
				</div>
		</li><!-- #comment-## -->
		</ol><!-- .comment-list -->

		<div class="navigation pagination">
					</div>

	
			<p class="no-comments">Comments are closed.</p>
<!-- COMMENTS END -->
</div></td></tr></table>